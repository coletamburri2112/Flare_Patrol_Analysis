

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Data Module &mdash; GBM Data Tools 1.1.1 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "document", "processHtmlClass": "math|output_area"}}</script>
        <script defer="defer" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Data Binning Module" href="api-binning.html" />
    <link rel="prev" title="GBM Data Tools API" href="index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> GBM Data Tools
          

          
            
            <img src="../_static/fermi_face.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                1.1.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebooks/index.html">Jupyter Notebooks</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">GBM Data Tools API</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Data Module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#primary-gbm-data-classes">Primary GBM Data Classes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#cspec">Cspec</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ctime">Ctime</a></li>
<li class="toctree-l4"><a class="reference internal" href="#gbmhealpix">GbmHealPix</a></li>
<li class="toctree-l4"><a class="reference internal" href="#poshist">PosHist</a></li>
<li class="toctree-l4"><a class="reference internal" href="#rsp">RSP</a></li>
<li class="toctree-l4"><a class="reference internal" href="#tcat">Tcat</a></li>
<li class="toctree-l4"><a class="reference internal" href="#trigdat">Trigdat</a></li>
<li class="toctree-l4"><a class="reference internal" href="#tte">TTE</a></li>
<li class="toctree-l4"><a class="reference internal" href="#scat">Scat</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#base-data-classes">Base Data Classes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#datafile">DataFile</a></li>
<li class="toctree-l4"><a class="reference internal" href="#healpix">HealPix</a></li>
<li class="toctree-l4"><a class="reference internal" href="#phaii">PHAII</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#data-class-miscellania">Data Class Miscellania</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#datacollection">DataCollection</a></li>
<li class="toctree-l4"><a class="reference internal" href="#gbmdetectorcollection">GbmDetectorCollection</a></li>
<li class="toctree-l4"><a class="reference internal" href="#bak">BAK</a></li>
<li class="toctree-l4"><a class="reference internal" href="#pha">PHA</a></li>
<li class="toctree-l4"><a class="reference internal" href="#scat-parameter">scat.Parameter</a></li>
<li class="toctree-l4"><a class="reference internal" href="#scat-gbmmodelfit">scat.GbmModelFit</a></li>
<li class="toctree-l4"><a class="reference internal" href="#scat-detectordata">scat.DetectorData</a></li>
<li class="toctree-l4"><a class="reference internal" href="#trigdat-maxrates">trigdat.MaxRates</a></li>
<li class="toctree-l4"><a class="reference internal" href="#trigdat-backrates">trigdat.BackRates</a></li>
<li class="toctree-l4"><a class="reference internal" href="#trigdat-fswlocation">trigdat.FswLocation</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#data-primitives">Data Primitives</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#bins">Bins</a></li>
<li class="toctree-l4"><a class="reference internal" href="#energybins">EnergyBins</a></li>
<li class="toctree-l4"><a class="reference internal" href="#timebins">TimeBins</a></li>
<li class="toctree-l4"><a class="reference internal" href="#timeenergybins">TimeEnergyBins</a></li>
<li class="toctree-l4"><a class="reference internal" href="#eventlist">EventList</a></li>
<li class="toctree-l4"><a class="reference internal" href="#gti">GTI</a></li>
<li class="toctree-l4"><a class="reference internal" href="#timerange">TimeRange</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="api-binning.html">Data Binning Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-background.html">Background Estimation Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-spectra.html">Spectra Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-sims.html">Simulate Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-plot.html">Plotting Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-finders.html">Data Finders</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-utils.html">Utilities</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../changelog/index.html">Change Logs</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">GBM Data Tools</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="index.html">GBM Data Tools API</a> &raquo;</li>
        
      <li>Data Module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/api/api-data.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="data-module">
<span id="api-data"></span><h1>Data Module<a class="headerlink" href="#data-module" title="Permalink to this headline">¶</a></h1>
<p>The classes in <code class="docutils literal notranslate"><span class="pre">gbm.data</span></code> are interfaces to the data that GBM produces.</p>
<div class="section" id="primary-gbm-data-classes">
<h2>Primary GBM Data Classes<a class="headerlink" href="#primary-gbm-data-classes" title="Permalink to this headline">¶</a></h2>
<p>The primary data classes for GBM data:</p>
<ul class="simple">
<li><p>Lightcurves/Spectra (<a class="reference internal" href="#gbm.data.Cspec" title="gbm.data.Cspec"><code class="xref py py-class docutils literal notranslate"><span class="pre">Cspec</span></code></a>, <a class="reference internal" href="#gbm.data.Ctime" title="gbm.data.Ctime"><code class="xref py py-class docutils literal notranslate"><span class="pre">Ctime</span></code></a>,
<a class="reference internal" href="#gbm.data.TTE" title="gbm.data.TTE"><code class="xref py py-class docutils literal notranslate"><span class="pre">TTE</span></code></a>)</p></li>
<li><p>Detector Responses (<a class="reference internal" href="#gbm.data.RSP" title="gbm.data.RSP"><code class="xref py py-class docutils literal notranslate"><span class="pre">RSP</span></code></a>)</p></li>
<li><p>Fermi Position History (<a class="reference internal" href="#gbm.data.PosHist" title="gbm.data.PosHist"><code class="xref py py-class docutils literal notranslate"><span class="pre">PosHist</span></code></a>)</p></li>
<li><p>Skymaps (<a class="reference internal" href="#gbm.data.GbmHealPix" title="gbm.data.GbmHealPix"><code class="xref py py-class docutils literal notranslate"><span class="pre">GbmHealPix</span></code></a>)</p></li>
<li><p>Quicklook Trigger Data (<a class="reference internal" href="#gbm.data.Trigdat" title="gbm.data.Trigdat"><code class="xref py py-class docutils literal notranslate"><span class="pre">Trigdat</span></code></a>, <a class="reference internal" href="#gbm.data.Tcat" title="gbm.data.Tcat"><code class="xref py py-class docutils literal notranslate"><span class="pre">Tcat</span></code></a>)</p></li>
</ul>
<div class="section" id="cspec">
<h3>Cspec<a class="headerlink" href="#cspec" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="gbm.data.Cspec">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">gbm.data.</span></span><span class="sig-name descname"><span class="pre">Cspec</span></span><a class="reference internal" href="../_modules/gbm/data/phaii.html#Cspec"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.Cspec" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#gbm.data.data.DataFile" title="gbm.data.data.DataFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">gbm.data.data.DataFile</span></code></a>, <a class="reference internal" href="#gbm.data.phaii.PHAII" title="gbm.data.phaii.PHAII"><code class="xref py py-class docutils literal notranslate"><span class="pre">gbm.data.phaii.PHAII</span></code></a></p>
<p>Class for CSPEC data.</p>
<dl class="field-list simple">
<dt class="field-odd">Attributes</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<a class="reference internal" href="#gbm.data.primitives.TimeEnergyBins" title="gbm.data.primitives.TimeEnergyBins"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeEnergyBins</span></code></a>) – The PHAII data</p></li>
<li><p><strong>datatype</strong> (<em>str</em>) – The datatype of the file</p></li>
<li><p><strong>detector</strong> (<em>str</em>) – The GBM detector the file is associated with</p></li>
<li><p><strong>directory</strong> (<em>str</em>) – The directory the file is located in</p></li>
<li><p><strong>energy_range</strong> (<em>float, float</em>) – The energy range of the data</p></li>
<li><p><strong>filename</strong> (<em>str</em>) – The filename</p></li>
<li><p><strong>full_path</strong> (<em>str</em>) – The full path+filename</p></li>
<li><p><strong>gti</strong> (<em>[(float, float), …]</em>) – A list of tuples defining the good time intervals</p></li>
<li><p><strong>headers</strong> (<em>dict</em>) – The headers for each extension of the PHAII</p></li>
<li><p><strong>id</strong> (<em>str</em>) – The GBM file ID</p></li>
<li><p><strong>is_gbm_file</strong> (<em>bool</em>) – True if the file is a valid GBM standard file,
False if it is not.</p></li>
<li><p><strong>is_trigger</strong> (<em>bool</em>) – True if the file is a GBM trigger file, False if not</p></li>
<li><p><strong>numchans</strong> (<em>int</em>) – The number of energy channels</p></li>
<li><p><strong>trigtime</strong> (<em>float</em>) – The trigger time of the data, if available.</p></li>
<li><p><strong>time_range</strong> (<em>float, float</em>) – The time range of the data</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.Cspec.from_data">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">detector</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/phaii.html#Cspec.from_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.Cspec.from_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a PHAII object from TimeEnergyBins data object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<a class="reference internal" href="#gbm.data.primitives.TimeEnergyBins" title="gbm.data.primitives.TimeEnergyBins"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeEnergyBins</span></code></a>) – The PHAII data</p></li>
<li><p><strong>gti</strong> (<em>[</em><em>(</em><em>float</em><em>, </em><em>float</em><em>)</em><em>, </em><em>...</em><em>]</em><em>, </em><em>optional</em>) – The list of tuples representing the good time intervals
(start, stop). If omitted, the GTI is assumed to be
[(tstart, tstop)].</p></li>
<li><p><strong>trigtime</strong> (<em>float</em><em>, </em><em>optional</em>) – The trigger time, if applicable. If provided, the data times
will be shifted relative to the trigger time.</p></li>
<li><p><strong>detector</strong> (<em>str</em><em>, </em><em>optional</em>) – The detector that produced the data</p></li>
<li><p><strong>object</strong> (<em>str</em><em>, </em><em>optional</em>) – The object being observed</p></li>
<li><p><strong>ra_obj</strong> (<em>float</em><em>, </em><em>optional</em>) – The RA of the object</p></li>
<li><p><strong>dec_obj</strong> (<em>float</em><em>, </em><em>optional</em>) – The Dec of the object</p></li>
<li><p><strong>err_rad</strong> (<em>float</em><em>, </em><em>optional</em>) – The localization error radius of the object</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#gbm.data.phaii.PHAII" title="gbm.data.phaii.PHAII"><code class="xref py py-class docutils literal notranslate"><span class="pre">PHAII</span></code></a> – The newly created PHAII object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.Cspec.get_exposure">
<span class="sig-name descname"><span class="pre">get_exposure</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time_ranges</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gbm.data.Cspec.get_exposure" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the total exposure of a time range or time ranges of data</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>time_ranges</strong> (<em>[</em><em>(</em><em>float</em><em>, </em><em>float</em><em>)</em><em>, </em><em>...</em><em>]</em><em>, </em><em>optional</em>) – The time range or time ranges over which to calculate the
exposure. If omitted, calculates the total exposure of the data.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>float</em> – The exposure of the time selections</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.Cspec.open">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">open</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gbm.data.Cspec.open" title="Permalink to this definition">¶</a></dt>
<dd><p>Open a PHAII FITS file and return the PHAII object</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>filename</strong> (<em>str</em>) – The filename of the FITS file</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">PHAII</span></code> – The PHAII object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.Cspec.rebin_energy">
<span class="sig-name descname"><span class="pre">rebin_energy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">method</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">energy_range</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(None,</span> <span class="pre">None)</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gbm.data.Cspec.rebin_energy" title="Permalink to this definition">¶</a></dt>
<dd><p>Rebin the PHAII in energy given a rebinning method.
Produces a new PHAII object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>method</strong> (<em>&lt;function&gt;</em>) – The rebinning function</p></li>
<li><p><strong>*args</strong> – Arguments to be passed to the rebinning function</p></li>
<li><p><strong>energy_range</strong> (<em>(</em><em>float</em><em>, </em><em>float</em><em>)</em><em>, </em><em>optional</em>) – The starting and ending energy to rebin.  If omitted, uses the
full range of data.  Setting start or end to <code class="docutils literal notranslate"><span class="pre">None</span></code> will use
the data from the beginning or end of the data, respectively.</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>Returns</dt><dd><p><code class="xref py py-class docutils literal notranslate"><span class="pre">PHAII</span></code>: A new PHAII object with the requested rebinned data</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.Cspec.rebin_time">
<span class="sig-name descname"><span class="pre">rebin_time</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">method</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_range</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(None,</span> <span class="pre">None)</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gbm.data.Cspec.rebin_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Rebin the PHAII in time given a rebinning method.
Produces a new PHAII object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>method</strong> (<em>&lt;function&gt;</em>) – The rebinning function</p></li>
<li><p><strong>*args</strong> – Arguments to be passed to the rebinning function</p></li>
<li><p><strong>time_range</strong> (<em>(</em><em>float</em><em>, </em><em>float</em><em>)</em><em>, </em><em>optional</em>) – The starting and ending time to rebin.  If omitted, uses the
full range of data.  Setting start or end to <code class="docutils literal notranslate"><span class="pre">None</span></code> will use
the data from the beginning or end of the data, respectively.</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>Returns</dt><dd><p><code class="xref py py-class docutils literal notranslate"><span class="pre">PHAII</span></code>: A new PHAII object with the requested rebinned data</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.Cspec.set_properties">
<span class="sig-name descname"><span class="pre">set_properties</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">detector</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trigtime</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tstart</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">datatype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extension</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">meta</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gbm.data.Cspec.set_properties" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the properties of the data file.  Useful for creating new
data files.  A standardized filename will be built from the
parameters</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>detector</strong> (<em>str</em><em>, </em><em>optional</em>) – The detector the data file belongs to</p></li>
<li><p><strong>trigtime</strong> (<em>float</em><em>, </em><em>optional</em>) – The trigger time, if applicable</p></li>
<li><p><strong>tstart</strong> (<em>float</em>) – The start time of the data file.
Must be set if trigtime is not.</p></li>
<li><p><strong>datatype</strong> (<em>str</em><em>, </em><em>optional</em>) – The type of data the file contains</p></li>
<li><p><strong>extension</strong> (<em>str</em><em>, </em><em>optional</em>) – The extension of the data file</p></li>
<li><p><strong>meta</strong> (<em>str</em><em>, </em><em>optional</em>) – A metadata atttribute to be added to the filename</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.Cspec.slice_energy">
<span class="sig-name descname"><span class="pre">slice_energy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">energy_ranges</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gbm.data.Cspec.slice_energy" title="Permalink to this definition">¶</a></dt>
<dd><p>Slice the PHAII by one or more energy range. Produces a new PHAII object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>energy_ranges</strong> (<em>[</em><em>(</em><em>float</em><em>, </em><em>float</em><em>)</em><em>, </em><em>...</em><em>]</em>) – The energy ranges to slice the data to.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">PHAII</span></code> – A new PHAII object with the requested energy ranges</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.Cspec.slice_time">
<span class="sig-name descname"><span class="pre">slice_time</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time_ranges</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gbm.data.Cspec.slice_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Slice the PHAII by one or more time range. Produces a new PHAII object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>time_ranges</strong> (<em>[</em><em>(</em><em>float</em><em>, </em><em>float</em><em>)</em><em>, </em><em>...</em><em>]</em>) – The time ranges to slice the data to.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">PHAII</span></code> – A new PHAII object with the requested time ranges</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.Cspec.to_lightcurve">
<span class="sig-name descname"><span class="pre">to_lightcurve</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time_range</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">energy_range</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">channel_range</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gbm.data.Cspec.to_lightcurve" title="Permalink to this definition">¶</a></dt>
<dd><p>Integrate the PHAII data over energy to produce a lightcurve</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>time_range</strong> (<em>(</em><em>float</em><em>, </em><em>float</em><em>)</em><em>, </em><em>optional</em>) – The time range of the lightcurve. If omitted, uses the entire
time range of the data.</p></li>
<li><p><strong>energy_range</strong> (<em>(</em><em>float</em><em>, </em><em>float</em><em>)</em><em>, </em><em>optional</em>) – The energy range of the lightcurve. If omitted, uses the entire
energy range of the data.</p></li>
<li><p><strong>channel_range</strong> (<em>(</em><em>int</em><em>, </em><em>int</em><em>)</em><em>, </em><em>optional</em>) – The channel range of the lightcurve. If omitted, uses the entire
energy range of the data.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#gbm.data.primitives.TimeBins" title="gbm.data.primitives.TimeBins"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeBins</span></code></a> – The lightcurve data</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.Cspec.to_pha">
<span class="sig-name descname"><span class="pre">to_pha</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time_ranges</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">energy_range</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">channel_range</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gbm.data.Cspec.to_pha" title="Permalink to this definition">¶</a></dt>
<dd><p>Integrate the PHAII data over time to produce a PHA object</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>time_ranges</strong> (<em>[</em><em>(</em><em>float</em><em>, </em><em>float</em><em>)</em><em>, </em><em>...</em><em>]</em><em>, </em><em>optional</em>) – The time range of the spectrum. If omitted, uses the entire
time range of the data.</p></li>
<li><p><strong>energy_range</strong> (<em>(</em><em>float</em><em>, </em><em>float</em><em>)</em><em>, </em><em>optional</em>) – The energy range of the spectrum. If omitted, uses the entire
energy range of the data.</p></li>
<li><p><strong>channel_range</strong> (<em>(</em><em>int</em><em>, </em><em>int</em><em>)</em><em>, </em><em>optional</em>) – The channel range of the spectrum. If omitted, uses the entire
energy range of the data.</p></li>
<li><p><strong>**kwargs</strong> – Options passed to <a class="reference internal" href="#gbm.data.PHA.from_data" title="gbm.data.PHA.from_data"><code class="xref py py-meth docutils literal notranslate"><span class="pre">gbm.data.PHA.from_data()</span></code></a></p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#gbm.data.PHA" title="gbm.data.PHA"><code class="xref py py-class docutils literal notranslate"><span class="pre">PHA</span></code></a> – The single spectrum PHA</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.Cspec.to_spectrum">
<span class="sig-name descname"><span class="pre">to_spectrum</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time_range</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">energy_range</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">channel_range</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gbm.data.Cspec.to_spectrum" title="Permalink to this definition">¶</a></dt>
<dd><p>Integrate the PHAII data over time to produce a count spectrum</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>time_range</strong> (<em>(</em><em>float</em><em>, </em><em>float</em><em>)</em><em>, </em><em>optional</em>) – The time range of the spectrum. If omitted, uses the entire
time range of the data.</p></li>
<li><p><strong>energy_range</strong> (<em>(</em><em>float</em><em>, </em><em>float</em><em>)</em><em>, </em><em>optional</em>) – The energy range of the spectrum. If omitted, uses the entire
energy range of the data.</p></li>
<li><p><strong>channel_range</strong> (<em>(</em><em>int</em><em>, </em><em>int</em><em>)</em><em>, </em><em>optional</em>) – The channel range of the spectrum. If omitted, uses the entire
energy range of the data.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#gbm.data.primitives.EnergyBins" title="gbm.data.primitives.EnergyBins"><code class="xref py py-class docutils literal notranslate"><span class="pre">EnergyBins</span></code></a> – The count spectrum data</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.Cspec.write">
<span class="sig-name descname"><span class="pre">write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">directory</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gbm.data.Cspec.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes the data to a FITS file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>directory</strong> (<em>str</em>) – The directory to write the file</p></li>
<li><p><strong>filename</strong> (<em>str</em><em>, </em><em>optional</em>) – If set, will override the standardized name</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<hr class="docutils" />
<div class="section" id="ctime">
<h3>Ctime<a class="headerlink" href="#ctime" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="gbm.data.Ctime">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">gbm.data.</span></span><span class="sig-name descname"><span class="pre">Ctime</span></span><a class="reference internal" href="../_modules/gbm/data/phaii.html#Ctime"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.Ctime" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#gbm.data.data.DataFile" title="gbm.data.data.DataFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">gbm.data.data.DataFile</span></code></a>, <a class="reference internal" href="#gbm.data.phaii.PHAII" title="gbm.data.phaii.PHAII"><code class="xref py py-class docutils literal notranslate"><span class="pre">gbm.data.phaii.PHAII</span></code></a></p>
<p>Class for CTIME data.</p>
<dl class="field-list simple">
<dt class="field-odd">Attributes</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<a class="reference internal" href="#gbm.data.primitives.TimeEnergyBins" title="gbm.data.primitives.TimeEnergyBins"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeEnergyBins</span></code></a>) – The PHAII data</p></li>
<li><p><strong>datatype</strong> (<em>str</em>) – The datatype of the file</p></li>
<li><p><strong>detector</strong> (<em>str</em>) – The GBM detector the file is associated with</p></li>
<li><p><strong>directory</strong> (<em>str</em>) – The directory the file is located in</p></li>
<li><p><strong>energy_range</strong> (<em>float, float</em>) – The energy range of the data</p></li>
<li><p><strong>filename</strong> (<em>str</em>) – The filename</p></li>
<li><p><strong>full_path</strong> (<em>str</em>) – The full path+filename</p></li>
<li><p><strong>gti</strong> (<em>[(float, float), …]</em>) – A list of tuples defining the good time intervals</p></li>
<li><p><strong>headers</strong> (<em>dict</em>) – The headers for each extension of the PHAII</p></li>
<li><p><strong>id</strong> (<em>str</em>) – The GBM file ID</p></li>
<li><p><strong>is_gbm_file</strong> (<em>bool</em>) – True if the file is a valid GBM standard file,
False if it is not.</p></li>
<li><p><strong>is_trigger</strong> (<em>bool</em>) – True if the file is a GBM trigger file, False if not</p></li>
<li><p><strong>numchans</strong> (<em>int</em>) – The number of energy channels</p></li>
<li><p><strong>trigtime</strong> (<em>float</em>) – The trigger time of the data, if available.</p></li>
<li><p><strong>time_range</strong> (<em>float, float</em>) – The time range of the data</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.Ctime.from_data">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">detector</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/phaii.html#Ctime.from_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.Ctime.from_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a PHAII object from TimeEnergyBins data object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<a class="reference internal" href="#gbm.data.primitives.TimeEnergyBins" title="gbm.data.primitives.TimeEnergyBins"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeEnergyBins</span></code></a>) – The PHAII data</p></li>
<li><p><strong>gti</strong> (<em>[</em><em>(</em><em>float</em><em>, </em><em>float</em><em>)</em><em>, </em><em>...</em><em>]</em><em>, </em><em>optional</em>) – The list of tuples representing the good time intervals
(start, stop). If omitted, the GTI is assumed to be
[(tstart, tstop)].</p></li>
<li><p><strong>trigtime</strong> (<em>float</em><em>, </em><em>optional</em>) – The trigger time, if applicable. If provided, the data times
will be shifted relative to the trigger time.</p></li>
<li><p><strong>detector</strong> (<em>str</em><em>, </em><em>optional</em>) – The detector that produced the data</p></li>
<li><p><strong>object</strong> (<em>str</em><em>, </em><em>optional</em>) – The object being observed</p></li>
<li><p><strong>ra_obj</strong> (<em>float</em><em>, </em><em>optional</em>) – The RA of the object</p></li>
<li><p><strong>dec_obj</strong> (<em>float</em><em>, </em><em>optional</em>) – The Dec of the object</p></li>
<li><p><strong>err_rad</strong> (<em>float</em><em>, </em><em>optional</em>) – The localization error radius of the object</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#gbm.data.phaii.PHAII" title="gbm.data.phaii.PHAII"><code class="xref py py-class docutils literal notranslate"><span class="pre">PHAII</span></code></a> – The newly created PHAII object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.Ctime.get_exposure">
<span class="sig-name descname"><span class="pre">get_exposure</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time_ranges</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gbm.data.Ctime.get_exposure" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the total exposure of a time range or time ranges of data</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>time_ranges</strong> (<em>[</em><em>(</em><em>float</em><em>, </em><em>float</em><em>)</em><em>, </em><em>...</em><em>]</em><em>, </em><em>optional</em>) – The time range or time ranges over which to calculate the
exposure. If omitted, calculates the total exposure of the data.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>float</em> – The exposure of the time selections</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.Ctime.open">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">open</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gbm.data.Ctime.open" title="Permalink to this definition">¶</a></dt>
<dd><p>Open a PHAII FITS file and return the PHAII object</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>filename</strong> (<em>str</em>) – The filename of the FITS file</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">PHAII</span></code> – The PHAII object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.Ctime.rebin_energy">
<span class="sig-name descname"><span class="pre">rebin_energy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">method</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">energy_range</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(None,</span> <span class="pre">None)</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gbm.data.Ctime.rebin_energy" title="Permalink to this definition">¶</a></dt>
<dd><p>Rebin the PHAII in energy given a rebinning method.
Produces a new PHAII object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>method</strong> (<em>&lt;function&gt;</em>) – The rebinning function</p></li>
<li><p><strong>*args</strong> – Arguments to be passed to the rebinning function</p></li>
<li><p><strong>energy_range</strong> (<em>(</em><em>float</em><em>, </em><em>float</em><em>)</em><em>, </em><em>optional</em>) – The starting and ending energy to rebin.  If omitted, uses the
full range of data.  Setting start or end to <code class="docutils literal notranslate"><span class="pre">None</span></code> will use
the data from the beginning or end of the data, respectively.</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>Returns</dt><dd><p><code class="xref py py-class docutils literal notranslate"><span class="pre">PHAII</span></code>: A new PHAII object with the requested rebinned data</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.Ctime.rebin_time">
<span class="sig-name descname"><span class="pre">rebin_time</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">method</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_range</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(None,</span> <span class="pre">None)</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gbm.data.Ctime.rebin_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Rebin the PHAII in time given a rebinning method.
Produces a new PHAII object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>method</strong> (<em>&lt;function&gt;</em>) – The rebinning function</p></li>
<li><p><strong>*args</strong> – Arguments to be passed to the rebinning function</p></li>
<li><p><strong>time_range</strong> (<em>(</em><em>float</em><em>, </em><em>float</em><em>)</em><em>, </em><em>optional</em>) – The starting and ending time to rebin.  If omitted, uses the
full range of data.  Setting start or end to <code class="docutils literal notranslate"><span class="pre">None</span></code> will use
the data from the beginning or end of the data, respectively.</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>Returns</dt><dd><p><code class="xref py py-class docutils literal notranslate"><span class="pre">PHAII</span></code>: A new PHAII object with the requested rebinned data</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.Ctime.set_properties">
<span class="sig-name descname"><span class="pre">set_properties</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">detector</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trigtime</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tstart</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">datatype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extension</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">meta</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gbm.data.Ctime.set_properties" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the properties of the data file.  Useful for creating new
data files.  A standardized filename will be built from the
parameters</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>detector</strong> (<em>str</em><em>, </em><em>optional</em>) – The detector the data file belongs to</p></li>
<li><p><strong>trigtime</strong> (<em>float</em><em>, </em><em>optional</em>) – The trigger time, if applicable</p></li>
<li><p><strong>tstart</strong> (<em>float</em>) – The start time of the data file.
Must be set if trigtime is not.</p></li>
<li><p><strong>datatype</strong> (<em>str</em><em>, </em><em>optional</em>) – The type of data the file contains</p></li>
<li><p><strong>extension</strong> (<em>str</em><em>, </em><em>optional</em>) – The extension of the data file</p></li>
<li><p><strong>meta</strong> (<em>str</em><em>, </em><em>optional</em>) – A metadata atttribute to be added to the filename</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.Ctime.slice_energy">
<span class="sig-name descname"><span class="pre">slice_energy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">energy_ranges</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gbm.data.Ctime.slice_energy" title="Permalink to this definition">¶</a></dt>
<dd><p>Slice the PHAII by one or more energy range. Produces a new PHAII object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>energy_ranges</strong> (<em>[</em><em>(</em><em>float</em><em>, </em><em>float</em><em>)</em><em>, </em><em>...</em><em>]</em>) – The energy ranges to slice the data to.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">PHAII</span></code> – A new PHAII object with the requested energy ranges</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.Ctime.slice_time">
<span class="sig-name descname"><span class="pre">slice_time</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time_ranges</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gbm.data.Ctime.slice_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Slice the PHAII by one or more time range. Produces a new PHAII object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>time_ranges</strong> (<em>[</em><em>(</em><em>float</em><em>, </em><em>float</em><em>)</em><em>, </em><em>...</em><em>]</em>) – The time ranges to slice the data to.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">PHAII</span></code> – A new PHAII object with the requested time ranges</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.Ctime.to_lightcurve">
<span class="sig-name descname"><span class="pre">to_lightcurve</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time_range</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">energy_range</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">channel_range</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gbm.data.Ctime.to_lightcurve" title="Permalink to this definition">¶</a></dt>
<dd><p>Integrate the PHAII data over energy to produce a lightcurve</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>time_range</strong> (<em>(</em><em>float</em><em>, </em><em>float</em><em>)</em><em>, </em><em>optional</em>) – The time range of the lightcurve. If omitted, uses the entire
time range of the data.</p></li>
<li><p><strong>energy_range</strong> (<em>(</em><em>float</em><em>, </em><em>float</em><em>)</em><em>, </em><em>optional</em>) – The energy range of the lightcurve. If omitted, uses the entire
energy range of the data.</p></li>
<li><p><strong>channel_range</strong> (<em>(</em><em>int</em><em>, </em><em>int</em><em>)</em><em>, </em><em>optional</em>) – The channel range of the lightcurve. If omitted, uses the entire
energy range of the data.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#gbm.data.primitives.TimeBins" title="gbm.data.primitives.TimeBins"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeBins</span></code></a> – The lightcurve data</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.Ctime.to_pha">
<span class="sig-name descname"><span class="pre">to_pha</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time_ranges</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">energy_range</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">channel_range</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gbm.data.Ctime.to_pha" title="Permalink to this definition">¶</a></dt>
<dd><p>Integrate the PHAII data over time to produce a PHA object</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>time_ranges</strong> (<em>[</em><em>(</em><em>float</em><em>, </em><em>float</em><em>)</em><em>, </em><em>...</em><em>]</em><em>, </em><em>optional</em>) – The time range of the spectrum. If omitted, uses the entire
time range of the data.</p></li>
<li><p><strong>energy_range</strong> (<em>(</em><em>float</em><em>, </em><em>float</em><em>)</em><em>, </em><em>optional</em>) – The energy range of the spectrum. If omitted, uses the entire
energy range of the data.</p></li>
<li><p><strong>channel_range</strong> (<em>(</em><em>int</em><em>, </em><em>int</em><em>)</em><em>, </em><em>optional</em>) – The channel range of the spectrum. If omitted, uses the entire
energy range of the data.</p></li>
<li><p><strong>**kwargs</strong> – Options passed to <a class="reference internal" href="#gbm.data.PHA.from_data" title="gbm.data.PHA.from_data"><code class="xref py py-meth docutils literal notranslate"><span class="pre">gbm.data.PHA.from_data()</span></code></a></p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#gbm.data.PHA" title="gbm.data.PHA"><code class="xref py py-class docutils literal notranslate"><span class="pre">PHA</span></code></a> – The single spectrum PHA</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.Ctime.to_spectrum">
<span class="sig-name descname"><span class="pre">to_spectrum</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time_range</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">energy_range</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">channel_range</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gbm.data.Ctime.to_spectrum" title="Permalink to this definition">¶</a></dt>
<dd><p>Integrate the PHAII data over time to produce a count spectrum</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>time_range</strong> (<em>(</em><em>float</em><em>, </em><em>float</em><em>)</em><em>, </em><em>optional</em>) – The time range of the spectrum. If omitted, uses the entire
time range of the data.</p></li>
<li><p><strong>energy_range</strong> (<em>(</em><em>float</em><em>, </em><em>float</em><em>)</em><em>, </em><em>optional</em>) – The energy range of the spectrum. If omitted, uses the entire
energy range of the data.</p></li>
<li><p><strong>channel_range</strong> (<em>(</em><em>int</em><em>, </em><em>int</em><em>)</em><em>, </em><em>optional</em>) – The channel range of the spectrum. If omitted, uses the entire
energy range of the data.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#gbm.data.primitives.EnergyBins" title="gbm.data.primitives.EnergyBins"><code class="xref py py-class docutils literal notranslate"><span class="pre">EnergyBins</span></code></a> – The count spectrum data</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.Ctime.write">
<span class="sig-name descname"><span class="pre">write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">directory</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gbm.data.Ctime.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes the data to a FITS file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>directory</strong> (<em>str</em>) – The directory to write the file</p></li>
<li><p><strong>filename</strong> (<em>str</em><em>, </em><em>optional</em>) – If set, will override the standardized name</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<hr class="docutils" />
<div class="section" id="gbmhealpix">
<h3>GbmHealPix<a class="headerlink" href="#gbmhealpix" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="gbm.data.GbmHealPix">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">gbm.data.</span></span><span class="sig-name descname"><span class="pre">GbmHealPix</span></span><a class="reference internal" href="../_modules/gbm/data/localization.html#GbmHealPix"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.GbmHealPix" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#gbm.data.HealPix" title="gbm.data.localization.HealPix"><code class="xref py py-class docutils literal notranslate"><span class="pre">gbm.data.localization.HealPix</span></code></a></p>
<p>Class for GBM HEALPix localization files.</p>
<dl class="field-list simple">
<dt class="field-odd">Attributes</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>&lt;detector_name&gt;_pointing</strong> (<em>float, float</em>) – The RA, Dec of the detector pointing (e.g. <code class="docutils literal notranslate"><span class="pre">GbmHealPix.n0_pointing</span></code>)</p></li>
<li><p><strong>centroid</strong> (<em>float, float</em>) – The RA and Dec of the highest probability pixel</p></li>
<li><p><strong>datatype</strong> (<em>str</em>) – The datatype of the file</p></li>
<li><p><strong>detector</strong> (<em>str</em>) – The GBM detector the file is associated with</p></li>
<li><p><strong>directory</strong> (<em>str</em>) – The directory the file is located in</p></li>
<li><p><strong>filename</strong> (<em>str</em>) – The filename</p></li>
<li><p><strong>full_path</strong> (<em>str</em>) – The full path+filename</p></li>
<li><p><strong>geo_location</strong> (<em>float, float</em>) – The geocenter RA, Dec at trigtime</p></li>
<li><p><strong>geo_probability</strong> (<em>float</em>) – The amount of localization probability on the Earth</p></li>
<li><p><strong>geo_radius</strong> (<em>float</em>) – The apparent Earth radius as observed by Fermi</p></li>
<li><p><strong>headers</strong> (<em>dict</em>) – The headers for each extension</p></li>
<li><p><strong>id</strong> (<em>str</em>) – The GBM file ID</p></li>
<li><p><strong>is_gbm_file</strong> (<em>bool</em>) – True if the file is a valid GBM standard file,
False if it is not.</p></li>
<li><p><strong>is_trigger</strong> (<em>bool</em>) – True if the file is a GBM trigger file, False if not</p></li>
<li><p><strong>npix</strong> (<em>int</em>) – Number of pixels in the HEALPix map</p></li>
<li><p><strong>nside</strong> (<em>int</em>) – The HEALPix resolution</p></li>
<li><p><strong>quaternion</strong> (<em>np.array</em>) – The spacecraft attitude quaternion</p></li>
<li><p><strong>pixel_area</strong> (<em>float</em>) – The area of each pixel in square degrees</p></li>
<li><p><strong>scpos</strong> (<em>np.array</em>) – The spacecraft position in Earth inertial coordinates</p></li>
<li><p><strong>sun_location</strong> (<em>float, float</em>) – The Sun RA, Dec at trigtime</p></li>
<li><p><strong>trigtime</strong> (<em>float</em>) – The time corresponding to the localization</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.GbmHealPix.area">
<span class="sig-name descname"><span class="pre">area</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">clevel</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gbm.data.GbmHealPix.area" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the sky area contained within a given confidence region</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>clevel</strong> (<em>float</em>) – The localization confidence level (valid range 0-1)</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>float</em> – The area contained in square degrees</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.GbmHealPix.confidence">
<span class="sig-name descname"><span class="pre">confidence</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ra</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dec</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gbm.data.GbmHealPix.confidence" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the localization confidence level for a given point.
This function interpolates the map at the requested point rather than
providing the value at the nearest pixel center.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ra</strong> (<em>float</em>) – The RA</p></li>
<li><p><strong>dec</strong> (<em>float</em>) – The Dec</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>float</em> – The localization confidence level</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.GbmHealPix.confidence_region_path">
<span class="sig-name descname"><span class="pre">confidence_region_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">clevel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">numpts_ra</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">360</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">numpts_dec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">180</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gbm.data.GbmHealPix.confidence_region_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the bounding path for a given confidence region</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>clevel</strong> (<em>float</em>) – The localization confidence level (valid range 0-1)</p></li>
<li><p><strong>numpts_ra</strong> (<em>int</em><em>, </em><em>optional</em>) – The number of grid points along the RA
axis. Default is 360.</p></li>
<li><p><strong>numpts_dec</strong> (<em>int</em><em>, </em><em>optional</em>) – The number of grid points along the Dec
axis. Default is 180.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>[(np.array, np.array), …]</em> – A list of RA, Dec points, where each                 item in the list is a continuous closed path.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.GbmHealPix.convolve">
<span class="sig-name descname"><span class="pre">convolve</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gbm.data.GbmHealPix.convolve" title="Permalink to this definition">¶</a></dt>
<dd><p>Convolve the map with a model kernel.  The model can be a Gaussian
kernel or any mixture of Gaussian kernels. Uses <a class="reference external" href="https://healpy.readthedocs.io/en/latest/generated/healpy.sphtfunc.smoothing.html">healpy.smoothing</a>.</p>
<p>An example of a model kernel with a 50%/50% mixture of two Gaussians,
one with a 1-deg width, and the other with a 3-deg width:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">gauss_mix_example</span><span class="p">():</span>
    <span class="n">sigma1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">deg2rad</span><span class="p">(</span><span class="mf">1.0</span><span class="p">)</span>
    <span class="n">sigma2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">deg2rad</span><span class="p">(</span><span class="mf">3.0</span><span class="p">)</span>
    <span class="n">frac1</span> <span class="o">=</span> <span class="mf">0.50</span>
    <span class="k">return</span> <span class="p">([</span><span class="n">sigma1</span><span class="p">,</span> <span class="n">sigma2</span><span class="p">],</span> <span class="p">[</span><span class="n">frac1</span><span class="p">])</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> (<em>&lt;function&gt;</em>) – The function representing the model kernel</p></li>
<li><p><strong>*args</strong> – Arguments to be passed to the model kernel function</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#gbm.data.HealPix" title="gbm.data.HealPix"><code class="xref py py-class docutils literal notranslate"><span class="pre">HealPix</span></code></a> – A new HealPix object that is a result of the                               convolution with the model kernel</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.GbmHealPix.from_annulus">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_annulus</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">center_ra</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center_dec</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">radius</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nside</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gbm.data.GbmHealPix.from_annulus" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a HealPix object of a Gaussian-width annulus</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>center_ra</strong> (<em>float</em>) – The RA of the center of the annulus</p></li>
<li><p><strong>center_dec</strong> (<em>float</em>) – The Dec of the center of the annulus</p></li>
<li><p><strong>radius</strong> (<em>float</em>) – The radius of the annulus, in degrees, measured to
the center of the of the annulus</p></li>
<li><p><strong>sigma</strong> (<em>float</em>) – The Gaussian standard deviation width of the annulus,
in degrees</p></li>
<li><p><strong>nside</strong> (<em>int</em><em>, </em><em>optional</em>) – The nside of the HEALPix to make. By default,
the nside is automatically determined by the
<cite>sigma</cite> width.  Set this argument to
override the default.</p></li>
<li><p><strong>**kwargs</strong> – Options to pass to <a class="reference internal" href="#gbm.data.GbmHealPix.from_data" title="gbm.data.GbmHealPix.from_data"><code class="xref py py-meth docutils literal notranslate"><span class="pre">from_data()</span></code></a></p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#gbm.data.HealPix" title="gbm.data.HealPix"><code class="xref py py-class docutils literal notranslate"><span class="pre">HealPix</span></code></a> – The HEALPix annulus</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.GbmHealPix.from_chi2grid">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_chi2grid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">chi2grid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nside</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">128</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tcat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/localization.html#GbmHealPix.from_chi2grid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.GbmHealPix.from_chi2grid" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a GbmHealPix object from a chi2grid object</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>(</strong><strong>class</strong> (<em>chi2grid</em>) – <cite>Chi2Grid</cite>): The chi2grid object containing the
chi-squared/log-likelihood info</p></li>
<li><p><strong>nside</strong> (<em>int</em><em>, </em><em>optional</em>) – The nside resolution to use. Default is 128</p></li>
<li><p><strong>tcat</strong> (<a class="reference internal" href="#gbm.data.Tcat" title="gbm.data.Tcat"><code class="xref py py-class docutils literal notranslate"><span class="pre">Tcat</span></code></a>, optional) – The associated Tcat to fill out
the primary header info</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#gbm.data.GbmHealPix" title="gbm.data.GbmHealPix"><code class="xref py py-class docutils literal notranslate"><span class="pre">GbmHealPix</span></code></a> – The GBM HEALPix localization</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.GbmHealPix.from_data">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prob_arr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sig_arr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tcat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trigtime</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">quaternion</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scpos</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/localization.html#GbmHealPix.from_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.GbmHealPix.from_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a HealPix object from healpix arrays and optional metadata</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>prob_arr</strong> (<em>np.array</em>) – The HEALPix array containing the probability/pixel</p></li>
<li><p><strong>sig_arr</strong> (<em>np.array</em>) – The HEALPix array containing the signficance</p></li>
<li><p><strong>tcat</strong> (<a class="reference internal" href="#gbm.data.Tcat" title="gbm.data.Tcat"><code class="xref py py-class docutils literal notranslate"><span class="pre">Tcat</span></code></a>, optional) – The associated Tcat to fill out
the primary header info</p></li>
<li><p><strong>trigtime</strong> (<em>float</em><em>, </em><em>optional</em>) – The time corresponding to the localization</p></li>
<li><p><strong>quaternion</strong> (<em>np.array</em><em>, </em><em>optional</em>) – The associated spacecraft quaternion used to determine the
detector pointings in equatorial coordinates</p></li>
<li><p><strong>scpos</strong> (<em>np.array</em><em>, </em><em>optional</em>) – The associated spacecraft position in Earth inertial coordinates
used to determine the geocenter location in equatorial coordinates</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#gbm.data.GbmHealPix" title="gbm.data.GbmHealPix"><code class="xref py py-class docutils literal notranslate"><span class="pre">GbmHealPix</span></code></a> – The HEALPix localization</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.GbmHealPix.from_gaussian">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_gaussian</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">center_ra</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center_dec</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nside</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gbm.data.GbmHealPix.from_gaussian" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a HealPix object of a Gaussian</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>center_ra</strong> (<em>float</em>) – The RA of the center of the Gaussian</p></li>
<li><p><strong>center_dec</strong> (<em>float</em>) – The Dec of the center of the Gaussian</p></li>
<li><p><strong>sigma</strong> (<em>float</em>) – The Gaussian standard deviation, in degrees</p></li>
<li><p><strong>nside</strong> (<em>int</em><em>, </em><em>optional</em>) – The nside of the HEALPix to make. By default,
the nside is automatically determined by the
<cite>sigma</cite> of the Gaussian.  Set this argument
to override the default.</p></li>
<li><p><strong>**kwargs</strong> – Options to pass to <a class="reference internal" href="#gbm.data.GbmHealPix.from_data" title="gbm.data.GbmHealPix.from_data"><code class="xref py py-meth docutils literal notranslate"><span class="pre">from_data()</span></code></a></p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#gbm.data.HealPix" title="gbm.data.HealPix"><code class="xref py py-class docutils literal notranslate"><span class="pre">HealPix</span></code></a> – The HEALPix Gaussian</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.GbmHealPix.from_vertices">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_vertices</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ra_pts</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dec_pts</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nside</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">64</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gbm.data.GbmHealPix.from_vertices" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a HealPix object from a list of RA, Dec vertices.
The probability within the vertices will be distributed uniformly and
zero probability outside the vertices.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ra_pts</strong> (<em>np.array</em>) – The array of RA coordinates</p></li>
<li><p><strong>dec_pts</strong> (<em>np.array</em>) – The array of Dec coordinates</p></li>
<li><p><strong>nside</strong> (<em>int</em><em>, </em><em>optional</em>) – The nside of the HEALPix to make. Default is 64.</p></li>
<li><p><strong>**kwargs</strong> – Options to pass to <a class="reference internal" href="#gbm.data.GbmHealPix.from_data" title="gbm.data.GbmHealPix.from_data"><code class="xref py py-meth docutils literal notranslate"><span class="pre">from_data()</span></code></a></p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#gbm.data.HealPix" title="gbm.data.HealPix"><code class="xref py py-class docutils literal notranslate"><span class="pre">HealPix</span></code></a> – The HEALPix object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.GbmHealPix.multiply">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">multiply</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">healpix1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">healpix2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">primary</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_nside</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">128</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/localization.html#GbmHealPix.multiply"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.GbmHealPix.multiply" title="Permalink to this definition">¶</a></dt>
<dd><p>Multiply two GbmHealPix maps and return a new GbmHealPix object</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Either <cite>healpix1</cite> <em>or</em> healpix2 can be a non-GbmHealPix object,
however at least one of them must be a GbmHealPix object <strong>and</strong>
the <cite>primary</cite> argument must be set to the appropriate GbmHealPix
object otherwise a TypeError will be raised.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>healpix1</strong> (<a class="reference internal" href="#gbm.data.HealPix" title="gbm.data.HealPix"><code class="xref py py-class docutils literal notranslate"><span class="pre">HealPix</span></code></a> or <a class="reference internal" href="#gbm.data.GbmHealPix" title="gbm.data.GbmHealPix"><code class="xref py py-class docutils literal notranslate"><span class="pre">GbmHealPix</span></code></a>) – One of the HEALPix maps to multiply</p></li>
<li><p><strong>healpix2</strong> (<a class="reference internal" href="#gbm.data.HealPix" title="gbm.data.HealPix"><code class="xref py py-class docutils literal notranslate"><span class="pre">HealPix</span></code></a> or <a class="reference internal" href="#gbm.data.GbmHealPix" title="gbm.data.GbmHealPix"><code class="xref py py-class docutils literal notranslate"><span class="pre">GbmHealPix</span></code></a>) – The other HEALPix map to multiply</p></li>
<li><p><strong>primary</strong> (<em>int</em><em>, </em><em>optional</em>) – If 1, use the first map header information,
or if 2, use the second map header
information. Default is 1.</p></li>
<li><p><strong>output_nside</strong> (<em>int</em><em>, </em><em>optional</em>) – The nside of the multiplied map.
Default is 128.</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>Returns</dt><dd><p><a class="reference internal" href="#gbm.data.GbmHealPix" title="gbm.data.GbmHealPix"><code class="xref py py-class docutils literal notranslate"><span class="pre">GbmHealPix</span></code></a>: The multiplied map</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.GbmHealPix.observable_fraction">
<span class="sig-name descname"><span class="pre">observable_fraction</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">healpix</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/localization.html#GbmHealPix.observable_fraction"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.GbmHealPix.observable_fraction" title="Permalink to this definition">¶</a></dt>
<dd><p>The observable fraction of a healpix probability region on the sky.
Non-observable regions are ones that are behind the Earth.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>healpix</strong> (<a class="reference internal" href="#gbm.data.HealPix" title="gbm.data.HealPix"><code class="xref py py-class docutils literal notranslate"><span class="pre">HealPix</span></code></a>) – The healpix region for which to
calculate the observable fraction.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>float</em> – The fraction of the map (based on probability) that is observable.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.GbmHealPix.open">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">open</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/localization.html#GbmHealPix.open"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.GbmHealPix.open" title="Permalink to this definition">¶</a></dt>
<dd><p>Open a GBM HEALPix FITS file and return the GbmHealPix object</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>filename</strong> (<em>str</em>) – The filename of the FITS file</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#gbm.data.GbmHealPix" title="gbm.data.GbmHealPix"><code class="xref py py-class docutils literal notranslate"><span class="pre">GbmHealPix</span></code></a> – The GBM HEALPix localization</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.GbmHealPix.prob_array">
<span class="sig-name descname"><span class="pre">prob_array</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">numpts_ra</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">360</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">numpts_dec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">180</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sqdegrees</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sig</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gbm.data.GbmHealPix.prob_array" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the localization probability mapped to a grid on the sky</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>numpts_ra</strong> (<em>int</em><em>, </em><em>optional</em>) – The number of grid points along the RA
axis. Default is 360.</p></li>
<li><p><strong>numpts_dec</strong> (<em>int</em><em>, </em><em>optional</em>) – The number of grid points along the Dec
axis. Default is 180.</p></li>
<li><p><strong>sqdegrees</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, the prob_array is in units of probability per square
degrees, otherwise in units of probability per pixel.
Default is True</p></li>
<li><p><strong>sig</strong> (<em>bool</em><em>, </em><em>optional</em>) – Set True to retun the significance map on a
grid instead of the probability. Default is False.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p><em>3-tuple containing</em> –</p>
<ul class="simple">
<li><p><em>np.array</em>: The probability (or significance) array with shape                       (<code class="docutils literal notranslate"><span class="pre">numpts_dec</span></code>, <code class="docutils literal notranslate"><span class="pre">numpts_ra</span></code>)</p></li>
<li><p><em>np.array</em>: The RA grid points</p></li>
<li><p><em>np.array</em>: The Dec grid points</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.GbmHealPix.probability">
<span class="sig-name descname"><span class="pre">probability</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ra</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dec</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">per_pixel</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gbm.data.GbmHealPix.probability" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the localization probability at a given point.  This
function interpolates the map at the requested point rather than
providing the vale at the nearest pixel center.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ra</strong> (<em>float</em>) – The RA</p></li>
<li><p><strong>dec</strong> (<em>float</em>) – The Dec</p></li>
<li><p><strong>per_pixel</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, return probability per pixel, otherwise return
probability per square degree. Default is False.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>float</em> – The localization probability</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.GbmHealPix.region_probability">
<span class="sig-name descname"><span class="pre">region_probability</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">healpix</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prior</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/localization.html#GbmHealPix.region_probability"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.GbmHealPix.region_probability" title="Permalink to this definition">¶</a></dt>
<dd><p>The probability that the localization is associated with
the localization region from another map.  This is calculated
against the null hypothesis that the two maps represent
unassociated sources:</p>
<p><span class="math notranslate nohighlight">\(P(A | \mathcal{I}) =
\frac{P(\mathcal{I} | A) \ P(A)}
{P(\mathcal{I} | A) \ P(A) + P(\mathcal{I} | \neg A) \ P(\neg A)}\)</span></p>
<p>where</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(P(\mathcal{I} | A)\)</span> is the integral over the overlap of the two
maps once the Earth occultation has been removed for <em>this</em> map.</p></li>
<li><p><span class="math notranslate nohighlight">\(P(\mathcal{I} | \neg A)\)</span> is the integral over the overlap of
<em>this</em> map with a uniform distribution on the sky (i.e. the probability
the localization is associated with a random point on the sky)</p></li>
<li><p><span class="math notranslate nohighlight">\(P(A)\)</span> is the prior probability that <em>this</em> localization is
associated with the <em>other</em> HEALPix map.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The localization region of <em>this</em> map overlapping the Earth will be
removed and the remaining unocculted region is used for the
calculation.  The <em>other</em> map is assumed to have no exclusionary
region.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>healpix</strong> (<a class="reference internal" href="#gbm.data.HealPix" title="gbm.data.HealPix"><code class="xref py py-class docutils literal notranslate"><span class="pre">HealPix</span></code></a>) – The healpix map for which to calculate
the spatial association</p></li>
<li><p><strong>prior</strong> (<em>float</em><em>, </em><em>optional</em>) – The prior probability that the localization
is associated with the source.
Default is 0.5</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>float</em> – The probability that the two HEALPix maps are associated.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.GbmHealPix.remove_earth">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">remove_earth</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">healpix</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/localization.html#GbmHealPix.remove_earth"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.GbmHealPix.remove_earth" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a new GbmHealPix with the probability on the Earth masked out.
The remaining probability on the sky is renormalized.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code class="xref py py-attr docutils literal notranslate"><span class="pre">geo_location</span></code> attribute must be available to use this function</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>healpix</strong> (<a class="reference internal" href="#gbm.data.GbmHealPix" title="gbm.data.GbmHealPix"><code class="xref py py-class docutils literal notranslate"><span class="pre">GbmHealPix</span></code></a>) – The map for which the Earth will be
removed</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#gbm.data.GbmHealPix" title="gbm.data.GbmHealPix"><code class="xref py py-class docutils literal notranslate"><span class="pre">GbmHealPix</span></code></a> – GBM HEALPix localization</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.GbmHealPix.set_properties">
<span class="sig-name descname"><span class="pre">set_properties</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">detector</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trigtime</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tstart</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">datatype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extension</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">meta</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gbm.data.GbmHealPix.set_properties" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the properties of the data file.  Useful for creating new
data files.  A standardized filename will be built from the
parameters</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>detector</strong> (<em>str</em><em>, </em><em>optional</em>) – The detector the data file belongs to</p></li>
<li><p><strong>trigtime</strong> (<em>float</em><em>, </em><em>optional</em>) – The trigger time, if applicable</p></li>
<li><p><strong>tstart</strong> (<em>float</em>) – The start time of the data file.
Must be set if trigtime is not.</p></li>
<li><p><strong>datatype</strong> (<em>str</em><em>, </em><em>optional</em>) – The type of data the file contains</p></li>
<li><p><strong>extension</strong> (<em>str</em><em>, </em><em>optional</em>) – The extension of the data file</p></li>
<li><p><strong>meta</strong> (<em>str</em><em>, </em><em>optional</em>) – A metadata atttribute to be added to the filename</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.GbmHealPix.source_probability">
<span class="sig-name descname"><span class="pre">source_probability</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ra</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dec</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prior</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/localization.html#GbmHealPix.source_probability"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.GbmHealPix.source_probability" title="Permalink to this definition">¶</a></dt>
<dd><p>The probability that the GbmHealPix localization is associated with
a known point location.  This is calculated against the null hypothesis
that the localization originates from an unassociated random source
that has equal probability of origination anywhere in the sky:</p>
<p><span class="math notranslate nohighlight">\(P(A | \mathcal{I}) =
\frac{P(\mathcal{I} | A) \ P(A)}
{P(\mathcal{I} | A) \ P(A) + P(\mathcal{I} | \neg A) \ P(\neg A)}\)</span></p>
<p>where</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(P(\mathcal{I} | A)\)</span> is the probability of the localization at
the point source once the Earth occultation has been removed</p></li>
<li><p><span class="math notranslate nohighlight">\(P(\mathcal{I} | \neg A)\)</span> is the probability per pixel assuming
a uniform distribution on the sky (i.e. the probability the
localization is associated with a random point on the sky)</p></li>
<li><p><span class="math notranslate nohighlight">\(P(A)\)</span> is the prior probability that the localization is
associated with the point source</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the point source is behind the Earth, then it is assumed that
GBM could not observe it, therefore the probability will be zero.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ra</strong> (<em>float</em>) – The RA of the known source location</p></li>
<li><p><strong>dec</strong> (<em>float</em>) – The Dec of the known source location</p></li>
<li><p><strong>prior</strong> (<em>float</em><em>, </em><em>optional</em>) – The prior probability that the localization
is associated with the source.
Default is 0.5</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>float</em> – The probability that the localization is spatially
associated with the point source</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.GbmHealPix.write">
<span class="sig-name descname"><span class="pre">write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">directory</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/localization.html#GbmHealPix.write"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.GbmHealPix.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the GbmHealPix object to a FITS file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>directory</strong> (<em>str</em>) – The directory to write to</p></li>
<li><p><strong>filename</strong> (<em>str</em><em>, </em><em>optional</em>) – The filename of the FITS file</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<hr class="docutils" />
<div class="section" id="poshist">
<h3>PosHist<a class="headerlink" href="#poshist" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="gbm.data.PosHist">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">gbm.data.</span></span><span class="sig-name descname"><span class="pre">PosHist</span></span><a class="reference internal" href="../_modules/gbm/data/poshist.html#PosHist"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.PosHist" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#gbm.data.data.DataFile" title="gbm.data.data.DataFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">gbm.data.data.DataFile</span></code></a></p>
<p>Class for Fermi Position History</p>
<dl class="field-list simple">
<dt class="field-odd">Attributes</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>datatype</strong> (<em>str</em>) – The datatype of the file</p></li>
<li><p><strong>detector</strong> (<em>str</em>) – The GBM detector the file is associated with</p></li>
<li><p><strong>directory</strong> (<em>str</em>) – The directory the file is located in</p></li>
<li><p><strong>filename</strong> (<em>str</em>) – The filename</p></li>
<li><p><strong>full_path</strong> (<em>str</em>) – The full path+filename</p></li>
<li><p><strong>gti</strong> (<em>[(float, float), …]</em>) – A list of time intervals where Fermi is
outside the SAA</p></li>
<li><p><strong>headers</strong> (<em>dict</em>) – The headers for each extension of the poshist file</p></li>
<li><p><strong>id</strong> (<em>str</em>) – The GBM file ID</p></li>
<li><p><strong>is_gbm_file</strong> (<em>bool</em>) – True if the file is a valid GBM standard file,
False if it is not.</p></li>
<li><p><strong>is_trigger</strong> (<em>bool</em>) – True if the file is a GBM trigger file, False if not</p></li>
<li><p><strong>sun_occulted</strong> (<em>[(float, float), …]</em>) – A list of time intervals where the
sun is occulted by the Earth</p></li>
<li><p><strong>time_range</strong> (<em>float, float</em>) – The time range of the poshist</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.PosHist.detector_angle">
<span class="sig-name descname"><span class="pre">detector_angle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ra</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dec</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">det</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">times</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/poshist.html#PosHist.detector_angle"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.PosHist.detector_angle" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine the angle between a sky location and a GBM detector</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ra</strong> (<em>float</em>) – The RA of a sky position</p></li>
<li><p><strong>dec</strong> (<em>float</em>) – The Dec of a sky position</p></li>
<li><p><strong>det</strong> (<em>str</em>) – The GBM detector</p></li>
<li><p><strong>times</strong> (<em>float</em><em> or </em><em>np.array</em>) – Time(s) in MET</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>np.array</em> – The angle, in degrees, between the position and                       detector pointing</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.PosHist.detector_pointing">
<span class="sig-name descname"><span class="pre">detector_pointing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">det</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">times</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/poshist.html#PosHist.detector_pointing"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.PosHist.detector_pointing" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve the pointing of a GBM detector in equatorial coordinates</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>det</strong> (<em>str</em>) – The GBM detector</p></li>
<li><p><strong>times</strong> (<em>float</em><em> or </em><em>np.array</em>) – Time(s) in MET</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>(np.array, np.array)</em> – The RA, Dec of the detector pointing</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.PosHist.get_altitude">
<span class="sig-name descname"><span class="pre">get_altitude</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">times</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/poshist.html#PosHist.get_altitude"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.PosHist.get_altitude" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve the altitude of Fermi in orbit</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>times</strong> (<em>float</em><em> or </em><em>np.array</em>) – Time(s) in MET</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>np.array</em> – An array of altitudes at the requested times</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.PosHist.get_angular_velocity">
<span class="sig-name descname"><span class="pre">get_angular_velocity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">times</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/poshist.html#PosHist.get_angular_velocity"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.PosHist.get_angular_velocity" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve the angular velocity of Fermi</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>times</strong> (<em>float</em><em> or </em><em>np.array</em>) – Time(s) in MET</p>
</dd>
</dl>
<dl class="simple">
<dt>Returns</dt><dd><p>np.array: A (3, <cite>n</cite>) array of angular velocity components at <cite>n</cite> times</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.PosHist.get_earth_radius">
<span class="sig-name descname"><span class="pre">get_earth_radius</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">times</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/poshist.html#PosHist.get_earth_radius"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.PosHist.get_earth_radius" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve the angular radius of the Earth as observed by Fermi</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>times</strong> (<em>float</em><em> or </em><em>np.array</em>) – Time(s) in MET</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>np.array</em> – An array of the apparent angular radius of the Earth</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.PosHist.get_eic">
<span class="sig-name descname"><span class="pre">get_eic</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">times</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/poshist.html#PosHist.get_eic"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.PosHist.get_eic" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve the position of Fermi in Earth inertial coordinates</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>times</strong> (<em>float</em><em> or </em><em>np.array</em>) – Time(s) in MET</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>np.array</em> – A (3, <cite>n</cite>) array of coordinates at <cite>n</cite> times</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.PosHist.get_geocenter_radec">
<span class="sig-name descname"><span class="pre">get_geocenter_radec</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">times</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/poshist.html#PosHist.get_geocenter_radec"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.PosHist.get_geocenter_radec" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve the Equatorial position of the Geocenter as observed by Fermi</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>times</strong> (<em>float</em><em> or </em><em>np.array</em>) – Time(s) in MET</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>(np.array, np.array)</em> – The RA and Dec of the geocenter</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.PosHist.get_latitude">
<span class="sig-name descname"><span class="pre">get_latitude</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">times</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/poshist.html#PosHist.get_latitude"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.PosHist.get_latitude" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve the position of Fermi in Earth latitude</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>times</strong> (<em>float</em><em> or </em><em>np.array</em>) – Time(s) in MET</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>np.array</em> – An array of latitudes at the requested times</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.PosHist.get_longitude">
<span class="sig-name descname"><span class="pre">get_longitude</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">times</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/poshist.html#PosHist.get_longitude"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.PosHist.get_longitude" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve the position of Fermi in Earth East longitude</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>times</strong> (<em>float</em><em> or </em><em>np.array</em>) – Time(s) in MET</p></li>
<li><p><strong>np.array</strong> – An array of East longitudes at the requested times</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.PosHist.get_mcilwain_l">
<span class="sig-name descname"><span class="pre">get_mcilwain_l</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">times</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/poshist.html#PosHist.get_mcilwain_l"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.PosHist.get_mcilwain_l" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve the approximate McIlwain L value as determined by the
orbital position of Fermi</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>times</strong> (<em>float</em><em> or </em><em>np.array</em>) – Time(s) in MET</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>np.array</em> – An array of McIlwain L values</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.PosHist.get_quaternions">
<span class="sig-name descname"><span class="pre">get_quaternions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">times</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/poshist.html#PosHist.get_quaternions"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.PosHist.get_quaternions" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve the Fermi attitude quaternions</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>times</strong> (<em>float</em><em> or </em><em>np.array</em>) – Time(s) in MET</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>np.array</em> – A (4, <cite>n</cite>) array of quaternions at <cite>n</cite> times</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.PosHist.get_saa_passage">
<span class="sig-name descname"><span class="pre">get_saa_passage</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">times</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/poshist.html#PosHist.get_saa_passage"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.PosHist.get_saa_passage" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine if Fermi is in an SAA passage</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>times</strong> (<em>float</em><em> or </em><em>np.array</em>) – Time(s) in MET</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>np.array(dtype=bool)</em> – A boolean array, where True indicates Fermi                                   is in SAA</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.PosHist.get_sun_visibility">
<span class="sig-name descname"><span class="pre">get_sun_visibility</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">times</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/poshist.html#PosHist.get_sun_visibility"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.PosHist.get_sun_visibility" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine if the sun is visible (not occulted)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>times</strong> (<em>float</em><em> or </em><em>np.array</em>) – Time(s) in MET</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>np.array(dtype=bool)</em> – A boolean array, where True indicates the                                   sun is visible</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.PosHist.get_velocity">
<span class="sig-name descname"><span class="pre">get_velocity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">times</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/poshist.html#PosHist.get_velocity"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.PosHist.get_velocity" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve the velocity of Fermi in Earth inertial coordinates</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>times</strong> (<em>float</em><em> or </em><em>np.array</em>) – Time(s) in MET</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>np.array</em> – A (3, <cite>n</cite>) array of velocity components at <cite>n</cite> times</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.PosHist.location_visible">
<span class="sig-name descname"><span class="pre">location_visible</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ra</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dec</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">times</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/poshist.html#PosHist.location_visible"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.PosHist.location_visible" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine if a sky location is visible or occulted by the Earth</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ra</strong> (<em>float</em>) – The RA of a sky position</p></li>
<li><p><strong>dec</strong> (<em>float</em>) – The Dec of a sky position</p></li>
<li><p><strong>times</strong> (<em>float</em><em> or </em><em>np.array</em>) – Time(s) in MET</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>np.array(dtype=bool)</em> – A boolean array where True indicates the                                   position is visible.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.PosHist.merge">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">merge</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">poshists</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/poshist.html#PosHist.merge"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.PosHist.merge" title="Permalink to this definition">¶</a></dt>
<dd><p>Merge multiple PosHists into a single PosHist object</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>poshists</strong> (list of <a class="reference internal" href="#gbm.data.PosHist" title="gbm.data.PosHist"><code class="xref py py-class docutils literal notranslate"><span class="pre">PosHist</span></code></a>) – List of PosHist objects</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#gbm.data.PosHist" title="gbm.data.PosHist"><code class="xref py py-class docutils literal notranslate"><span class="pre">PosHist</span></code></a> – The merged PosHist object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.PosHist.open">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">open</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/poshist.html#PosHist.open"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.PosHist.open" title="Permalink to this definition">¶</a></dt>
<dd><p>Open and read a position history file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>filename</strong> (<em>str</em>) – The filename of the FITS file</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#gbm.data.PosHist" title="gbm.data.PosHist"><code class="xref py py-class docutils literal notranslate"><span class="pre">PosHist</span></code></a> – The PosHist object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.PosHist.to_equatorial">
<span class="sig-name descname"><span class="pre">to_equatorial</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fermi_az</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fermi_zen</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">times</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/poshist.html#PosHist.to_equatorial"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.PosHist.to_equatorial" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a position in spacecraft coordinates to equatorial coordinates</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fermi_az</strong> (<em>float</em>) – The Fermi azimuth of a position</p></li>
<li><p><strong>fermi_zen</strong> (<em>float</em>) – The Fermi zenith of a position</p></li>
<li><p><strong>times</strong> (<em>float</em><em> or </em><em>np.array</em>) – Time(s) in MET</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>(np.array, np.array)</em> – The RA, Dec of the position</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.PosHist.to_fermi_frame">
<span class="sig-name descname"><span class="pre">to_fermi_frame</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ra</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dec</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">times</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/poshist.html#PosHist.to_fermi_frame"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.PosHist.to_fermi_frame" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert an equatorial position to a position in spacecraft coordinates</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ra</strong> (<em>float</em>) – The RA of a sky position</p></li>
<li><p><strong>dec</strong> (<em>float</em>) – The Dec of a sky position</p></li>
<li><p><strong>times</strong> (<em>float</em><em> or </em><em>np.array</em>) – Time(s) in MET</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>(np.array, np.array)</em> – The Fermi azimuth, zenith</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<hr class="docutils" />
<div class="section" id="rsp">
<h3>RSP<a class="headerlink" href="#rsp" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="gbm.data.RSP">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">gbm.data.</span></span><span class="sig-name descname"><span class="pre">RSP</span></span><a class="reference internal" href="../_modules/gbm/data/drm.html#RSP"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.RSP" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#gbm.data.data.DataFile" title="gbm.data.data.DataFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">gbm.data.data.DataFile</span></code></a></p>
<p>Class for single- and multi-DRM response files</p>
<dl class="field-list simple">
<dt class="field-odd">Attributes</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>channel_centroids</strong> (<em>np.array</em>) – Geometric centroids of the energy channel bins</p></li>
<li><p><strong>channel_widths</strong> (<em>np.array</em>) – Widths of the energy channel bins</p></li>
<li><p><strong>datatype</strong> (<em>str</em>) – The datatype of the file</p></li>
<li><p><strong>detector</strong> (<em>str</em>) – The GBM detector the file is associated with</p></li>
<li><p><strong>directory</strong> (<em>str</em>) – The directory the file is located in</p></li>
<li><p><strong>ebounds</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">np.recarray</span></code>) – The energy channel bounds</p></li>
<li><p><strong>filename</strong> (<em>str</em>) – The filename</p></li>
<li><p><strong>full_path</strong> (<em>str</em>) – The full path+filename</p></li>
<li><p><strong>headers</strong> (<em>dict</em>) – The headers of the RSP file</p></li>
<li><p><strong>id</strong> (<em>str</em>) – The GBM file ID</p></li>
<li><p><strong>is_gbm_file</strong> (<em>bool</em>) – True if the file is a valid GBM standard file,
False if it is not.</p></li>
<li><p><strong>is_trigger</strong> (<em>bool</em>) – True if the file is a GBM trigger file, False if not</p></li>
<li><p><strong>numchans</strong> (<em>int</em>) – Number of energy channels</p></li>
<li><p><strong>numdrms</strong> (<em>int</em>) – Number of DRMs</p></li>
<li><p><strong>numebins</strong> (<em>int</em>) – Number of photon bins</p></li>
<li><p><strong>photon_bins</strong> (<em>np.array, np.array</em>) – The photon bin edges</p></li>
<li><p><strong>photon_bin_centroids</strong> (<em>np.array</em>) – Geometric centroids of the photon bins</p></li>
<li><p><strong>photon_bin_widths</strong> (<em>np.array</em>) – Widths of the photon bins</p></li>
<li><p><strong>trigtime</strong> (<em>float</em>) – The trigger time, if applicable</p></li>
<li><p><strong>tcent</strong> (<em>np.array</em>) – The center times of the intervals over which the DRMs are valid</p></li>
<li><p><strong>tstart</strong> (<em>np.array</em>) – The start times of the intervals over which the DRMs are valid</p></li>
<li><p><strong>tstop</strong> (<em>np.array</em>) – The end times of the intervals over which the DRMs are valid</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.RSP.channel_effective_area">
<span class="sig-name descname"><span class="pre">channel_effective_area</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">atime</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/drm.html#RSP.channel_effective_area"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.RSP.channel_effective_area" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the effective area as a function of recorded channel energy
(integrated over incident photon bins).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>index</strong> (<em>int</em><em>, </em><em>optional</em>) – The DRM index</p></li>
<li><p><strong>atime</strong> (<em>float</em><em>, </em><em>optional</em>) – The time corresponding to a DRM</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#gbm.data.primitives.Bins" title="gbm.data.primitives.Bins"><code class="xref py py-class docutils literal notranslate"><span class="pre">Bins</span></code></a> – A Bins object containing the effective area histogram</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.RSP.drm">
<span class="sig-name descname"><span class="pre">drm</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">index</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/drm.html#RSP.drm"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.RSP.drm" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the DRM based on the index into the DRM list</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>index</strong> (<em>int</em>) – The DRM index</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>np.array</em> – The requested DRM</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.RSP.drm_index">
<span class="sig-name descname"><span class="pre">drm_index</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time_range</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/drm.html#RSP.drm_index"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.RSP.drm_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the indices of the DRMs that cover the requested time range</p>
<p>If the time range is before (after) the times covered by the DRMs in
the RSP object, then the first (last) index will be returned.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>time_range</strong> (<em>float</em><em>, </em><em>float</em>) – The time range</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>np.array</em> – An array of the indices of the DRMs covering the time range</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.RSP.effective_area">
<span class="sig-name descname"><span class="pre">effective_area</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">energy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">atime</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interp_kind</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'linear'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/drm.html#RSP.effective_area"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.RSP.effective_area" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the effective area at a given energy or an array of
energies.  This function interpolates the DRM (in log10(cm^2)) to
provide the effective area for any energy within the photon energy
bounds of the DRM.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>energy</strong> (<em>float</em><em> or </em><em>np.array</em>) – The photon energy or energies at which
to calculate the effective area.</p></li>
<li><p><strong>index</strong> (<em>int</em><em>, </em><em>optional</em>) – The DRM index. Default is 0</p></li>
<li><p><strong>atime</strong> (<em>float</em><em>, </em><em>optional</em>) – The time corresponding to a DRM.
The nearest DRM to the time will be chosen</p></li>
<li><p><strong>interp_kind</strong> (<em>str</em><em>, </em><em>optional</em>) – The kind of interpolation to be
passed to scipy.interp1d.  Default is
‘linear’.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>(np.array)</em> – The effective area</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.RSP.extract_drm">
<span class="sig-name descname"><span class="pre">extract_drm</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">atime</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/drm.html#RSP.extract_drm"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.RSP.extract_drm" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract a single DRM from a multi-DRM RSP2 object and return
a new single-DRM RSP object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>index</strong> (<em>int</em><em>, </em><em>optional</em>) – The DRM index to retrieve</p></li>
<li><p><strong>atime</strong> (<em>float</em><em>, </em><em>optional</em>) – The time corresponding to a DRM.
The nearest DRM to the time will be chosen</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#gbm.data.RSP" title="gbm.data.RSP"><code class="xref py py-class docutils literal notranslate"><span class="pre">RSP</span></code></a> – The single-DRM RSP object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.RSP.fold_spectrum">
<span class="sig-name descname"><span class="pre">fold_spectrum</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">function</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">atime</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">channel_mask</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/drm.html#RSP.fold_spectrum"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.RSP.fold_spectrum" title="Permalink to this definition">¶</a></dt>
<dd><p>Fold a photon spectrum through a DRM to get a count spectrum</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>function</strong> (<em>&lt;function&gt;</em>) – A photon spectrum function.  The function must accept a list of
function parameters as its first argument and an array of photon
energies as its second argument.  The function must return the
evaluation of the photon model in units of ph/s-cm^2-keV.</p></li>
<li><p><strong>params</strong> (<em>list of float</em>) – A list of parameter values to be passed to
the photon spectrum function</p></li>
<li><p><strong>index</strong> (<em>int</em><em>, </em><em>optional</em>) – The index of the DRM to be used from the list
of DRMs in the response. Default is 0.</p></li>
<li><p><strong>atime</strong> (<em>float</em><em>, </em><em>optional</em>) – A time associated with a DRM in the list of available DRMs.
The DRM covering the time closest to atime will be used.
If set, this overrides the index argument.</p></li>
<li><p><strong>channel_mask</strong> (<em>np.array</em><em>, </em><em>optional</em>) – A boolean mask where True indicates the channel is to be used
for folding and False indicates the channel is to not be used
for folding.  If omitted, all channels are used.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>np.array</em> – The count spectrum</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.RSP.from_arrays">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_arrays</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">chan_lo</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chan_hi</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">energies_lo</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">energies_hi</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eff_area</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trigtime</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tstart</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tstop</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">detnam</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">object</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ra_obj</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dec_obj</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">err_rad</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">infile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ch2e_ver</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gain</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mat_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_az</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_el</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">geo_az</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">geo_el</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">det_ang</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">geo_ang</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">atscat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">datatype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filetype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'DRM'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/drm.html#RSP.from_arrays"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.RSP.from_arrays" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a single-DRM RSP object from arrays of channel energies,
incident photon energies and effective area.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>chan_lo</strong> (<em>np.array</em>) – The low edges of the energy channels</p></li>
<li><p><strong>chan_hi</strong> (<em>np.array</em>) – The high edges of the energy channels</p></li>
<li><p><strong>energies_lo</strong> (<em>np.array</em>) – The low edges of the photon bins</p></li>
<li><p><strong>energies_hi</strong> (<em>np.array</em>) – The high edges of the photon bins</p></li>
<li><p><strong>eff_area</strong> (<em>np.array</em>) – The effective area of each photon bin mapped
to each energy channel</p></li>
<li><p><strong>trigtime</strong> (<em>float</em><em>, </em><em>optional</em>) – The trigger time, if applicable.</p></li>
<li><p><strong>tstart</strong> (<em>float</em><em>, </em><em>optional</em>) – The start time of the observation for
which the response is valid</p></li>
<li><p><strong>tstop</strong> (<em>float</em><em>, </em><em>optional</em>) – The stop time of the observation for
which the response is valid</p></li>
<li><p><strong>detnam</strong> (<em>str</em><em>, </em><em>optional</em>) – The detector name the corresponds to the response</p></li>
<li><p><strong>object</strong> (<em>str</em><em>, </em><em>optional</em>) – The object being observed</p></li>
<li><p><strong>ra_obj</strong> (<em>float</em><em>, </em><em>optional</em>) – The RA of the object</p></li>
<li><p><strong>dec_obj</strong> (<em>float</em><em>, </em><em>optional</em>) – The Dec of the object</p></li>
<li><p><strong>err_rad</strong> (<em>float</em><em>, </em><em>optional</em>) – The localization error radius of the object</p></li>
<li><p><strong>infile</strong> (<em>str</em><em>, </em><em>optional</em>) – The file from which the response was made</p></li>
<li><p><strong>ch2e_ver</strong> (<em>str</em><em>, </em><em>optional</em>) – The version of the channel to energy calibration</p></li>
<li><p><strong>gain</strong> (<em>float</em><em>, </em><em>optional</em>) – The gain, if applicable</p></li>
<li><p><strong>mat_type</strong> (<em>int</em><em>, </em><em>optional</em>) – If set: 0=instrument scattering only,
1=atmospheric scattering only,
2=instrument+atmospheric scattering</p></li>
<li><p><strong>src_az</strong> (<em>float</em><em>, </em><em>optional</em>) – The azimuth in spacecraft coordinates for
which the response is valid</p></li>
<li><p><strong>src_el</strong> (<em>float</em><em>, </em><em>optional</em>) – The elevation in spacecraft coordinates for
which the response is valid</p></li>
<li><p><strong>geo_az</strong> (<em>float</em><em>, </em><em>optional</em>) – The location of the geocenter in spacecraft azimuth</p></li>
<li><p><strong>geo_el</strong> (<em>float</em><em>, </em><em>optional</em>) – The location of the geocenter in spacecraft elevation</p></li>
<li><p><strong>det_ang</strong> (<em>float</em><em>, </em><em>optional</em>) – The angle between detector normal and
position for which the response is valid</p></li>
<li><p><strong>geo_ang</strong> (<em>float</em><em>, </em><em>optional</em>) – The angle between the geocenter and the
position for which the response is valid</p></li>
<li><p><strong>atscat</strong> (<em>str</em><em>, </em><em>optional</em>) – The atmospheric scattering database used</p></li>
<li><p><strong>datatype</strong> (<em>str</em><em>, </em><em>optional</em>) – The datatype to which the response corresponds</p></li>
<li><p><strong>filetype</strong> (<em>str</em><em>, </em><em>optional</em>) – If not set, default is ‘DRM’</p></li>
<li><p><strong>filename</strong> (<em>str</em><em>, </em><em>optional</em>) – If not set, a default name will be
constructed from other inputs</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#gbm.data.RSP" title="gbm.data.RSP"><code class="xref py py-class docutils literal notranslate"><span class="pre">RSP</span></code></a> – The newly created RSP object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.RSP.interpolate">
<span class="sig-name descname"><span class="pre">interpolate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">atime</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/drm.html#RSP.interpolate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.RSP.interpolate" title="Permalink to this definition">¶</a></dt>
<dd><p>Interpolate over a multi-DRM object for a given time and return
a new single-DRM RSP object. This function uses <a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.interpolate.interp1d.html">scipy.interpolate.interp1d</a>.</p>
<p>If the given time is before (after) the times covered by the DRMs
within the RSP object, then the first (last) DRM will be returned.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>atime</strong> (<em>float</em>) – The time corresponding to a DRM.  The nearest DRM to
the time will be chosen</p></li>
<li><p><strong>**kwargs</strong> – Keyword arguments to be passed to scipy.interpolate.interp1d</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#gbm.data.RSP" title="gbm.data.RSP"><code class="xref py py-class docutils literal notranslate"><span class="pre">RSP</span></code></a> – The interpolated single-DRM RSP object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.RSP.nearest_drm">
<span class="sig-name descname"><span class="pre">nearest_drm</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">atime</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/drm.html#RSP.nearest_drm"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.RSP.nearest_drm" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the nearest DRM to the requested time</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>atime</strong> (<em>float</em>) – The requested time</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>np.array</em> – The nearest DRM</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.RSP.open">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">open</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/drm.html#RSP.open"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.RSP.open" title="Permalink to this definition">¶</a></dt>
<dd><p>Read a RSP or RSP2 file from disk</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>filename</strong> (<em>str</em>) – The filename</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#gbm.data.RSP" title="gbm.data.RSP"><code class="xref py py-class docutils literal notranslate"><span class="pre">RSP</span></code></a> The RSP object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.RSP.photon_effective_area">
<span class="sig-name descname"><span class="pre">photon_effective_area</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">atime</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/drm.html#RSP.photon_effective_area"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.RSP.photon_effective_area" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the effective area as a function of incident photon energy
(integrated over recorded energy channels).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>index</strong> (<em>int</em><em>, </em><em>optional</em>) – The DRM index</p></li>
<li><p><strong>atime</strong> (<em>float</em><em>, </em><em>optional</em>) – The time corresponding to a DRM</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#gbm.data.primitives.Bins" title="gbm.data.primitives.Bins"><code class="xref py py-class docutils literal notranslate"><span class="pre">Bins</span></code></a> – A Bins object containing the effective area histogram</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.RSP.rebin">
<span class="sig-name descname"><span class="pre">rebin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">factor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">edge_indices</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/drm.html#RSP.rebin"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.RSP.rebin" title="Permalink to this definition">¶</a></dt>
<dd><p>Rebins the channel energy axis of a DRM and returns a new response
object.  Rebinning can only be used to downgrade the channel resolution
and is constrained to the channel edges of the current DRM.</p>
<p>Rebinning can be performed by either defining an integral factor of the
number of current energy channels to combine (e.g. factor=4 for 128
energy channels would result in 32 energy channels), or by defining an
index array into the current channel edges that will define the new set
of edges.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>index</strong> (<em>int</em><em>, </em><em>optional</em>) – The DRM index. Default is 0</p></li>
<li><p><strong>factor</strong> (<em>int</em><em>, </em><em>optional</em>) – The rebinning factor. Must set either this
or <cite>edge_indices</cite></p></li>
<li><p><strong>edge_indices</strong> (<em>np.array</em><em>, </em><em>optional</em>) – The index array that represents
which energy edges should remain
in the rebinned DRM.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>(<a class="reference internal" href="#gbm.data.RSP" title="gbm.data.RSP"><code class="xref py py-class docutils literal notranslate"><span class="pre">RSP</span></code></a>) – A new rebinned single-DRM response object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.RSP.resample">
<span class="sig-name descname"><span class="pre">resample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_photon_bins</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">photon_bin_edges</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_interp_points</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interp_kind</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'linear'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/drm.html#RSP.resample"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.RSP.resample" title="Permalink to this definition">¶</a></dt>
<dd><p>Resamples the incident photon axis of a DRM and returns a new
response object.  Resampling can be used to downgrade the photon energy
resolution, upgrade the resolution, and/or redefine the edges of the
incident photon bins.  By definition, the resampling can only be
performed within the photon energy range of the current object.</p>
<p>The process for resampling is to create a high-resolution grid for each
new photon bin, interpolate the differential effective area onto that
grid (interpolation is performed on log10(effective area)), and then
integrate the differential effective area over the grid points in each
bin.  The final effective area is then scaled by the ratio of the
initial number of photon bins to the requested number of photon bins.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>index</strong> (<em>int</em><em>, </em><em>optional</em>) – The DRM index. Default is 0</p></li>
<li><p><strong>num_photon_bins</strong> (<em>int</em><em>, </em><em>optional</em>) – The number of photon bins in the
new DRM. The bin edges will be
generated logarithmically. Only set
this or <cite>photon_bin_edges</cite>.</p></li>
<li><p><strong>photon_bin_edges</strong> (<em>np.array</em><em>, </em><em>optional</em>) – The array of photon bin edges.
Only set this or
<cite>num_photon_bins</cite></p></li>
<li><p><strong>num_interp_points</strong> (<em>int</em><em>, </em><em>optional</em>) – The number of interpolation points
used to integrate over for each
new photon bin. Default is 20.</p></li>
<li><p><strong>interp_kind</strong> (<em>str</em><em>, </em><em>optional</em>) – The kind of interpolation to be
passed to scipy.interp1d.  Default is
‘linear’.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>(<a class="reference internal" href="#gbm.data.RSP" title="gbm.data.RSP"><code class="xref py py-class docutils literal notranslate"><span class="pre">RSP</span></code></a>) – A new resampled single-DRM response object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.RSP.set_properties">
<span class="sig-name descname"><span class="pre">set_properties</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">detector</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trigtime</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tstart</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">datatype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extension</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">meta</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gbm.data.RSP.set_properties" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the properties of the data file.  Useful for creating new
data files.  A standardized filename will be built from the
parameters</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>detector</strong> (<em>str</em><em>, </em><em>optional</em>) – The detector the data file belongs to</p></li>
<li><p><strong>trigtime</strong> (<em>float</em><em>, </em><em>optional</em>) – The trigger time, if applicable</p></li>
<li><p><strong>tstart</strong> (<em>float</em>) – The start time of the data file.
Must be set if trigtime is not.</p></li>
<li><p><strong>datatype</strong> (<em>str</em><em>, </em><em>optional</em>) – The type of data the file contains</p></li>
<li><p><strong>extension</strong> (<em>str</em><em>, </em><em>optional</em>) – The extension of the data file</p></li>
<li><p><strong>meta</strong> (<em>str</em><em>, </em><em>optional</em>) – A metadata atttribute to be added to the filename</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.RSP.weighted">
<span class="sig-name descname"><span class="pre">weighted</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">weights</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bin_centers</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/drm.html#RSP.weighted"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.RSP.weighted" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a counts-weighted DRM.
For long spectral accumulations, the time series of responses needs
to be weighted by the counts history</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>weights</strong> (<em>np.array</em>) – The weights of the counts history. Must sum to 1.0</p></li>
<li><p><strong>bin_centers</strong> (<em>np.array</em>) – The times at the center of the time bins</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>np.array</em> – The weighted DRM</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.RSP.write">
<span class="sig-name descname"><span class="pre">write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">directory</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/drm.html#RSP.write"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.RSP.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes a single-DRM RSP object to a FITS file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>directory</strong> (<em>str</em>) – Where to write the file</p></li>
<li><p><strong>filename</strong> (<em>str</em><em>, </em><em>optional</em>) – The filename to write to</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.RSP.write_weighted">
<span class="sig-name descname"><span class="pre">write_weighted</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tstart</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tstop</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weights</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">directory</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/drm.html#RSP.write_weighted"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.RSP.write_weighted" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes a counts-weighted DRM to a FITS file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tstart</strong> (<em>np.array</em>) – The start times of the count history</p></li>
<li><p><strong>tstop</strong> (<em>np.array</em>) – The end times of the count history</p></li>
<li><p><strong>weights</strong> (<em>np.array</em>) – The normalized weights</p></li>
<li><p><strong>directory</strong> (<em>str</em>) – The directory to write the file</p></li>
<li><p><strong>filename</strong> (<em>str</em><em>, </em><em>optional</em>) – If set, will override the standardized name</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<hr class="docutils" />
<div class="section" id="tcat">
<h3>Tcat<a class="headerlink" href="#tcat" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="gbm.data.Tcat">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">gbm.data.</span></span><span class="sig-name descname"><span class="pre">Tcat</span></span><a class="reference internal" href="../_modules/gbm/data/tcat.html#Tcat"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.Tcat" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#gbm.data.data.DataFile" title="gbm.data.data.DataFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">gbm.data.data.DataFile</span></code></a></p>
<p>Class for Trigger Catalog (TCAT) files</p>
<dl class="field-list simple">
<dt class="field-odd">Attributes</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>datatype</strong> (<em>str</em>) – The datatype of the file</p></li>
<li><p><strong>detector</strong> (<em>str</em>) – The GBM detector the file is associated with</p></li>
<li><p><strong>directory</strong> (<em>str</em>) – The directory the file is located in</p></li>
<li><p><strong>fermi_location</strong> (<em>float, float</em>) – Fermi’s orbital longitude and latitude</p></li>
<li><p><strong>filename</strong> (<em>str</em>) – The filename</p></li>
<li><p><strong>full_path</strong> (<em>str</em>) – The full path+filename</p></li>
<li><p><strong>headers</strong> (<em>dict</em>) – The headers for each extension of the file</p></li>
<li><p><strong>id</strong> (<em>str</em>) – The GBM file ID</p></li>
<li><p><strong>is_gbm_file</strong> (<em>bool</em>) – True if the file is a valid GBM standard file,
False if it is not.</p></li>
<li><p><strong>is_trigger</strong> (<em>bool</em>) – True if the file is a GBM trigger file, False if not</p></li>
<li><p><strong>localizing_instrument</strong> (<em>str</em>) – The localizing instrument</p></li>
<li><p><strong>location</strong> (<em>float, float, float</em>) – RA, Dec, and localization uncertainty</p></li>
<li><p><strong>location_fermi_frame</strong> (<em>float, float</em>) – Location in Fermi azimuth and zenith</p></li>
<li><p><strong>name</strong> (<em>str</em>) – Name of the trigger</p></li>
<li><p><strong>time_range</strong> (<em>float, float</em>) – The time range</p></li>
<li><p><strong>trigtime</strong> (<em>float</em>) – The trigger time</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.Tcat.open">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">open</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/tcat.html#Tcat.open"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.Tcat.open" title="Permalink to this definition">¶</a></dt>
<dd><p>Open a TCAT file and return the Tcat object</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>filename</strong> (<em>str</em>) – The filename of the TCAT file</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#gbm.data.Tcat" title="gbm.data.Tcat"><code class="xref py py-class docutils literal notranslate"><span class="pre">Tcat</span></code></a> – The Tcat object</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<hr class="docutils" />
<div class="section" id="trigdat">
<h3>Trigdat<a class="headerlink" href="#trigdat" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="gbm.data.Trigdat">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">gbm.data.</span></span><span class="sig-name descname"><span class="pre">Trigdat</span></span><a class="reference internal" href="../_modules/gbm/data/trigdat.html#Trigdat"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.Trigdat" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#gbm.data.PosHist" title="gbm.data.poshist.PosHist"><code class="xref py py-class docutils literal notranslate"><span class="pre">gbm.data.poshist.PosHist</span></code></a></p>
<p>Class for the GBM Trigger Data.</p>
<dl class="field-list simple">
<dt class="field-odd">Attributes</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>backrates</strong> (<a class="reference internal" href="#gbm.data.trigdat.BackRates" title="gbm.data.trigdat.BackRates"><code class="xref py py-class docutils literal notranslate"><span class="pre">BackRates</span></code></a>) – A BackRates object containing the info from the on-board background</p></li>
<li><p><strong>datatype</strong> (<em>str</em>) – The datatype of the file</p></li>
<li><p><strong>detector</strong> (<em>str</em>) – The GBM detector the file is associated with</p></li>
<li><p><strong>directory</strong> (<em>str</em>) – The directory the file is located in</p></li>
<li><p><strong>filename</strong> (<em>str</em>) – The filename</p></li>
<li><p><strong>fsw_locations</strong> – (<a class="reference internal" href="#gbm.data.trigdat.FswLocation" title="gbm.data.trigdat.FswLocation"><code class="xref py py-class docutils literal notranslate"><span class="pre">FswLocation</span></code></a>):
A list of flight-software-determined locations for the event</p></li>
<li><p><strong>full_path</strong> (<em>str</em>) – The full path+filename</p></li>
<li><p><strong>headers</strong> (<em>dict</em>) – The headers for each extension of the file</p></li>
<li><p><strong>id</strong> (<em>str</em>) – The GBM file ID</p></li>
<li><p><strong>is_gbm_file</strong> (<em>bool</em>) – True if the file is a valid GBM standard file,
False if it is not.</p></li>
<li><p><strong>is_trigger</strong> (<em>bool</em>) – True if the file is a GBM trigger file, False if not</p></li>
<li><p><strong>maxrates</strong> (list of <a class="reference internal" href="#gbm.data.trigdat.MaxRates" title="gbm.data.trigdat.MaxRates"><code class="xref py py-class docutils literal notranslate"><span class="pre">MaxRates</span></code></a>) – A list of MaxRates objects, each containing maxrates info</p></li>
<li><p><strong>num_maxrates</strong> (<em>int</em>) – The number of MaxRates issued by the flight software</p></li>
<li><p><strong>time_range</strong> (<em>float, float</em>) – The time range of the data</p></li>
<li><p><strong>triggered_detectors</strong> – (list of str): The detectors that were triggered</p></li>
<li><p><strong>trigrates</strong> (<a class="reference internal" href="#gbm.data.trigdat.MaxRates" title="gbm.data.trigdat.MaxRates"><code class="xref py py-class docutils literal notranslate"><span class="pre">MaxRates</span></code></a>) – A MaxRates object containing the trigger information and rates</p></li>
<li><p><strong>trigtime</strong> (<em>float</em>) – The trigger time</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.Trigdat.get_fsw_locations">
<span class="sig-name descname"><span class="pre">get_fsw_locations</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">index</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/trigdat.html#Trigdat.get_fsw_locations"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.Trigdat.get_fsw_locations" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve a flight software localization</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>index</strong> (<em>int</em>) – The index of the localization to retrieve. Not to
exceed num_maxrates-1</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#gbm.data.trigdat.FswLocation" title="gbm.data.trigdat.FswLocation"><code class="xref py py-class docutils literal notranslate"><span class="pre">FswLocation</span></code></a> – The flight software localization info</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.Trigdat.get_maxrates">
<span class="sig-name descname"><span class="pre">get_maxrates</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">index</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/trigdat.html#Trigdat.get_maxrates"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.Trigdat.get_maxrates" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve a MaxRates</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>index</strong> (<em>int</em>) – The index of the MaxRates to retrieve. Not to
exceed num_maxrates-1</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#gbm.data.trigdat.MaxRates" title="gbm.data.trigdat.MaxRates"><code class="xref py py-class docutils literal notranslate"><span class="pre">MaxRates</span></code></a> – The MaxRates object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.Trigdat.get_saa_passage">
<span class="sig-name descname"><span class="pre">get_saa_passage</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">times</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/trigdat.html#Trigdat.get_saa_passage"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.Trigdat.get_saa_passage" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine if Fermi is in an SAA passage</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>times</strong> (<em>float</em><em> or </em><em>np.array</em>) – Time(s) in MET</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>np.array(dtype=bool)</em> – A boolean array, where True indicates Fermi                                   is in SAA</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.Trigdat.open">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">open</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/trigdat.html#Trigdat.open"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.Trigdat.open" title="Permalink to this definition">¶</a></dt>
<dd><p>Open and read a trigdat file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>filename</strong> (<em>str</em>) – The filename of the trigdat file</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#gbm.data.Trigdat" title="gbm.data.Trigdat"><code class="xref py py-class docutils literal notranslate"><span class="pre">Trigdat</span></code></a> – The Trigdat object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.Trigdat.sum_detectors">
<span class="sig-name descname"><span class="pre">sum_detectors</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">detectors</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timescale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1024</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/trigdat.html#Trigdat.sum_detectors"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.Trigdat.sum_detectors" title="Permalink to this definition">¶</a></dt>
<dd><p>Sum the data from a list of detectors and convert to a CTIME-like
<a class="reference internal" href="#gbm.data.phaii.PHAII" title="gbm.data.phaii.PHAII"><code class="xref py py-class docutils literal notranslate"><span class="pre">PHAII</span></code></a> object</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>detectors</strong> (<em>list of str</em>) – The detectors to sum</p></li>
<li><p><strong>timescale</strong> (<em>int</em><em>, </em><em>optional</em>) – The minimum timescale in ms of the data to return.  Available
options are 1024, 256, and 64.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#gbm.data.Ctime" title="gbm.data.Ctime"><code class="xref py py-class docutils literal notranslate"><span class="pre">Ctime</span></code></a> – The CTIME-like PHAII object with the detector-summed data</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.Trigdat.to_ctime">
<span class="sig-name descname"><span class="pre">to_ctime</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">detector</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timescale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1024</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/trigdat.html#Trigdat.to_ctime"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.Trigdat.to_ctime" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the data for a detector to a CTIME-like
<a class="reference internal" href="#gbm.data.phaii.PHAII" title="gbm.data.phaii.PHAII"><code class="xref py py-class docutils literal notranslate"><span class="pre">PHAII</span></code></a> object</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>detector</strong> (<em>str</em>) – The detector to convert</p></li>
<li><p><strong>timescale</strong> (<em>int</em><em>, </em><em>optional</em>) – The minimum timescale in ms of the data to return. Available
options are 1024, 256, and 64.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#gbm.data.Ctime" title="gbm.data.Ctime"><code class="xref py py-class docutils literal notranslate"><span class="pre">Ctime</span></code></a> – The CTIME-like PHAII object with the                                       trigdat data</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<hr class="docutils" />
<div class="section" id="tte">
<h3>TTE<a class="headerlink" href="#tte" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="gbm.data.TTE">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">gbm.data.</span></span><span class="sig-name descname"><span class="pre">TTE</span></span><a class="reference internal" href="../_modules/gbm/data/phaii.html#TTE"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.TTE" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#gbm.data.data.DataFile" title="gbm.data.data.DataFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">gbm.data.data.DataFile</span></code></a></p>
<p>Class for Time-Tagged Event data</p>
<dl class="field-list simple">
<dt class="field-odd">Attributes</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<a class="reference internal" href="#gbm.data.primitives.EventList" title="gbm.data.primitives.EventList"><code class="xref py py-class docutils literal notranslate"><span class="pre">EventList</span></code></a>) – The event data</p></li>
<li><p><strong>datatype</strong> (<em>str</em>) – The datatype of the file</p></li>
<li><p><strong>detector</strong> (<em>str</em>) – The GBM detector the file is associated with</p></li>
<li><p><strong>directory</strong> (<em>str</em>) – The directory the file is located in</p></li>
<li><p><strong>energy_range</strong> (<em>float, float</em>) – The energy range of the data</p></li>
<li><p><strong>filename</strong> (<em>str</em>) – The filename</p></li>
<li><p><strong>full_path</strong> (<em>str</em>) – The full path+filename</p></li>
<li><p><strong>gti</strong> (<em>[(float, float), …]</em>) – A list of tuples defining the good time intervals</p></li>
<li><p><strong>headers</strong> (<em>dict</em>) – The headers for each extension of the TTE</p></li>
<li><p><strong>id</strong> (<em>str</em>) – The GBM file ID</p></li>
<li><p><strong>is_gbm_file</strong> (<em>bool</em>) – True if the file is a valid GBM standard file,
False if it is not.</p></li>
<li><p><strong>is_trigger</strong> (<em>bool</em>) – True if the file is a GBM trigger file, False if not</p></li>
<li><p><strong>numchans</strong> (<em>int</em>) – The number of energy channels</p></li>
<li><p><strong>trigtime</strong> (<em>float</em>) – The trigger time of the data, if available.</p></li>
<li><p><strong>time_range</strong> (<em>float, float</em>) – The time range of the data</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.TTE.from_data">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gti</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trigtime</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">detector</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">object</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ra_obj</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dec_obj</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">err_rad</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/phaii.html#TTE.from_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.TTE.from_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a TTE object from an EventList data object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<a class="reference internal" href="#gbm.data.primitives.EventList" title="gbm.data.primitives.EventList"><code class="xref py py-class docutils literal notranslate"><span class="pre">EventList</span></code></a>) – The event data</p></li>
<li><p><strong>gti</strong> (<em>[</em><em>(</em><em>float</em><em>, </em><em>float</em><em>)</em><em>, </em><em>...</em><em>]</em><em>, </em><em>optional</em>) – The list of tuples representing the good time intervals
(start, stop). If omitted, the GTI is assumed to be
[(tstart, tstop)].</p></li>
<li><p><strong>trigtime</strong> (<em>float</em><em>, </em><em>optional</em>) – The trigger time, if applicable. If provided, the data times
will be shifted relative to the trigger time.</p></li>
<li><p><strong>detector</strong> (<em>str</em><em>, </em><em>optional</em>) – The detector that produced the data</p></li>
<li><p><strong>object</strong> (<em>str</em><em>, </em><em>optional</em>) – The object being observed</p></li>
<li><p><strong>ra_obj</strong> (<em>float</em><em>, </em><em>optional</em>) – The RA of the object</p></li>
<li><p><strong>dec_obj</strong> (<em>float</em><em>, </em><em>optional</em>) – The Dec of the object</p></li>
<li><p><strong>err_rad</strong> (<em>float</em><em>, </em><em>optional</em>) – The localization error radius of the object</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#gbm.data.TTE" title="gbm.data.TTE"><code class="xref py py-class docutils literal notranslate"><span class="pre">TTE</span></code></a> – The newly created TTE object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.TTE.get_exposure">
<span class="sig-name descname"><span class="pre">get_exposure</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time_ranges</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/phaii.html#TTE.get_exposure"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.TTE.get_exposure" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the total exposure of a time range or time ranges of data</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>time_ranges</strong> (<em>[</em><em>(</em><em>float</em><em>, </em><em>float</em><em>)</em><em>, </em><em>...</em><em>]</em><em>, </em><em>optional</em>) – The time range or time ranges over which to calculate the
exposure. If omitted, calculates the total exposure of the data.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>float</em> – The exposure of the time selections</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.TTE.merge">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">merge</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ttes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">primary</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_unique</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/phaii.html#TTE.merge"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.TTE.merge" title="Permalink to this definition">¶</a></dt>
<dd><p>Merge multiple TTE objects into a single new TTE object.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The amount of data in a single TTE object can be quite large. It is
up to you to determine if you have enough memory to support the merge.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ttes</strong> (<em>lists</em>) – A list of TTE objects to merge</p></li>
<li><p><strong>primary</strong> (<em>int</em>) – The index into the list of TTE objects to designate the primary
TTE object.  The primary object will be the reference for the
header information for the new merged TTE object. Default is the
first TTE object in the list (primary=0).</p></li>
<li><p><strong>force_unique</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, force all events to be unique via brute force sorting.
If False, the EventLists will only be checked and masked for
overlapping time ranges. Events can potentially be lost if the
merged EventLists contain overlapping times (but not necessarily
duplicate events), however this method is much faster.
Default is True.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#gbm.data.TTE" title="gbm.data.TTE"><code class="xref py py-class docutils literal notranslate"><span class="pre">TTE</span></code></a> – The new merged TTE object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.TTE.open">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">open</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/phaii.html#TTE.open"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.TTE.open" title="Permalink to this definition">¶</a></dt>
<dd><p>Open a TTE FITS file and return the TTE object</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>filename</strong> (<em>str</em>) – The filename of the FITS file</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#gbm.data.TTE" title="gbm.data.TTE"><code class="xref py py-class docutils literal notranslate"><span class="pre">TTE</span></code></a> – The TTE object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.TTE.rebin_energy">
<span class="sig-name descname"><span class="pre">rebin_energy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bin_method</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/phaii.html#TTE.rebin_energy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.TTE.rebin_energy" title="Permalink to this definition">¶</a></dt>
<dd><p>Produce a TTE object with rebinned PHA channels</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bin_method</strong> (<em>&lt;function&gt;</em>) – A rebinning function</p></li>
<li><p><strong>*args</strong> – Arguments to be passed to the bin method</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>Returns</dt><dd><p><a class="reference internal" href="#gbm.data.TTE" title="gbm.data.TTE"><code class="xref py py-class docutils literal notranslate"><span class="pre">TTE</span></code></a>: A new TTE object with the rebinned PHA channels</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.TTE.set_properties">
<span class="sig-name descname"><span class="pre">set_properties</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">detector</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trigtime</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tstart</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">datatype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extension</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">meta</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gbm.data.TTE.set_properties" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the properties of the data file.  Useful for creating new
data files.  A standardized filename will be built from the
parameters</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>detector</strong> (<em>str</em><em>, </em><em>optional</em>) – The detector the data file belongs to</p></li>
<li><p><strong>trigtime</strong> (<em>float</em><em>, </em><em>optional</em>) – The trigger time, if applicable</p></li>
<li><p><strong>tstart</strong> (<em>float</em>) – The start time of the data file.
Must be set if trigtime is not.</p></li>
<li><p><strong>datatype</strong> (<em>str</em><em>, </em><em>optional</em>) – The type of data the file contains</p></li>
<li><p><strong>extension</strong> (<em>str</em><em>, </em><em>optional</em>) – The extension of the data file</p></li>
<li><p><strong>meta</strong> (<em>str</em><em>, </em><em>optional</em>) – A metadata atttribute to be added to the filename</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.TTE.slice_energy">
<span class="sig-name descname"><span class="pre">slice_energy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">energy_ranges</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/phaii.html#TTE.slice_energy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.TTE.slice_energy" title="Permalink to this definition">¶</a></dt>
<dd><p>Slice the TTE by one or more energy range. Produces a new TTE object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>energy_ranges</strong> (<em>[</em><em>(</em><em>float</em><em>, </em><em>float</em><em>)</em><em>, </em><em>...</em><em>]</em>) – The energy ranges to slice the data to.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#gbm.data.TTE" title="gbm.data.TTE"><code class="xref py py-class docutils literal notranslate"><span class="pre">TTE</span></code></a> – A new TTE object with the requested energy ranges</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.TTE.slice_time">
<span class="sig-name descname"><span class="pre">slice_time</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time_ranges</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/phaii.html#TTE.slice_time"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.TTE.slice_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Slice the TTE by one or more time range. Produces a new TTE object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>time_ranges</strong> (<em>[</em><em>(</em><em>float</em><em>, </em><em>float</em><em>)</em><em>, </em><em>...</em><em>]</em>) – The time ranges to slice the data to.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#gbm.data.TTE" title="gbm.data.TTE"><code class="xref py py-class docutils literal notranslate"><span class="pre">TTE</span></code></a> – A new TTE object with the requested time ranges</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.TTE.to_pha">
<span class="sig-name descname"><span class="pre">to_pha</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time_ranges</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">energy_range</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">channel_range</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/phaii.html#TTE.to_pha"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.TTE.to_pha" title="Permalink to this definition">¶</a></dt>
<dd><p>Integrate the TTE data over time to produce a PHA object</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>time_ranges</strong> (<em>[</em><em>(</em><em>float</em><em>, </em><em>float</em><em>)</em><em>, </em><em>...</em><em>]</em><em>, </em><em>optional</em>) – The time range of the spectrum. If omitted, uses the entire
time range of the data.</p></li>
<li><p><strong>energy_range</strong> (<em>(</em><em>float</em><em>, </em><em>float</em><em>)</em><em>, </em><em>optional</em>) – The energy range of the spectrum. If omitted, uses the entire
energy range of the data.</p></li>
<li><p><strong>channel_range</strong> (<em>(</em><em>int</em><em>, </em><em>int</em><em>)</em><em>, </em><em>optional</em>) – The channel range of the spectrum. If omitted, uses the entire
energy range of the data.</p></li>
<li><p><strong>**kwargs</strong> – Options passed to <a class="reference internal" href="#gbm.data.PHA.from_data" title="gbm.data.PHA.from_data"><code class="xref py py-meth docutils literal notranslate"><span class="pre">PHA.from_data()</span></code></a></p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#gbm.data.PHA" title="gbm.data.PHA"><code class="xref py py-class docutils literal notranslate"><span class="pre">PHA</span></code></a> – The PHA object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.TTE.to_phaii">
<span class="sig-name descname"><span class="pre">to_phaii</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bin_method</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_range</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">energy_range</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">channel_range</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/phaii.html#TTE.to_phaii"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.TTE.to_phaii" title="Permalink to this definition">¶</a></dt>
<dd><p>Utilizing a binning function, convert the data to a PHAII object</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bin_method</strong> (<em>&lt;function&gt;</em>) – A binning function</p></li>
<li><p><strong>*args</strong> – Arguments to pass to the binning function</p></li>
<li><p><strong>time_range</strong> (<em>[</em><em>(</em><em>float</em><em>, </em><em>float</em><em>)</em><em>, </em><em>...</em><em>]</em><em>, </em><em>optional</em>) – The time range of the spectrum. If omitted, uses the entire
time range of the data.</p></li>
<li><p><strong>energy_range</strong> (<em>(</em><em>float</em><em>, </em><em>float</em><em>)</em><em>, </em><em>optional</em>) – The energy range of the spectrum. If omitted, uses the entire
energy range of the data.</p></li>
<li><p><strong>channel_range</strong> (<em>(</em><em>int</em><em>, </em><em>int</em><em>)</em><em>, </em><em>optional</em>) – The channel range of the spectrum. If omitted, uses the entire
energy range of the data.</p></li>
<li><p><strong>**kwargs</strong> – Options to pass to the binning function</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#gbm.data.Cspec" title="gbm.data.Cspec"><code class="xref py py-class docutils literal notranslate"><span class="pre">Cspec</span></code></a> – The PHAII object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.TTE.to_spectrum">
<span class="sig-name descname"><span class="pre">to_spectrum</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time_range</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">energy_range</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">channel_range</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/phaii.html#TTE.to_spectrum"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.TTE.to_spectrum" title="Permalink to this definition">¶</a></dt>
<dd><p>Integrate the TTE data over time to produce a count spectrum</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>time_range</strong> (<em>[</em><em>(</em><em>float</em><em>, </em><em>float</em><em>)</em><em>, </em><em>...</em><em>]</em><em>, </em><em>optional</em>) – The time range of the spectrum. If omitted, uses the entire
time range of the data.</p></li>
<li><p><strong>energy_range</strong> (<em>(</em><em>float</em><em>, </em><em>float</em><em>)</em><em>, </em><em>optional</em>) – The energy range of the spectrum. If omitted, uses the entire
energy range of the data.</p></li>
<li><p><strong>channel_range</strong> (<em>(</em><em>int</em><em>, </em><em>int</em><em>)</em><em>, </em><em>optional</em>) – The channel range of the spectrum. If omitted, uses the entire
energy range of the data.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#gbm.data.primitives.EnergyBins" title="gbm.data.primitives.EnergyBins"><code class="xref py py-class docutils literal notranslate"><span class="pre">EnergyBins</span></code></a> – The spectrum data</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.TTE.write">
<span class="sig-name descname"><span class="pre">write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">directory</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/phaii.html#TTE.write"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.TTE.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes the data to a FITS file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>directory</strong> (<em>str</em>) – The directory to write the file</p></li>
<li><p><strong>filename</strong> (<em>str</em><em>, </em><em>optional</em>) – If set, will override the standardized name</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<hr class="docutils" />
<div class="section" id="scat">
<h3>Scat<a class="headerlink" href="#scat" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="gbm.data.Scat">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">gbm.data.</span></span><span class="sig-name descname"><span class="pre">Scat</span></span><a class="reference internal" href="../_modules/gbm/data/scat.html#Scat"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.Scat" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#gbm.data.data.DataFile" title="gbm.data.data.DataFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">gbm.data.data.DataFile</span></code></a></p>
<p>A container class for the spectral fit data in an SCAT file</p>
<dl class="field-list simple">
<dt class="field-odd">Attributes</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>detectors</strong> (<em>list</em>) – The <code class="xref py py-class docutils literal notranslate"><span class="pre">DetectorData</span></code> objects used in the analysis</p></li>
<li><p><strong>headers</strong> (<em>dict</em>) – The SCAT file headers</p></li>
<li><p><strong>model_fits</strong> (<em>list</em>) – The <code class="xref py py-class docutils literal notranslate"><span class="pre">GbmModelFit</span></code> objects, one for each model
fit</p></li>
<li><p><strong>num_detectors</strong> (<em>int</em>) – The number of detectors in the SCAT file</p></li>
<li><p><strong>num_fits</strong> (<em>int</em>) – The number of model fits</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.Scat.add_detector_data">
<span class="sig-name descname"><span class="pre">add_detector_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">detector_data</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/scat.html#Scat.add_detector_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.Scat.add_detector_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a new detector to the Scat</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>detector_data</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">DetectorData</span></code>) – The detector data</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.Scat.add_model_fit">
<span class="sig-name descname"><span class="pre">add_model_fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model_fit</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/scat.html#Scat.add_model_fit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.Scat.add_model_fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a new model fit to the Scat</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>model_fit</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">GbmModelFit</span></code>) – The model fit data</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.Scat.open">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">open</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/scat.html#Scat.open"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.Scat.open" title="Permalink to this definition">¶</a></dt>
<dd><p>Open a SCAT FITS file and create a Scat object</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>filename</strong> (<em>str</em>) – The file to open</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>(<a class="reference internal" href="#gbm.data.Scat" title="gbm.data.Scat"><code class="xref py py-class docutils literal notranslate"><span class="pre">Scat</span></code></a>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.Scat.set_properties">
<span class="sig-name descname"><span class="pre">set_properties</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">detector</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trigtime</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tstart</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">datatype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extension</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">meta</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gbm.data.Scat.set_properties" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the properties of the data file.  Useful for creating new
data files.  A standardized filename will be built from the
parameters</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>detector</strong> (<em>str</em><em>, </em><em>optional</em>) – The detector the data file belongs to</p></li>
<li><p><strong>trigtime</strong> (<em>float</em><em>, </em><em>optional</em>) – The trigger time, if applicable</p></li>
<li><p><strong>tstart</strong> (<em>float</em>) – The start time of the data file.
Must be set if trigtime is not.</p></li>
<li><p><strong>datatype</strong> (<em>str</em><em>, </em><em>optional</em>) – The type of data the file contains</p></li>
<li><p><strong>extension</strong> (<em>str</em><em>, </em><em>optional</em>) – The extension of the data file</p></li>
<li><p><strong>meta</strong> (<em>str</em><em>, </em><em>optional</em>) – A metadata atttribute to be added to the filename</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.Scat.write">
<span class="sig-name descname"><span class="pre">write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">directory</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/scat.html#Scat.write"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.Scat.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Write a Scat object to a FITS file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>directory</strong> (<em>str</em>) – The directory where the file is to be written</p></li>
<li><p><strong>filename</strong> (<em>str</em><em>, </em><em>optional</em>) – The filename.  If not set, a default
filename will be used.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
</div>
<hr class="docutils" />
<div class="section" id="base-data-classes">
<h2>Base Data Classes<a class="headerlink" href="#base-data-classes" title="Permalink to this headline">¶</a></h2>
<p>Some base data classes.  These are not intended to be instantiated, but can
be useful to inherit if designing new data classes.</p>
<div class="section" id="datafile">
<h3>DataFile<a class="headerlink" href="#datafile" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="gbm.data.data.DataFile">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">gbm.data.data.</span></span><span class="sig-name descname"><span class="pre">DataFile</span></span><a class="reference internal" href="../_modules/gbm/data/data.html#DataFile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.data.DataFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class for an interface to data files</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This class should not be used directly, instead use one that inherits
from it and is specific to your data type e.g. <a class="reference internal" href="#gbm.data.TTE" title="gbm.data.TTE"><code class="xref py py-class docutils literal notranslate"><span class="pre">TTE</span></code></a></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Attributes</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>datatype</strong> (<em>str</em>) – The datatype of the file</p></li>
<li><p><strong>detector</strong> (<em>str</em>) – The GBM detector the file is associated with</p></li>
<li><p><strong>directory</strong> (<em>str</em>) – The directory the file is located in</p></li>
<li><p><strong>filename</strong> (<em>str</em>) – The filename</p></li>
<li><p><strong>full_path</strong> (<em>str</em>) – The full path+filename</p></li>
<li><p><strong>id</strong> (<em>str</em>) – The GBM file ID</p></li>
<li><p><strong>is_gbm_file</strong> (<em>bool</em>) – True if the file is a valid GBM standard file,
False if it is not.</p></li>
<li><p><strong>is_trigger</strong> (<em>bool</em>) – True if the file is a GBM trigger file, False if not</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.data.DataFile.set_properties">
<span class="sig-name descname"><span class="pre">set_properties</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">detector</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trigtime</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tstart</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">datatype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extension</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">meta</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/data.html#DataFile.set_properties"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.data.DataFile.set_properties" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the properties of the data file.  Useful for creating new
data files.  A standardized filename will be built from the
parameters</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>detector</strong> (<em>str</em><em>, </em><em>optional</em>) – The detector the data file belongs to</p></li>
<li><p><strong>trigtime</strong> (<em>float</em><em>, </em><em>optional</em>) – The trigger time, if applicable</p></li>
<li><p><strong>tstart</strong> (<em>float</em>) – The start time of the data file.
Must be set if trigtime is not.</p></li>
<li><p><strong>datatype</strong> (<em>str</em><em>, </em><em>optional</em>) – The type of data the file contains</p></li>
<li><p><strong>extension</strong> (<em>str</em><em>, </em><em>optional</em>) – The extension of the data file</p></li>
<li><p><strong>meta</strong> (<em>str</em><em>, </em><em>optional</em>) – A metadata atttribute to be added to the filename</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<hr class="docutils" />
<div class="section" id="healpix">
<h3>HealPix<a class="headerlink" href="#healpix" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="gbm.data.HealPix">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">gbm.data.</span></span><span class="sig-name descname"><span class="pre">HealPix</span></span><a class="reference internal" href="../_modules/gbm/data/localization.html#HealPix"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.HealPix" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#gbm.data.data.DataFile" title="gbm.data.data.DataFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">gbm.data.data.DataFile</span></code></a></p>
<p>Base class for HEALPix localization files.</p>
<dl class="field-list simple">
<dt class="field-odd">Attributes</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>centroid</strong> (<em>float, float</em>) – The RA and Dec of the highest probability pixel</p></li>
<li><p><strong>datatype</strong> (<em>str</em>) – The datatype of the file</p></li>
<li><p><strong>detector</strong> (<em>str</em>) – The GBM detector the file is associated with</p></li>
<li><p><strong>directory</strong> (<em>str</em>) – The directory the file is located in</p></li>
<li><p><strong>filename</strong> (<em>str</em>) – The filename</p></li>
<li><p><strong>full_path</strong> (<em>str</em>) – The full path+filename</p></li>
<li><p><strong>headers</strong> (<em>dict</em>) – The headers for each extension</p></li>
<li><p><strong>id</strong> (<em>str</em>) – The GBM file ID</p></li>
<li><p><strong>is_gbm_file</strong> (<em>bool</em>) – True if the file is a valid GBM standard file,
False if it is not.</p></li>
<li><p><strong>is_trigger</strong> (<em>bool</em>) – True if the file is a GBM trigger file, False if not</p></li>
<li><p><strong>npix</strong> (<em>int</em>) – Number of pixels in the HEALPix map</p></li>
<li><p><strong>nside</strong> (<em>int</em>) – The HEALPix resolution</p></li>
<li><p><strong>pixel_area</strong> (<em>float</em>) – The area of each pixel in square degrees</p></li>
<li><p><strong>trigtime</strong> (<em>float</em>) – The time corresponding to the localization</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.HealPix.area">
<span class="sig-name descname"><span class="pre">area</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">clevel</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/localization.html#HealPix.area"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.HealPix.area" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the sky area contained within a given confidence region</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>clevel</strong> (<em>float</em>) – The localization confidence level (valid range 0-1)</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>float</em> – The area contained in square degrees</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.HealPix.confidence">
<span class="sig-name descname"><span class="pre">confidence</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ra</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dec</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/localization.html#HealPix.confidence"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.HealPix.confidence" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the localization confidence level for a given point.
This function interpolates the map at the requested point rather than
providing the value at the nearest pixel center.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ra</strong> (<em>float</em>) – The RA</p></li>
<li><p><strong>dec</strong> (<em>float</em>) – The Dec</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>float</em> – The localization confidence level</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.HealPix.confidence_region_path">
<span class="sig-name descname"><span class="pre">confidence_region_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">clevel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">numpts_ra</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">360</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">numpts_dec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">180</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/localization.html#HealPix.confidence_region_path"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.HealPix.confidence_region_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the bounding path for a given confidence region</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>clevel</strong> (<em>float</em>) – The localization confidence level (valid range 0-1)</p></li>
<li><p><strong>numpts_ra</strong> (<em>int</em><em>, </em><em>optional</em>) – The number of grid points along the RA
axis. Default is 360.</p></li>
<li><p><strong>numpts_dec</strong> (<em>int</em><em>, </em><em>optional</em>) – The number of grid points along the Dec
axis. Default is 180.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>[(np.array, np.array), …]</em> – A list of RA, Dec points, where each                 item in the list is a continuous closed path.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.HealPix.convolve">
<span class="sig-name descname"><span class="pre">convolve</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/localization.html#HealPix.convolve"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.HealPix.convolve" title="Permalink to this definition">¶</a></dt>
<dd><p>Convolve the map with a model kernel.  The model can be a Gaussian
kernel or any mixture of Gaussian kernels. Uses <a class="reference external" href="https://healpy.readthedocs.io/en/latest/generated/healpy.sphtfunc.smoothing.html">healpy.smoothing</a>.</p>
<p>An example of a model kernel with a 50%/50% mixture of two Gaussians,
one with a 1-deg width, and the other with a 3-deg width:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">gauss_mix_example</span><span class="p">():</span>
    <span class="n">sigma1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">deg2rad</span><span class="p">(</span><span class="mf">1.0</span><span class="p">)</span>
    <span class="n">sigma2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">deg2rad</span><span class="p">(</span><span class="mf">3.0</span><span class="p">)</span>
    <span class="n">frac1</span> <span class="o">=</span> <span class="mf">0.50</span>
    <span class="k">return</span> <span class="p">([</span><span class="n">sigma1</span><span class="p">,</span> <span class="n">sigma2</span><span class="p">],</span> <span class="p">[</span><span class="n">frac1</span><span class="p">])</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> (<em>&lt;function&gt;</em>) – The function representing the model kernel</p></li>
<li><p><strong>*args</strong> – Arguments to be passed to the model kernel function</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#gbm.data.HealPix" title="gbm.data.HealPix"><code class="xref py py-class docutils literal notranslate"><span class="pre">HealPix</span></code></a> – A new HealPix object that is a result of the                               convolution with the model kernel</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.HealPix.from_annulus">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_annulus</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">center_ra</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center_dec</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">radius</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nside</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/localization.html#HealPix.from_annulus"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.HealPix.from_annulus" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a HealPix object of a Gaussian-width annulus</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>center_ra</strong> (<em>float</em>) – The RA of the center of the annulus</p></li>
<li><p><strong>center_dec</strong> (<em>float</em>) – The Dec of the center of the annulus</p></li>
<li><p><strong>radius</strong> (<em>float</em>) – The radius of the annulus, in degrees, measured to
the center of the of the annulus</p></li>
<li><p><strong>sigma</strong> (<em>float</em>) – The Gaussian standard deviation width of the annulus,
in degrees</p></li>
<li><p><strong>nside</strong> (<em>int</em><em>, </em><em>optional</em>) – The nside of the HEALPix to make. By default,
the nside is automatically determined by the
<cite>sigma</cite> width.  Set this argument to
override the default.</p></li>
<li><p><strong>**kwargs</strong> – Options to pass to <a class="reference internal" href="#gbm.data.HealPix.from_data" title="gbm.data.HealPix.from_data"><code class="xref py py-meth docutils literal notranslate"><span class="pre">from_data()</span></code></a></p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#gbm.data.HealPix" title="gbm.data.HealPix"><code class="xref py py-class docutils literal notranslate"><span class="pre">HealPix</span></code></a> – The HEALPix annulus</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.HealPix.from_data">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prob_arr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sig_arr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trigtime</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/localization.html#HealPix.from_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.HealPix.from_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a HealPix object from healpix arrays</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>prob_arr</strong> (<em>np.array</em>) – The HEALPix array containing the probability/pixel</p></li>
<li><p><strong>sig_arr</strong> (<em>np.array</em>) – The HEALPix array containing the signficance</p></li>
<li><p><strong>trigtime</strong> (<em>float</em><em>, </em><em>optional</em>) – The time corresponding to the localization</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#gbm.data.HealPix" title="gbm.data.HealPix"><code class="xref py py-class docutils literal notranslate"><span class="pre">HealPix</span></code></a> – The HEALPix localization</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.HealPix.from_gaussian">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_gaussian</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">center_ra</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center_dec</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nside</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/localization.html#HealPix.from_gaussian"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.HealPix.from_gaussian" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a HealPix object of a Gaussian</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>center_ra</strong> (<em>float</em>) – The RA of the center of the Gaussian</p></li>
<li><p><strong>center_dec</strong> (<em>float</em>) – The Dec of the center of the Gaussian</p></li>
<li><p><strong>sigma</strong> (<em>float</em>) – The Gaussian standard deviation, in degrees</p></li>
<li><p><strong>nside</strong> (<em>int</em><em>, </em><em>optional</em>) – The nside of the HEALPix to make. By default,
the nside is automatically determined by the
<cite>sigma</cite> of the Gaussian.  Set this argument
to override the default.</p></li>
<li><p><strong>**kwargs</strong> – Options to pass to <a class="reference internal" href="#gbm.data.HealPix.from_data" title="gbm.data.HealPix.from_data"><code class="xref py py-meth docutils literal notranslate"><span class="pre">from_data()</span></code></a></p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#gbm.data.HealPix" title="gbm.data.HealPix"><code class="xref py py-class docutils literal notranslate"><span class="pre">HealPix</span></code></a> – The HEALPix Gaussian</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.HealPix.from_vertices">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_vertices</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ra_pts</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dec_pts</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nside</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">64</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/localization.html#HealPix.from_vertices"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.HealPix.from_vertices" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a HealPix object from a list of RA, Dec vertices.
The probability within the vertices will be distributed uniformly and
zero probability outside the vertices.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ra_pts</strong> (<em>np.array</em>) – The array of RA coordinates</p></li>
<li><p><strong>dec_pts</strong> (<em>np.array</em>) – The array of Dec coordinates</p></li>
<li><p><strong>nside</strong> (<em>int</em><em>, </em><em>optional</em>) – The nside of the HEALPix to make. Default is 64.</p></li>
<li><p><strong>**kwargs</strong> – Options to pass to <a class="reference internal" href="#gbm.data.HealPix.from_data" title="gbm.data.HealPix.from_data"><code class="xref py py-meth docutils literal notranslate"><span class="pre">from_data()</span></code></a></p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#gbm.data.HealPix" title="gbm.data.HealPix"><code class="xref py py-class docutils literal notranslate"><span class="pre">HealPix</span></code></a> – The HEALPix object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.HealPix.multiply">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">multiply</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">healpix1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">healpix2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">primary</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_nside</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">128</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/localization.html#HealPix.multiply"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.HealPix.multiply" title="Permalink to this definition">¶</a></dt>
<dd><p>Multiply two HealPix maps and return a new HealPix object</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>healpix1</strong> (<a class="reference internal" href="#gbm.data.HealPix" title="gbm.data.HealPix"><code class="xref py py-class docutils literal notranslate"><span class="pre">HealPix</span></code></a>) – One of the HEALPix maps to multiply</p></li>
<li><p><strong>healpix2</strong> (<a class="reference internal" href="#gbm.data.HealPix" title="gbm.data.HealPix"><code class="xref py py-class docutils literal notranslate"><span class="pre">HealPix</span></code></a>) – The other HEALPix map to multiply</p></li>
<li><p><strong>primary</strong> (<em>int</em><em>, </em><em>optional</em>) – If 1, use the first map header information,
or if 2, use the second map header
information. Default is 1.</p></li>
<li><p><strong>output_nside</strong> (<em>int</em><em>, </em><em>optional</em>) – The nside of the multiplied map.
Default is 128.</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>Returns</dt><dd><p><a class="reference internal" href="#gbm.data.HealPix" title="gbm.data.HealPix"><code class="xref py py-class docutils literal notranslate"><span class="pre">HealPix</span></code></a>: The multiplied map</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.HealPix.prob_array">
<span class="sig-name descname"><span class="pre">prob_array</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">numpts_ra</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">360</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">numpts_dec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">180</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sqdegrees</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sig</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/localization.html#HealPix.prob_array"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.HealPix.prob_array" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the localization probability mapped to a grid on the sky</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>numpts_ra</strong> (<em>int</em><em>, </em><em>optional</em>) – The number of grid points along the RA
axis. Default is 360.</p></li>
<li><p><strong>numpts_dec</strong> (<em>int</em><em>, </em><em>optional</em>) – The number of grid points along the Dec
axis. Default is 180.</p></li>
<li><p><strong>sqdegrees</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, the prob_array is in units of probability per square
degrees, otherwise in units of probability per pixel.
Default is True</p></li>
<li><p><strong>sig</strong> (<em>bool</em><em>, </em><em>optional</em>) – Set True to retun the significance map on a
grid instead of the probability. Default is False.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p><em>3-tuple containing</em> –</p>
<ul class="simple">
<li><p><em>np.array</em>: The probability (or significance) array with shape                       (<code class="docutils literal notranslate"><span class="pre">numpts_dec</span></code>, <code class="docutils literal notranslate"><span class="pre">numpts_ra</span></code>)</p></li>
<li><p><em>np.array</em>: The RA grid points</p></li>
<li><p><em>np.array</em>: The Dec grid points</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.HealPix.probability">
<span class="sig-name descname"><span class="pre">probability</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ra</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dec</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">per_pixel</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/localization.html#HealPix.probability"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.HealPix.probability" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the localization probability at a given point.  This
function interpolates the map at the requested point rather than
providing the vale at the nearest pixel center.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ra</strong> (<em>float</em>) – The RA</p></li>
<li><p><strong>dec</strong> (<em>float</em>) – The Dec</p></li>
<li><p><strong>per_pixel</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, return probability per pixel, otherwise return
probability per square degree. Default is False.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>float</em> – The localization probability</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.HealPix.region_probability">
<span class="sig-name descname"><span class="pre">region_probability</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">healpix</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prior</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/localization.html#HealPix.region_probability"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.HealPix.region_probability" title="Permalink to this definition">¶</a></dt>
<dd><p>The probability that the HealPix localization is associated with
another HealPix map.  This is calculated against the null hypothesis
that the two HealPix maps are unassociated:</p>
<p><span class="math notranslate nohighlight">\(P(A | \mathcal{I}) =
\frac{P(\mathcal{I} | A) \ P(A)}
{P(\mathcal{I} | A) \ P(A) + P(\mathcal{I} | \neg A) \ P(\neg A)}\)</span></p>
<p>where</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(P(\mathcal{I} | A)\)</span> is the integral over the overlap of the two
maps once the Earth occultation has been removed for <em>this</em> map.</p></li>
<li><p><span class="math notranslate nohighlight">\(P(\mathcal{I} | \neg A)\)</span> is the integral over the overlap of
<em>this</em> map with a uniform distribution on the sky (i.e. the probability
the localization is associated with a random point on the sky)</p></li>
<li><p><span class="math notranslate nohighlight">\(P(A)\)</span> is the prior probability that <em>this</em> localization is
associated with the <em>other</em> HEALPix map.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>healpix</strong> (<a class="reference internal" href="#gbm.data.HealPix" title="gbm.data.HealPix"><code class="xref py py-class docutils literal notranslate"><span class="pre">HealPix</span></code></a>) – The healpix map for which to calculate
the spatial association</p></li>
<li><p><strong>prior</strong> (<em>float</em><em>, </em><em>optional</em>) – The prior probability that the localization
is associated with the source.
Default is 0.5</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>float</em> – The probability that this HealPix localization is
associated with the input HealPix map</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.HealPix.set_properties">
<span class="sig-name descname"><span class="pre">set_properties</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">detector</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trigtime</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tstart</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">datatype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extension</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">meta</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gbm.data.HealPix.set_properties" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the properties of the data file.  Useful for creating new
data files.  A standardized filename will be built from the
parameters</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>detector</strong> (<em>str</em><em>, </em><em>optional</em>) – The detector the data file belongs to</p></li>
<li><p><strong>trigtime</strong> (<em>float</em><em>, </em><em>optional</em>) – The trigger time, if applicable</p></li>
<li><p><strong>tstart</strong> (<em>float</em>) – The start time of the data file.
Must be set if trigtime is not.</p></li>
<li><p><strong>datatype</strong> (<em>str</em><em>, </em><em>optional</em>) – The type of data the file contains</p></li>
<li><p><strong>extension</strong> (<em>str</em><em>, </em><em>optional</em>) – The extension of the data file</p></li>
<li><p><strong>meta</strong> (<em>str</em><em>, </em><em>optional</em>) – A metadata atttribute to be added to the filename</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.HealPix.source_probability">
<span class="sig-name descname"><span class="pre">source_probability</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ra</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dec</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prior</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/localization.html#HealPix.source_probability"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.HealPix.source_probability" title="Permalink to this definition">¶</a></dt>
<dd><p>The probability that the HealPix localization is associated with
a known point location.  This is calculated against the null hypothesis
that the HealPix localization originates from an unassociated random
source that has equal probability of origination anywhere in the sky:</p>
<p><span class="math notranslate nohighlight">\(P(A | \mathcal{I}) =
\frac{P(\mathcal{I} | A) \ P(A)}
{P(\mathcal{I} | A) \ P(A) + P(\mathcal{I} | \neg A) \ P(\neg A)}\)</span></p>
<p>where</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(P(\mathcal{I} | A)\)</span> is the probability of the localization at
the point source once</p></li>
<li><p><span class="math notranslate nohighlight">\(P(\mathcal{I} | \neg A)\)</span> is the probability per pixel assuming
a uniform distribution on the sky (i.e. the probability the
localization is associated with a random point on the sky)</p></li>
<li><p><span class="math notranslate nohighlight">\(P(A)\)</span> is the prior probability that the localization is
associated with the point source</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ra</strong> (<em>float</em>) – The RA of the known source location</p></li>
<li><p><strong>dec</strong> (<em>float</em>) – The Dec of the known source location</p></li>
<li><p><strong>prior</strong> (<em>float</em><em>, </em><em>optional</em>) – The prior probability that the localization
is associated with the source.
Default is 0.5</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>float</em> – The probability that the HealPix localization is spatially associated with the point source</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<hr class="docutils" />
<div class="section" id="phaii">
<h3>PHAII<a class="headerlink" href="#phaii" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="gbm.data.phaii.PHAII">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">gbm.data.phaii.</span></span><span class="sig-name descname"><span class="pre">PHAII</span></span><a class="reference internal" href="../_modules/gbm/data/phaii.html#PHAII"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.phaii.PHAII" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>PHAII class for time history and spectra.</p>
<dl class="field-list simple">
<dt class="field-odd">Attributes</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<a class="reference internal" href="#gbm.data.primitives.TimeEnergyBins" title="gbm.data.primitives.TimeEnergyBins"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeEnergyBins</span></code></a>) – The PHAII data</p></li>
<li><p><strong>gti</strong> (<em>[(float, float), …]</em>) – A list of tuples defining the good time intervals</p></li>
<li><p><strong>headers</strong> (<em>dict</em>) – The headers for each extension of the PHAII</p></li>
<li><p><strong>trigtime</strong> (<em>float</em>) – The trigger time of the data, if available.</p></li>
<li><p><strong>time_range</strong> (<em>float, float</em>) – The time range of the data</p></li>
<li><p><strong>energy_range</strong> (<em>float, float</em>) – The energy range of the data</p></li>
<li><p><strong>numchans</strong> (<em>int</em>) – The number of energy channels</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.phaii.PHAII.from_data">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gti</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trigtime</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">detector</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">object</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ra_obj</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dec_obj</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">err_rad</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/phaii.html#PHAII.from_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.phaii.PHAII.from_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a PHAII object from TimeEnergyBins data object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<a class="reference internal" href="#gbm.data.primitives.TimeEnergyBins" title="gbm.data.primitives.TimeEnergyBins"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeEnergyBins</span></code></a>) – The PHAII data</p></li>
<li><p><strong>gti</strong> (<em>[</em><em>(</em><em>float</em><em>, </em><em>float</em><em>)</em><em>, </em><em>...</em><em>]</em><em>, </em><em>optional</em>) – The list of tuples representing the good time intervals
(start, stop). If omitted, the GTI is assumed to be
[(tstart, tstop)].</p></li>
<li><p><strong>trigtime</strong> (<em>float</em><em>, </em><em>optional</em>) – The trigger time, if applicable. If provided, the data times
will be shifted relative to the trigger time.</p></li>
<li><p><strong>detector</strong> (<em>str</em><em>, </em><em>optional</em>) – The detector that produced the data</p></li>
<li><p><strong>object</strong> (<em>str</em><em>, </em><em>optional</em>) – The object being observed</p></li>
<li><p><strong>ra_obj</strong> (<em>float</em><em>, </em><em>optional</em>) – The RA of the object</p></li>
<li><p><strong>dec_obj</strong> (<em>float</em><em>, </em><em>optional</em>) – The Dec of the object</p></li>
<li><p><strong>err_rad</strong> (<em>float</em><em>, </em><em>optional</em>) – The localization error radius of the object</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#gbm.data.phaii.PHAII" title="gbm.data.phaii.PHAII"><code class="xref py py-class docutils literal notranslate"><span class="pre">PHAII</span></code></a> – The newly created PHAII object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.phaii.PHAII.get_exposure">
<span class="sig-name descname"><span class="pre">get_exposure</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time_ranges</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/phaii.html#PHAII.get_exposure"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.phaii.PHAII.get_exposure" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the total exposure of a time range or time ranges of data</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>time_ranges</strong> (<em>[</em><em>(</em><em>float</em><em>, </em><em>float</em><em>)</em><em>, </em><em>...</em><em>]</em><em>, </em><em>optional</em>) – The time range or time ranges over which to calculate the
exposure. If omitted, calculates the total exposure of the data.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>float</em> – The exposure of the time selections</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.phaii.PHAII.open">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">open</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/phaii.html#PHAII.open"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.phaii.PHAII.open" title="Permalink to this definition">¶</a></dt>
<dd><p>Open a PHAII FITS file and return the PHAII object</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>filename</strong> (<em>str</em>) – The filename of the FITS file</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#gbm.data.phaii.PHAII" title="gbm.data.phaii.PHAII"><code class="xref py py-class docutils literal notranslate"><span class="pre">PHAII</span></code></a> – The PHAII object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.phaii.PHAII.rebin_energy">
<span class="sig-name descname"><span class="pre">rebin_energy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">method</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">energy_range</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(None,</span> <span class="pre">None)</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/phaii.html#PHAII.rebin_energy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.phaii.PHAII.rebin_energy" title="Permalink to this definition">¶</a></dt>
<dd><p>Rebin the PHAII in energy given a rebinning method.
Produces a new PHAII object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>method</strong> (<em>&lt;function&gt;</em>) – The rebinning function</p></li>
<li><p><strong>*args</strong> – Arguments to be passed to the rebinning function</p></li>
<li><p><strong>energy_range</strong> (<em>(</em><em>float</em><em>, </em><em>float</em><em>)</em><em>, </em><em>optional</em>) – The starting and ending energy to rebin.  If omitted, uses the
full range of data.  Setting start or end to <code class="docutils literal notranslate"><span class="pre">None</span></code> will use
the data from the beginning or end of the data, respectively.</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>Returns</dt><dd><p><a class="reference internal" href="#gbm.data.phaii.PHAII" title="gbm.data.phaii.PHAII"><code class="xref py py-class docutils literal notranslate"><span class="pre">PHAII</span></code></a>: A new PHAII object with the requested rebinned data</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.phaii.PHAII.rebin_time">
<span class="sig-name descname"><span class="pre">rebin_time</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">method</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_range</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(None,</span> <span class="pre">None)</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/phaii.html#PHAII.rebin_time"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.phaii.PHAII.rebin_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Rebin the PHAII in time given a rebinning method.
Produces a new PHAII object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>method</strong> (<em>&lt;function&gt;</em>) – The rebinning function</p></li>
<li><p><strong>*args</strong> – Arguments to be passed to the rebinning function</p></li>
<li><p><strong>time_range</strong> (<em>(</em><em>float</em><em>, </em><em>float</em><em>)</em><em>, </em><em>optional</em>) – The starting and ending time to rebin.  If omitted, uses the
full range of data.  Setting start or end to <code class="docutils literal notranslate"><span class="pre">None</span></code> will use
the data from the beginning or end of the data, respectively.</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>Returns</dt><dd><p><a class="reference internal" href="#gbm.data.phaii.PHAII" title="gbm.data.phaii.PHAII"><code class="xref py py-class docutils literal notranslate"><span class="pre">PHAII</span></code></a>: A new PHAII object with the requested rebinned data</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.phaii.PHAII.slice_energy">
<span class="sig-name descname"><span class="pre">slice_energy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">energy_ranges</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/phaii.html#PHAII.slice_energy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.phaii.PHAII.slice_energy" title="Permalink to this definition">¶</a></dt>
<dd><p>Slice the PHAII by one or more energy range. Produces a new PHAII object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>energy_ranges</strong> (<em>[</em><em>(</em><em>float</em><em>, </em><em>float</em><em>)</em><em>, </em><em>...</em><em>]</em>) – The energy ranges to slice the data to.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#gbm.data.phaii.PHAII" title="gbm.data.phaii.PHAII"><code class="xref py py-class docutils literal notranslate"><span class="pre">PHAII</span></code></a> – A new PHAII object with the requested energy ranges</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.phaii.PHAII.slice_time">
<span class="sig-name descname"><span class="pre">slice_time</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time_ranges</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/phaii.html#PHAII.slice_time"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.phaii.PHAII.slice_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Slice the PHAII by one or more time range. Produces a new PHAII object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>time_ranges</strong> (<em>[</em><em>(</em><em>float</em><em>, </em><em>float</em><em>)</em><em>, </em><em>...</em><em>]</em>) – The time ranges to slice the data to.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#gbm.data.phaii.PHAII" title="gbm.data.phaii.PHAII"><code class="xref py py-class docutils literal notranslate"><span class="pre">PHAII</span></code></a> – A new PHAII object with the requested time ranges</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.phaii.PHAII.to_lightcurve">
<span class="sig-name descname"><span class="pre">to_lightcurve</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time_range</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">energy_range</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">channel_range</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/phaii.html#PHAII.to_lightcurve"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.phaii.PHAII.to_lightcurve" title="Permalink to this definition">¶</a></dt>
<dd><p>Integrate the PHAII data over energy to produce a lightcurve</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>time_range</strong> (<em>(</em><em>float</em><em>, </em><em>float</em><em>)</em><em>, </em><em>optional</em>) – The time range of the lightcurve. If omitted, uses the entire
time range of the data.</p></li>
<li><p><strong>energy_range</strong> (<em>(</em><em>float</em><em>, </em><em>float</em><em>)</em><em>, </em><em>optional</em>) – The energy range of the lightcurve. If omitted, uses the entire
energy range of the data.</p></li>
<li><p><strong>channel_range</strong> (<em>(</em><em>int</em><em>, </em><em>int</em><em>)</em><em>, </em><em>optional</em>) – The channel range of the lightcurve. If omitted, uses the entire
energy range of the data.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#gbm.data.primitives.TimeBins" title="gbm.data.primitives.TimeBins"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeBins</span></code></a> – The lightcurve data</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.phaii.PHAII.to_pha">
<span class="sig-name descname"><span class="pre">to_pha</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time_ranges</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">energy_range</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">channel_range</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/phaii.html#PHAII.to_pha"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.phaii.PHAII.to_pha" title="Permalink to this definition">¶</a></dt>
<dd><p>Integrate the PHAII data over time to produce a PHA object</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>time_ranges</strong> (<em>[</em><em>(</em><em>float</em><em>, </em><em>float</em><em>)</em><em>, </em><em>...</em><em>]</em><em>, </em><em>optional</em>) – The time range of the spectrum. If omitted, uses the entire
time range of the data.</p></li>
<li><p><strong>energy_range</strong> (<em>(</em><em>float</em><em>, </em><em>float</em><em>)</em><em>, </em><em>optional</em>) – The energy range of the spectrum. If omitted, uses the entire
energy range of the data.</p></li>
<li><p><strong>channel_range</strong> (<em>(</em><em>int</em><em>, </em><em>int</em><em>)</em><em>, </em><em>optional</em>) – The channel range of the spectrum. If omitted, uses the entire
energy range of the data.</p></li>
<li><p><strong>**kwargs</strong> – Options passed to <a class="reference internal" href="#gbm.data.PHA.from_data" title="gbm.data.PHA.from_data"><code class="xref py py-meth docutils literal notranslate"><span class="pre">gbm.data.PHA.from_data()</span></code></a></p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#gbm.data.PHA" title="gbm.data.PHA"><code class="xref py py-class docutils literal notranslate"><span class="pre">PHA</span></code></a> – The single spectrum PHA</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.phaii.PHAII.to_spectrum">
<span class="sig-name descname"><span class="pre">to_spectrum</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time_range</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">energy_range</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">channel_range</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/phaii.html#PHAII.to_spectrum"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.phaii.PHAII.to_spectrum" title="Permalink to this definition">¶</a></dt>
<dd><p>Integrate the PHAII data over time to produce a count spectrum</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>time_range</strong> (<em>(</em><em>float</em><em>, </em><em>float</em><em>)</em><em>, </em><em>optional</em>) – The time range of the spectrum. If omitted, uses the entire
time range of the data.</p></li>
<li><p><strong>energy_range</strong> (<em>(</em><em>float</em><em>, </em><em>float</em><em>)</em><em>, </em><em>optional</em>) – The energy range of the spectrum. If omitted, uses the entire
energy range of the data.</p></li>
<li><p><strong>channel_range</strong> (<em>(</em><em>int</em><em>, </em><em>int</em><em>)</em><em>, </em><em>optional</em>) – The channel range of the spectrum. If omitted, uses the entire
energy range of the data.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#gbm.data.primitives.EnergyBins" title="gbm.data.primitives.EnergyBins"><code class="xref py py-class docutils literal notranslate"><span class="pre">EnergyBins</span></code></a> – The count spectrum data</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.phaii.PHAII.write">
<span class="sig-name descname"><span class="pre">write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">directory</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/phaii.html#PHAII.write"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.phaii.PHAII.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes the data to a FITS file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>directory</strong> (<em>str</em>) – The directory to write the file</p></li>
<li><p><strong>filename</strong> (<em>str</em><em>, </em><em>optional</em>) – If set, will override the standardized name</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
</div>
<hr class="docutils" />
<div class="section" id="data-class-miscellania">
<h2>Data Class Miscellania<a class="headerlink" href="#data-class-miscellania" title="Permalink to this headline">¶</a></h2>
<p>Miscellaneous data classes:
Collections of data, single-spectrum PHA and BAK classes, and Trigdat info classes</p>
<div class="section" id="datacollection">
<h3>DataCollection<a class="headerlink" href="#datacollection" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="gbm.data.DataCollection">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">gbm.data.</span></span><span class="sig-name descname"><span class="pre">DataCollection</span></span><a class="reference internal" href="../_modules/gbm/data/collection.html#DataCollection"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.DataCollection" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A container for a collection of like data objects, such as a collection
of <a class="reference internal" href="#gbm.data.Ctime" title="gbm.data.Ctime"><code class="xref py py-class docutils literal notranslate"><span class="pre">Ctime</span></code></a> objects.  This class exposes the individual objects’
attributes, and it exposes the methods of the object class so that methods
can be called on the collection as a whole.  For that reason, each object in
the DataCollection must be of the same type, otherwise an error is raised.
The type of the collection is set by the first object inserted into the
collection and the collection type is immutable thereafter.</p>
<p>Objects are stored in the collection in the order they are added.</p>
<p>The number of items in the collection can be retrieved by <code class="docutils literal notranslate"><span class="pre">len()</span></code> and
one can iterate over the items:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">data_item</span> <span class="k">for</span> <span class="n">data_item</span> <span class="ow">in</span> <span class="n">DataCollection</span><span class="p">]</span>
</pre></div>
</div>
<p>In addition to the DataCollection methods, all of the individual object
attributes and methods are exposed, and they become methods of the
DataCollection.  Note that individual object attributes become <em>methods</em>
i.e. if you have an item attribute called item.name, then the corresponding
DataCollection method would be item.name().</p>
<dl class="field-list simple">
<dt class="field-odd">Attributes</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>items</strong> (<em>list</em>) – The names of the items in the DataCollection</p></li>
<li><p><strong>types</strong> (<em>str</em>) – The type of the objects in the DataCollection</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.DataCollection.from_list">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">names</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/collection.html#DataCollection.from_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.DataCollection.from_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a list of objects and optionally a list of corresponding names,
create a new DataCollection.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data_list</strong> (list of <code class="xref py py-obj docutils literal notranslate"><span class="pre">objects</span></code>) – The list of objects to be in the collection</p></li>
<li><p><strong>names</strong> (list of <code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code>, optional) – The list of corresponding names to the objects.  If not set,
will try to retrieve a name from object.filename (assuming it’s
a data object). If that fails, each item will be named
ambiguously ‘item1’, ‘item2’, etc.</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>Returns</dt><dd><p><a class="reference internal" href="#gbm.data.DataCollection" title="gbm.data.DataCollection"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataCollection</span></code></a>: The newly created collection</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.DataCollection.get_item">
<span class="sig-name descname"><span class="pre">get_item</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">item_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/collection.html#DataCollection.get_item"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.DataCollection.get_item" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve an object from the DataCollection by name</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>item_name</strong> (<em>str</em>) – The name of the item to retrieve</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">object</span></code> – The retrieved data item</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.DataCollection.include">
<span class="sig-name descname"><span class="pre">include</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_item</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/collection.html#DataCollection.include"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.DataCollection.include" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert an object into the collection.  The first item inserted will
set the immutable type.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data_item</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">object</span></code>) – A data object to include</p></li>
<li><p><strong>name</strong> (<em>str</em><em>, </em><em>optional</em>) – An optional corresponding name.  If not set, will try to
retrieve a name from object.filename (assuming it’s a data
object). If that fails, each item will be named ambiguously
‘item1’, ‘item2’, etc.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.DataCollection.remove">
<span class="sig-name descname"><span class="pre">remove</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">item_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/collection.html#DataCollection.remove"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.DataCollection.remove" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove an object from the collection given the name</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>item_name</strong> (<em>str</em>) – The name of the item to remove</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.DataCollection.to_list">
<span class="sig-name descname"><span class="pre">to_list</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/collection.html#DataCollection.to_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.DataCollection.to_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the objects contained in the DataCollection as a list.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>(list of <code class="xref py py-obj docutils literal notranslate"><span class="pre">objects</span></code>) –     The list of objects, in the order that they were inserted</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<hr class="docutils" />
<div class="section" id="gbmdetectorcollection">
<h3>GbmDetectorCollection<a class="headerlink" href="#gbmdetectorcollection" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="gbm.data.GbmDetectorCollection">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">gbm.data.</span></span><span class="sig-name descname"><span class="pre">GbmDetectorCollection</span></span><a class="reference internal" href="../_modules/gbm/data/collection.html#GbmDetectorCollection"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.GbmDetectorCollection" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#gbm.data.DataCollection" title="gbm.data.collection.DataCollection"><code class="xref py py-class docutils literal notranslate"><span class="pre">gbm.data.collection.DataCollection</span></code></a></p>
<p>A container for a collection of GBM-specific data objects, such as a
collection of <code class="docutils literal notranslate"><span class="pre">Ctime</span></code> objects from different detectors.</p>
<p>The special behavior of this class is to provide a way to interact with
a collection of detector data that may contain a mix of different <em>types</em>
of detectors.  For example, many times we want a collection of GBM NaI
and GBM BGO detectors.  These detectors have very different energy ranges,
and so may require different inputs for a variety of functions.  This
collection allows one to specify the different arguments for NaI and BGO
data without having to implement many ugly and space-wasting loops and
<code class="docutils literal notranslate"><span class="pre">if...else</span></code> decisions.</p>
<p>In addition to the GbmDetectorCollection methods, all of the individual
object attributes and methods are exposed, and they become methods of the
DataCollection.  Note that individual object attributes become <em>methods</em>
i.e. if you have an item attribute called item.name, then the corresponding
DataCollection method would be item.name().</p>
<dl class="field-list simple">
<dt class="field-odd">Attributes</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>items</strong> (<em>list</em>) – The names of the items in the DataCollection</p></li>
<li><p><strong>types</strong> (<em>str</em>) – The type of the objects in the DataCollection</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.GbmDetectorCollection.from_list">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">names</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dets</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/collection.html#GbmDetectorCollection.from_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.GbmDetectorCollection.from_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a list of objects and optionally a list of corresponding names
and corresponding detector names, create a new GbmDetectorCollection.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data_list</strong> (list of <code class="xref py py-obj docutils literal notranslate"><span class="pre">objects</span></code>) – The list of objects to be in the collection</p></li>
<li><p><strong>names</strong> (list of <code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code>, optional) – The list of corresponding names to the objects.  If not set,
will try to retrieve a name from object.filename (assuming it’s
a data object). If that fails, each item will be named
ambiguously ‘item1’, ‘item2’, etc.</p></li>
<li><p><strong>dets</strong> (list of <code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code>, optional) – The detector names for each object. If not set, will try to
retrieve from the object.detector attribute.  If that attribute
doesn’t exist, an error will be raised, and the user will need
to specify this list.</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>Returns</dt><dd><p><a class="reference internal" href="#gbm.data.GbmDetectorCollection" title="gbm.data.GbmDetectorCollection"><code class="xref py py-class docutils literal notranslate"><span class="pre">GbmDetectorCollection</span></code></a>: The newly created collection</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.GbmDetectorCollection.get_item">
<span class="sig-name descname"><span class="pre">get_item</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">item_name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gbm.data.GbmDetectorCollection.get_item" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve an object from the DataCollection by name</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>item_name</strong> (<em>str</em>) – The name of the item to retrieve</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">object</span></code> – The retrieved data item</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.GbmDetectorCollection.include">
<span class="sig-name descname"><span class="pre">include</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_item</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">det</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/collection.html#GbmDetectorCollection.include"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.GbmDetectorCollection.include" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert an object into the GbmDetectorCollection.  The first item
inserted will set the immutable type.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data_item</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">object</span></code>) – A data object to include</p></li>
<li><p><strong>det</strong> (<em>str</em>) – The corresponding detector for the item</p></li>
<li><p><strong>name</strong> (<em>str</em><em>, </em><em>optional</em>) – An optional corresponding name.  If not set, will try to
retrieve a name from object.filename (assuming it’s a data
object). If that fails, each item will be named ambiguously
‘item1’, ‘item2’, etc.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.GbmDetectorCollection.remove">
<span class="sig-name descname"><span class="pre">remove</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">item_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/collection.html#GbmDetectorCollection.remove"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.GbmDetectorCollection.remove" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove an object from the collection given the name</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>item_name</strong> (<em>str</em>) – The name of the item to remove</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.GbmDetectorCollection.to_list">
<span class="sig-name descname"><span class="pre">to_list</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gbm.data.GbmDetectorCollection.to_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the objects contained in the DataCollection as a list.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>(list of <code class="xref py py-obj docutils literal notranslate"><span class="pre">objects</span></code>) –     The list of objects, in the order that they were inserted</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<hr class="docutils" />
<div class="section" id="bak">
<h3>BAK<a class="headerlink" href="#bak" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="gbm.data.BAK">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">gbm.data.</span></span><span class="sig-name descname"><span class="pre">BAK</span></span><a class="reference internal" href="../_modules/gbm/data/pha.html#BAK"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.BAK" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#gbm.data.PHA" title="gbm.data.pha.PHA"><code class="xref py py-class docutils literal notranslate"><span class="pre">gbm.data.pha.PHA</span></code></a></p>
<p>Class for a PHA background spectrum.</p>
<dl class="field-list simple">
<dt class="field-odd">Attributes</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<a class="reference internal" href="#gbm.data.primitives.EnergyBins" title="gbm.data.primitives.EnergyBins"><code class="xref py py-class docutils literal notranslate"><span class="pre">EnergyBins</span></code></a>) – The PHA data</p></li>
<li><p><strong>datatype</strong> (<em>str</em>) – The datatype of the file</p></li>
<li><p><strong>detector</strong> (<em>str</em>) – The GBM detector the file is associated with</p></li>
<li><p><strong>directory</strong> (<em>str</em>) – The directory the file is located in</p></li>
<li><p><strong>energy_range</strong> (<em>float, float</em>) – The energy range of the spectrum</p></li>
<li><p><strong>exposure</strong> (<em>float</em>) – The exposure of the PHA data</p></li>
<li><p><strong>filename</strong> (<em>str</em>) – The filename</p></li>
<li><p><strong>full_path</strong> (<em>str</em>) – The full path+filename</p></li>
<li><p><strong>gti</strong> (<em>[(float, float), …]</em>) – The good time intervals</p></li>
<li><p><strong>headers</strong> (<em>dict</em>) – The headers for each extension of the PHA</p></li>
<li><p><strong>id</strong> (<em>str</em>) – The GBM file ID</p></li>
<li><p><strong>is_gbm_file</strong> (<em>bool</em>) – True if the file is a valid GBM standard file,
False if it is not.</p></li>
<li><p><strong>is_trigger</strong> (<em>bool</em>) – True if the file is a GBM trigger file, False if not</p></li>
<li><p><strong>numchans</strong> (<em>int</em>) – The number of energy channels</p></li>
<li><p><strong>tcent</strong> (<em>float</em>) – The center time of the data</p></li>
<li><p><strong>time_range</strong> (<em>float, float</em>) – The time range of the spectrum</p></li>
<li><p><strong>trigtime</strong> (<em>float</em>) – The trigger time of the data, if available</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.BAK.from_data">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tstart</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tstop</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gti</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trigtime</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">detector</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">object</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ra_obj</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dec_obj</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">err_rad</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">datatype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">meta</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/pha.html#BAK.from_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.BAK.from_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a BAK object from a <a class="reference internal" href="api-background.html#gbm.background.BackgroundSpectrum" title="gbm.background.BackgroundSpectrum"><code class="xref py py-class docutils literal notranslate"><span class="pre">BackgroundSpectrum</span></code></a>
data object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<a class="reference internal" href="api-background.html#gbm.background.BackgroundSpectrum" title="gbm.background.BackgroundSpectrum"><code class="xref py py-class docutils literal notranslate"><span class="pre">BackgroundSpectrum</span></code></a>) – The background count rate spectrum</p></li>
<li><p><strong>tstart</strong> (<em>float</em>) – The start time of the data</p></li>
<li><p><strong>tstop</strong> (<em>float</em>) – The end time of the data</p></li>
<li><p><strong>gti</strong> (<em>[</em><em>(</em><em>float</em><em>, </em><em>float</em><em>)</em><em>, </em><em>...</em><em>]</em><em>, </em><em>optional</em>) – The list of tuples representing the good time intervals
(start, stop). If omitted, the GTI is assumed to be
[(tstart, tstop)].</p></li>
<li><p><strong>trigtime</strong> (<em>float</em><em>, </em><em>optional</em>) – The trigger time, if applicable. If provided, the data times
will be shifted relative to the trigger time. Default is zero.</p></li>
<li><p><strong>detector</strong> (<em>str</em><em>, </em><em>optional</em>) – The detector that produced the data</p></li>
<li><p><strong>object</strong> (<em>str</em><em>, </em><em>optional</em>) – The object being observed</p></li>
<li><p><strong>ra_obj</strong> (<em>float</em><em>, </em><em>optional</em>) – The RA of the object</p></li>
<li><p><strong>dec_obj</strong> (<em>float</em><em>, </em><em>optional</em>) – The Dec of the object</p></li>
<li><p><strong>err_rad</strong> (<em>float</em><em>, </em><em>optional</em>) – The localization error radius of the object</p></li>
<li><p><strong>datatype</strong> (<em>str</em><em>, </em><em>optional</em>) – The datatype from which the PHA is created</p></li>
<li><p><strong>meta</strong> (<em>str</em><em>, </em><em>optional</em>) – Additional metadata string to be added to
standard filename</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#gbm.data.BAK" title="gbm.data.BAK"><code class="xref py py-class docutils literal notranslate"><span class="pre">BAK</span></code></a> – The BAK object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.BAK.open">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">open</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/pha.html#BAK.open"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.BAK.open" title="Permalink to this definition">¶</a></dt>
<dd><p>Open a BAK FITS file and return the BAK object</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>filename</strong> (<em>str</em>) – The filename of the FITS file</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#gbm.data.BAK" title="gbm.data.BAK"><code class="xref py py-class docutils literal notranslate"><span class="pre">BAK</span></code></a> – The BAK object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.BAK.rebin_energy">
<span class="sig-name descname"><span class="pre">rebin_energy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">method</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">emin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">emax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/pha.html#BAK.rebin_energy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.BAK.rebin_energy" title="Permalink to this definition">¶</a></dt>
<dd><p>Not Implemented</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.BAK.set_properties">
<span class="sig-name descname"><span class="pre">set_properties</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">detector</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trigtime</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tstart</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">datatype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extension</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">meta</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gbm.data.BAK.set_properties" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the properties of the data file.  Useful for creating new
data files.  A standardized filename will be built from the
parameters</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>detector</strong> (<em>str</em><em>, </em><em>optional</em>) – The detector the data file belongs to</p></li>
<li><p><strong>trigtime</strong> (<em>float</em><em>, </em><em>optional</em>) – The trigger time, if applicable</p></li>
<li><p><strong>tstart</strong> (<em>float</em>) – The start time of the data file.
Must be set if trigtime is not.</p></li>
<li><p><strong>datatype</strong> (<em>str</em><em>, </em><em>optional</em>) – The type of data the file contains</p></li>
<li><p><strong>extension</strong> (<em>str</em><em>, </em><em>optional</em>) – The extension of the data file</p></li>
<li><p><strong>meta</strong> (<em>str</em><em>, </em><em>optional</em>) – A metadata atttribute to be added to the filename</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.BAK.slice_energy">
<span class="sig-name descname"><span class="pre">slice_energy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">method</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">emin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">emax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/pha.html#BAK.slice_energy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.BAK.slice_energy" title="Permalink to this definition">¶</a></dt>
<dd><p>Not Implemented</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.BAK.write">
<span class="sig-name descname"><span class="pre">write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">directory</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/pha.html#BAK.write"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.BAK.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes the data to a FITS file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>directory</strong> (<em>str</em>) – The directory to write the file</p></li>
<li><p><strong>filename</strong> (<em>str</em><em>, </em><em>optional</em>) – If set, will override the standardized name</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<hr class="docutils" />
<div class="section" id="pha">
<h3>PHA<a class="headerlink" href="#pha" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="gbm.data.PHA">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">gbm.data.</span></span><span class="sig-name descname"><span class="pre">PHA</span></span><a class="reference internal" href="../_modules/gbm/data/pha.html#PHA"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.PHA" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#gbm.data.data.DataFile" title="gbm.data.data.DataFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">gbm.data.data.DataFile</span></code></a></p>
<p>PHA class for count spectra.</p>
<dl class="field-list simple">
<dt class="field-odd">Attributes</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<a class="reference internal" href="#gbm.data.primitives.EnergyBins" title="gbm.data.primitives.EnergyBins"><code class="xref py py-class docutils literal notranslate"><span class="pre">EnergyBins</span></code></a>) – The PHA data</p></li>
<li><p><strong>datatype</strong> (<em>str</em>) – The datatype of the file</p></li>
<li><p><strong>detector</strong> (<em>str</em>) – The GBM detector the file is associated with</p></li>
<li><p><strong>directory</strong> (<em>str</em>) – The directory the file is located in</p></li>
<li><p><strong>energy_range</strong> (<em>float, float</em>) – The energy range of the spectrum</p></li>
<li><p><strong>exposure</strong> (<em>float</em>) – The exposure of the PHA data</p></li>
<li><p><strong>filename</strong> (<em>str</em>) – The filename</p></li>
<li><p><strong>full_path</strong> (<em>str</em>) – The full path+filename</p></li>
<li><p><strong>gti</strong> (<em>[(float, float), …]</em>) – The good time intervals</p></li>
<li><p><strong>headers</strong> (<em>dict</em>) – The headers for each extension of the PHA</p></li>
<li><p><strong>id</strong> (<em>str</em>) – The GBM file ID</p></li>
<li><p><strong>is_gbm_file</strong> (<em>bool</em>) – True if the file is a valid GBM standard file,
False if it is not.</p></li>
<li><p><strong>is_trigger</strong> (<em>bool</em>) – True if the file is a GBM trigger file, False if not</p></li>
<li><p><strong>numchans</strong> (<em>int</em>) – The number of energy channels</p></li>
<li><p><strong>tcent</strong> (<em>float</em>) – The center time of the data</p></li>
<li><p><strong>time_range</strong> (<em>float, float</em>) – The time range of the spectrum</p></li>
<li><p><strong>trigtime</strong> (<em>float</em>) – The trigger time of the data, if available</p></li>
<li><p><strong>valid_channels</strong> (<em>np.array(dtype=bool)</em>) – The channels that are marked
valid and available for fitting</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.PHA.from_data">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tstart</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tstop</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gti</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trigtime</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">detector</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">object</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ra_obj</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dec_obj</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">err_rad</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">datatype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">backfile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rspfile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">meta</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">channel_mask</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/pha.html#PHA.from_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.PHA.from_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a PHA object from an EnergyBins data object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<a class="reference internal" href="#gbm.data.primitives.EnergyBins" title="gbm.data.primitives.EnergyBins"><code class="xref py py-class docutils literal notranslate"><span class="pre">EnergyBins</span></code></a>) – The PHA count spectrum data</p></li>
<li><p><strong>tstart</strong> (<em>float</em>) – The start time of the data</p></li>
<li><p><strong>tstop</strong> (<em>float</em>) – The end time of the data</p></li>
<li><p><strong>gti</strong> (<em>[</em><em>(</em><em>float</em><em>, </em><em>float</em><em>)</em><em>, </em><em>...</em><em>]</em><em>, </em><em>optional</em>) – The list of tuples representing the good time intervals
(start, stop). If omitted, the GTI is assumed to be
[(tstart, tstop)].</p></li>
<li><p><strong>trigtime</strong> (<em>float</em><em>, </em><em>optional</em>) – The trigger time, if applicable. If provided, the data times
will be shifted relative to the trigger time. Default is zero.</p></li>
<li><p><strong>detector</strong> (<em>str</em><em>, </em><em>optional</em>) – The detector that produced the data</p></li>
<li><p><strong>object</strong> (<em>str</em><em>, </em><em>optional</em>) – The object being observed</p></li>
<li><p><strong>ra_obj</strong> (<em>float</em><em>, </em><em>optional</em>) – The RA of the object</p></li>
<li><p><strong>dec_obj</strong> (<em>float</em><em>, </em><em>optional</em>) – The Dec of the object</p></li>
<li><p><strong>err_rad</strong> (<em>float</em><em>, </em><em>optional</em>) – The localization error radius of the object</p></li>
<li><p><strong>datatype</strong> (<em>str</em><em>, </em><em>optional</em>) – The datatype from which the PHA is created</p></li>
<li><p><strong>backfile</strong> (<em>str</em><em>, </em><em>optional</em>) – The associated background file</p></li>
<li><p><strong>rspfile</strong> (<em>str</em><em>, </em><em>optional</em>) – The associated response file</p></li>
<li><p><strong>meta</strong> (<em>str</em><em>, </em><em>optional</em>) – Additional metadata string to be added to
standard filename</p></li>
<li><p><strong>channel_mask</strong> (<em>np.array</em><em>(</em><em>dtype=bool</em><em>)</em>) – A boolean array representing the valid channels to be used for
fitting. If omitted, assumes all non-zero count channels are valid.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#gbm.data.PHA" title="gbm.data.PHA"><code class="xref py py-class docutils literal notranslate"><span class="pre">PHA</span></code></a> – The PHA object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.PHA.open">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">open</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/pha.html#PHA.open"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.PHA.open" title="Permalink to this definition">¶</a></dt>
<dd><p>Open a PHA FITS file and return the PHA object</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>filename</strong> (<em>str</em>) – The filename of the FITS file</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#gbm.data.PHA" title="gbm.data.PHA"><code class="xref py py-class docutils literal notranslate"><span class="pre">PHA</span></code></a> – The PHA object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.PHA.rebin_energy">
<span class="sig-name descname"><span class="pre">rebin_energy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">method</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">emin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">emax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/pha.html#PHA.rebin_energy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.PHA.rebin_energy" title="Permalink to this definition">¶</a></dt>
<dd><p>Rebin the PHA in energy given a rebinning method.
Produces a new PHA object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>method</strong> (<em>&lt;function&gt;</em>) – The rebinning function</p></li>
<li><p><strong>*args</strong> – Arguments to be passed to the rebinning function</p></li>
<li><p><strong>emin</strong> (<em>float</em><em>, </em><em>optional</em>) – The minimum energy to rebin. If omitted,
uses the lowest energy edge of the data</p></li>
<li><p><strong>emax</strong> (<em>float</em><em>, </em><em>optional</em>) – The maximum energy to rebin. If omitted,
uses the highest energy edge of the data</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#gbm.data.PHA" title="gbm.data.PHA"><code class="xref py py-class docutils literal notranslate"><span class="pre">PHA</span></code></a> – A new PHA object with the requested rebinned data</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.PHA.set_properties">
<span class="sig-name descname"><span class="pre">set_properties</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">detector</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trigtime</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tstart</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">datatype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extension</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">meta</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gbm.data.PHA.set_properties" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the properties of the data file.  Useful for creating new
data files.  A standardized filename will be built from the
parameters</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>detector</strong> (<em>str</em><em>, </em><em>optional</em>) – The detector the data file belongs to</p></li>
<li><p><strong>trigtime</strong> (<em>float</em><em>, </em><em>optional</em>) – The trigger time, if applicable</p></li>
<li><p><strong>tstart</strong> (<em>float</em>) – The start time of the data file.
Must be set if trigtime is not.</p></li>
<li><p><strong>datatype</strong> (<em>str</em><em>, </em><em>optional</em>) – The type of data the file contains</p></li>
<li><p><strong>extension</strong> (<em>str</em><em>, </em><em>optional</em>) – The extension of the data file</p></li>
<li><p><strong>meta</strong> (<em>str</em><em>, </em><em>optional</em>) – A metadata atttribute to be added to the filename</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.PHA.slice_energy">
<span class="sig-name descname"><span class="pre">slice_energy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">energy_ranges</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/pha.html#PHA.slice_energy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.PHA.slice_energy" title="Permalink to this definition">¶</a></dt>
<dd><p>Slice the PHA by one or more energy range. Produces a new PHA object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>energy_ranges</strong> (<em>[</em><em>(</em><em>float</em><em>, </em><em>float</em><em>)</em><em>, </em><em>...</em><em>]</em>) – The energy ranges to slice over</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#gbm.data.PHA" title="gbm.data.PHA"><code class="xref py py-class docutils literal notranslate"><span class="pre">PHA</span></code></a> – A new PHA object with the requested energy range</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.PHA.write">
<span class="sig-name descname"><span class="pre">write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">directory</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">backfile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/pha.html#PHA.write"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.PHA.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes the data to a FITS file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>directory</strong> (<em>str</em>) – The directory to write the file</p></li>
<li><p><strong>filename</strong> (<em>str</em><em>, </em><em>optional</em>) – If set, will override the standardized name</p></li>
<li><p><strong>backfile</strong> (<em>str</em><em>, </em><em>optional</em>) – If set, will add the associated BAK file
name to the PHA SPECTRUM header</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<hr class="docutils" />
<div class="section" id="scat-parameter">
<h3>scat.Parameter<a class="headerlink" href="#scat-parameter" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="gbm.data.scat.Parameter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">gbm.data.scat.</span></span><span class="sig-name descname"><span class="pre">Parameter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">uncert</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">units</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">support</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(-</span> <span class="pre">inf,</span> <span class="pre">inf)</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/scat.html#Parameter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.scat.Parameter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A fit parameter class</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>value</strong> (<em>float</em>) – The central fit value</p></li>
<li><p><strong>uncert</strong> (<em>float</em><em> or </em><em>2-tuple</em>) – The 1-sigma uncertainty. If a 2-tuple, then
is of the form (low, high)</p></li>
<li><p><strong>name</strong> (<em>str</em><em>, </em><em>optional</em>) – The name of the parameter</p></li>
<li><p><strong>units</strong> (<em>str</em><em>, </em><em>optional</em>) – The units of the parameter</p></li>
<li><p><strong>support</strong> (<em>2-tuple</em><em>, </em><em>optional</em>) – The valid support of the parameter</p></li>
</ul>
</dd>
<dt class="field-even">Attributes</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – The name of the parameter</p></li>
<li><p><strong>support</strong> (<em>2-tuple</em>) – The valid support of the parameter</p></li>
<li><p><strong>uncertainty</strong> (<em>2-tuple</em>) – The 1-sigma uncertainty</p></li>
<li><p><strong>units</strong> (<em>str</em>) – The units of the parameter</p></li>
<li><p><strong>value</strong> (<em>float</em>) – The central fit value</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.scat.Parameter.one_sigma_range">
<span class="sig-name descname"><span class="pre">one_sigma_range</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/scat.html#Parameter.one_sigma_range"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.scat.Parameter.one_sigma_range" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the 1 sigma range of the parameter fit</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.scat.Parameter.to_fits_value">
<span class="sig-name descname"><span class="pre">to_fits_value</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/scat.html#Parameter.to_fits_value"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.scat.Parameter.to_fits_value" title="Permalink to this definition">¶</a></dt>
<dd><p>Return as a tuple to be used for a FITS file</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><p><em>(tuple)</em> –</p>
<dl class="simple">
<dt>2-value tuple (value, uncertainty) or 3-value tuple</dt><dd><p>(value, +uncertainty, -uncertainty)</p>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.scat.Parameter.valid_value">
<span class="sig-name descname"><span class="pre">valid_value</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/scat.html#Parameter.valid_value"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.scat.Parameter.valid_value" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if the parameter value is within the allowed parameter range</p>
</dd></dl>

</dd></dl>

</div>
<hr class="docutils" />
<div class="section" id="scat-gbmmodelfit">
<h3>scat.GbmModelFit<a class="headerlink" href="#scat-gbmmodelfit" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="gbm.data.scat.GbmModelFit">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">gbm.data.scat.</span></span><span class="sig-name descname"><span class="pre">GbmModelFit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_range</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/scat.html#GbmModelFit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.scat.GbmModelFit" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">gbm.data.scat.ModelFit</span></code></p>
<p>A container for the info from a model fit, with values used in the
GBM SCAT files. Inherits from <code class="xref py py-class docutils literal notranslate"><span class="pre">ModelFit</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Attributes</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>covariance</strong> (<em>np.array</em>) – The covariance matrix of the fit</p></li>
<li><p><strong>dof</strong> (<em>int</em>) – The degrees-of-freedom of the fit</p></li>
<li><p><strong>duration_fluence</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">EnergyFluence</span></code>) – The energy fluence over the
duration energy range,
nominally 50-300 keV</p></li>
<li><p><strong>energy_fluence</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">EnergyFluence</span></code>) – The energy fluence, nominally
over 10-1000 keV</p></li>
<li><p><strong>energy_fluence_50_300</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">EnergyFluence</span></code>) – The energy fluence over
50-300 keV</p></li>
<li><p><strong>energy_flux</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">EnergyFlux</span></code>) – The energy flux, nominally over
10-1000 keV</p></li>
<li><p><strong>flux_energy_range</strong> (<em>tuple</em>) – The energy range of the flux and fluence,
(low, high)</p></li>
<li><p><strong>name</strong> (<em>str</em>) – The name of the model</p></li>
<li><p><strong>parameters</strong> (<em>list</em>) – A list of model parameters</p></li>
<li><p><strong>photon_fluence</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">PhotonFluence</span></code>) – The photon fluence, nominally
over 10-1000 keV</p></li>
<li><p><strong>photon_flux</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">PhotonFlux</span></code>) – The photon flux, nominally over
10-1000 keV</p></li>
<li><p><strong>photon_flux_50_300</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">PhotonFlux</span></code>) – The photon flux over 50-300 keV</p></li>
<li><p><strong>stat_name</strong> (<em>str</em>) – The name of the fit statistic</p></li>
<li><p><strong>stat_value</strong> (<em>float</em>) – The fit statistic value</p></li>
<li><p><strong>time_range</strong> (<em>float, float</em>) – The time range of the model fit, (low, high)</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.scat.GbmModelFit.from_fits_row">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_fits_row</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fits_row</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">param_names</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flux_range</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(10.0,</span> <span class="pre">1000.0)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dur_range</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(50.0,</span> <span class="pre">300.0)</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/scat.html#GbmModelFit.from_fits_row"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.scat.GbmModelFit.from_fits_row" title="Permalink to this definition">¶</a></dt>
<dd><p>Read a FITS row and return a <a class="reference internal" href="#gbm.data.scat.GbmModelFit" title="gbm.data.scat.GbmModelFit"><code class="xref py py-class docutils literal notranslate"><span class="pre">GbmModelFit</span></code></a> object</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>(<a class="reference internal" href="#gbm.data.scat.GbmModelFit" title="gbm.data.scat.GbmModelFit"><code class="xref py py-class docutils literal notranslate"><span class="pre">GbmModelFit</span></code></a>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.scat.GbmModelFit.parameter_list">
<span class="sig-name descname"><span class="pre">parameter_list</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gbm.data.scat.GbmModelFit.parameter_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the list of parameter names</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><em>(list)</em> – The parameter names</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.scat.GbmModelFit.to_fits_row">
<span class="sig-name descname"><span class="pre">to_fits_row</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/scat.html#GbmModelFit.to_fits_row"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.scat.GbmModelFit.to_fits_row" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the contained data as a FITS table row</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><em>(astropy.io.fits.BinTableHDU)</em> – The FITS table</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<hr class="docutils" />
<div class="section" id="scat-detectordata">
<h3>scat.DetectorData<a class="headerlink" href="#scat-detectordata" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="gbm.data.scat.DetectorData">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">gbm.data.scat.</span></span><span class="sig-name descname"><span class="pre">DetectorData</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">instrument</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">detector</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">datatype</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">numchans</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/scat.html#DetectorData"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.scat.DetectorData" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A container for detector info used in a fit</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>instrument</strong> (<em>str</em>) – The name of the instrument</p></li>
<li><p><strong>detector</strong> (<em>str</em>) – The name of the detector</p></li>
<li><p><strong>datatype</strong> (<em>str</em>) – The name of the datatype</p></li>
<li><p><strong>filename</strong> (<em>str</em>) – The filename of the data file</p></li>
<li><p><strong>numchans</strong> (<em>int</em>) – Number of energy channels used</p></li>
<li><p><strong>active</strong> (<em>bool</em><em>, </em><em>optional</em>) – True if the detector is used in the fit</p></li>
<li><p><strong>response</strong> (<em>str</em><em>, </em><em>optional</em>) – The filename of the detector response</p></li>
<li><p><strong>time_range</strong> (<em>tuple</em><em>, </em><em>optional</em>) – The time range of the data used</p></li>
<li><p><strong>energy_range</strong> (<em>tuple</em><em>, </em><em>optional</em>) – The energy range of the data used</p></li>
<li><p><strong>channel_range</strong> (<em>tuple</em><em>, </em><em>optional</em>) – The energy channel range of the data</p></li>
<li><p><strong>energy_edges</strong> (<em>np.array</em><em>, </em><em>optional</em>) – The edges of the energy channels</p></li>
<li><p><strong>photon_counts</strong> (<em>np.array</em><em>, </em><em>optional</em>) – The deconvolved photon counts for
the detector</p></li>
<li><p><strong>photon_model</strong> (<em>np.array</em><em>, </em><em>optional</em>) – The photon model for the detector</p></li>
<li><p><strong>photon_errors</strong> (<em>np.array</em><em>, </em><em>optional</em>) – The deconvolved photon count errors
for the detector</p></li>
</ul>
</dd>
<dt class="field-even">Attributes</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>active</strong> (<em>bool, optional</em>) – True if the detector is used in the fit</p></li>
<li><p><strong>channel_range =</strong> (<em>int, int</em>) – The energy channel range of the data</p></li>
<li><p><strong>datatype</strong> (<em>str</em>) – The name of the datatype</p></li>
<li><p><strong>detector</strong> (<em>str</em>) – The name of the detector</p></li>
<li><p><strong>energy_edges</strong> (<em>np.array</em>) – The edges of the energy channels</p></li>
<li><p><strong>energy_range</strong> (<em>float, float</em>) – The energy range of the data used</p></li>
<li><p><strong>filename</strong> (<em>str</em>) – The filename of the data file</p></li>
<li><p><strong>instrument</strong> (<em>str</em>) – The name of the instrument</p></li>
<li><p><strong>numchans</strong> (<em>int</em>) – Number of energy channels used</p></li>
<li><p><strong>photon_counts</strong> (<em>np.array</em>) – The deconvolved photon counts for the detector</p></li>
<li><p><strong>photon_errors</strong> (<em>np.array</em>) – The deconvolved photon count errors for the
detector</p></li>
<li><p><strong>photon_model</strong> (<em>np.array</em>) – The photon model for the detector</p></li>
<li><p><strong>response</strong> (<em>str</em>) – The filename of the detector response</p></li>
<li><p><strong>time_range</strong> (<em>float, float</em>) – The time range of the data used</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.scat.DetectorData.from_fits_row">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_fits_row</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fits_row</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/scat.html#DetectorData.from_fits_row"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.scat.DetectorData.from_fits_row" title="Permalink to this definition">¶</a></dt>
<dd><p>Read a FITS row and return a DetectorData object</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>(<a class="reference internal" href="#gbm.data.scat.DetectorData" title="gbm.data.scat.DetectorData"><code class="xref py py-class docutils literal notranslate"><span class="pre">DetectorData</span></code></a>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.scat.DetectorData.to_fits_row">
<span class="sig-name descname"><span class="pre">to_fits_row</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/scat.html#DetectorData.to_fits_row"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.scat.DetectorData.to_fits_row" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the contained data as a FITS table row</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><em>(astropy.io.fits.BinTableHDU)</em> – The FITS row</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<hr class="docutils" />
<div class="section" id="trigdat-maxrates">
<h3>trigdat.MaxRates<a class="headerlink" href="#trigdat-maxrates" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="gbm.data.trigdat.MaxRates">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">gbm.data.trigdat.</span></span><span class="sig-name descname"><span class="pre">MaxRates</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rec_array</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/trigdat.html#MaxRates"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.trigdat.MaxRates" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Class for the MaxRates data in Trigdat.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>rec_array</strong> (<em>np.recarray</em>) – The FITS TRIGRATE or MAXRATES record array
from the trigdat file</p>
</dd>
<dt class="field-even">Attributes</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>all_rates</strong> (<em>np.array</em>) – An array (<code class="xref py py-attr docutils literal notranslate"><span class="pre">numchans</span></code>, <code class="xref py py-attr docutils literal notranslate"><span class="pre">numdets</span></code>) of
the maxrates</p></li>
<li><p><strong>eic</strong> (<em>np.array</em>) – The position of Fermi in Earth inertial coordinates</p></li>
<li><p><strong>numchans</strong> (<em>int</em>) – The number of energy channels</p></li>
<li><p><strong>numdets</strong> (<em>int</em>) – The number of detectors</p></li>
<li><p><strong>quaternions</strong> (<em>np.array</em>) – The quaternions at the maxrates time</p></li>
<li><p><strong>timescale</strong> (<em>float</em>) – The timescale of the maxrates</p></li>
<li><p><strong>time_range</strong> (<em>float, float</em>) – The time range of the maxrates</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.trigdat.MaxRates.get_detector">
<span class="sig-name descname"><span class="pre">get_detector</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">det</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/trigdat.html#MaxRates.get_detector"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.trigdat.MaxRates.get_detector" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve the maxrates for a detector</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>det</strong> (<em>str</em>) – The detector</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>np.array</em> – An array of size (<code class="xref py py-attr docutils literal notranslate"><span class="pre">numchans</span></code>,) of rates for the detector</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<hr class="docutils" />
<div class="section" id="trigdat-backrates">
<h3>trigdat.BackRates<a class="headerlink" href="#trigdat-backrates" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="gbm.data.trigdat.BackRates">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">gbm.data.trigdat.</span></span><span class="sig-name descname"><span class="pre">BackRates</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rec_array</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/trigdat.html#BackRates"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.trigdat.BackRates" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Class for the background rates data in Trigdat.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>rec_array</strong> (<em>np.recarray</em>) – The FITS BCKRATES record array from the
trigdat file</p>
</dd>
<dt class="field-even">Attributes</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>all_rates</strong> (<em>np.array</em>) – An array (<code class="xref py py-attr docutils literal notranslate"><span class="pre">numchans</span></code>, <code class="xref py py-attr docutils literal notranslate"><span class="pre">numdets</span></code>) of
the maxrates</p></li>
<li><p><strong>numchans</strong> (<em>int</em>) – The number of energy channels</p></li>
<li><p><strong>numdets</strong> (<em>int</em>) – The number of detectors</p></li>
<li><p><strong>quality</strong> (<em>int, int</em>) – The quality flags for the background</p></li>
<li><p><strong>time_range</strong> (<em>float, float</em>) – The time range of the maxrates</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.trigdat.BackRates.get_detector">
<span class="sig-name descname"><span class="pre">get_detector</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">det</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/trigdat.html#BackRates.get_detector"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.trigdat.BackRates.get_detector" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve the background rates for a detector</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>det</strong> (<em>str</em>) – The detector</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>np.array</em> – An array of size (<code class="xref py py-attr docutils literal notranslate"><span class="pre">numchans</span></code>,) of background rates                       for the detector</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<hr class="docutils" />
<div class="section" id="trigdat-fswlocation">
<h3>trigdat.FswLocation<a class="headerlink" href="#trigdat-fswlocation" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="gbm.data.trigdat.FswLocation">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">gbm.data.trigdat.</span></span><span class="sig-name descname"><span class="pre">FswLocation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rec_array</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/trigdat.html#FswLocation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.trigdat.FswLocation" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Class for the flight software localization info</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>rec_array</strong> (<em>np.recarray</em>) – The FITS OB_CALC record array from the
trigdat file</p>
</dd>
<dt class="field-even">Attributes</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>fluence</strong> (<em>float</em>) – The fluence of the localization interval</p></li>
<li><p><strong>hardness_ratio</strong> (<em>float</em>) – The hardness ratio for the localization interval</p></li>
<li><p><strong>intensity</strong> (<em>float</em>) – The brightness of the signal</p></li>
<li><p><strong>location</strong> (<em>float, float, float</em>) – The RA, Dec, and statistical error of
the onboard localization</p></li>
<li><p><strong>location_sc</strong> (<em>float</em>) – The localization in spacecraft coordinates:
Azimuth, Zenith</p></li>
<li><p><strong>next_classification</strong> (<em>str, float</em>) – The next most likely classification of the trigger and the probability</p></li>
<li><p><strong>significance</strong> (<em>float</em>) – The S/N ratio of the localization interval</p></li>
<li><p><strong>spectrum</strong> (<em>str</em>) – The spectrum used in the localization</p></li>
<li><p><strong>time</strong> (<em>float</em>) – Time at which the localization was calculated</p></li>
<li><p><strong>timescale</strong> (<em>float</em>) – The localization interval timescale</p></li>
<li><p><strong>top_classification</strong> (<em>str, float</em>) – The most likely classification of the trigger and the probability</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
</div>
<hr class="docutils" />
<div class="section" id="data-primitives">
<h2>Data Primitives<a class="headerlink" href="#data-primitives" title="Permalink to this headline">¶</a></h2>
<p>Primitive data classes.  The GBM Primary classes act as wrappers around some of
these classes with additional specialized metadata.  These classes may be useful
in designing new higher-level data classes.</p>
<ul class="simple">
<li><p>1D Binned data (<a class="reference internal" href="#gbm.data.primitives.Bins" title="gbm.data.primitives.Bins"><code class="xref py py-class docutils literal notranslate"><span class="pre">Bins</span></code></a>,
<a class="reference internal" href="#gbm.data.primitives.EnergyBins" title="gbm.data.primitives.EnergyBins"><code class="xref py py-class docutils literal notranslate"><span class="pre">EnergyBins</span></code></a>, <a class="reference internal" href="#gbm.data.primitives.TimeBins" title="gbm.data.primitives.TimeBins"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeBins</span></code></a>)</p></li>
<li><p>2D Binned data (<a class="reference internal" href="#gbm.data.primitives.TimeEnergyBins" title="gbm.data.primitives.TimeEnergyBins"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeEnergyBins</span></code></a>)</p></li>
<li><p>Unbinned event data (<a class="reference internal" href="#gbm.data.primitives.EventList" title="gbm.data.primitives.EventList"><code class="xref py py-class docutils literal notranslate"><span class="pre">EventList</span></code></a>)</p></li>
<li><p>Time range data (<a class="reference internal" href="#gbm.data.primitives.TimeRange" title="gbm.data.primitives.TimeRange"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeRange</span></code></a>,
<a class="reference internal" href="#gbm.data.primitives.GTI" title="gbm.data.primitives.GTI"><code class="xref py py-class docutils literal notranslate"><span class="pre">GTI</span></code></a>)</p></li>
</ul>
<div class="section" id="bins">
<h3>Bins<a class="headerlink" href="#bins" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="gbm.data.primitives.Bins">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">gbm.data.primitives.</span></span><span class="sig-name descname"><span class="pre">Bins</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">counts</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lo_edges</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hi_edges</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/primitives.html#Bins"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.primitives.Bins" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A primitive class defining a set of histogram bins</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>counts</strong> (<em>np.array</em>) – The array of counts in each bin</p></li>
<li><p><strong>lo_edges</strong> (<em>np.array</em>) – The low-value edges of the bins</p></li>
<li><p><strong>hi_edges</strong> (<em>np.array</em>) – The high-value edges of the bins</p></li>
</ul>
</dd>
<dt class="field-even">Attributes</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>centroids</strong> (<em>np.array</em>) – The centroids of the bins</p></li>
<li><p><strong>counts</strong> (<em>np.array</em>) – The counts in each bin</p></li>
<li><p><strong>count_uncertainty</strong> (<em>np.array</em>) – The count uncertainty in each bin</p></li>
<li><p><strong>hi_edges</strong> (<em>np.array</em>) – The high-value edges of the bins</p></li>
<li><p><strong>lo_edges</strong> (<em>np.array</em>) – The low-value edges of the bins</p></li>
<li><p><strong>range</strong> (<em>float, float</em>) – The range of the bin edges</p></li>
<li><p><strong>rates</strong> (<em>np.array</em>) – The count rate of each bin: counts/width</p></li>
<li><p><strong>rate_uncertainty</strong> (<em>np.array</em>) – The count rate uncertainty of each bin</p></li>
<li><p><strong>size</strong> (<em>int</em>) – Number of bins</p></li>
<li><p><strong>widths</strong> (<em>np.array</em>) – The widths of the bins</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.primitives.Bins.closest_edge">
<span class="sig-name descname"><span class="pre">closest_edge</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">val</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">which</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'either'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/primitives.html#Bins.closest_edge"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.primitives.Bins.closest_edge" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the closest bin edge</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>val</strong> (<em>float</em>) – Input value</p></li>
<li><p><strong>which</strong> (<em>str</em><em>, </em><em>optional</em>) – <p>Options are:</p>
<ul>
<li><p>’either’ - closest edge to val;</p></li>
<li><p>’low’ - closest edge lower than val; or</p></li>
<li><p>’high’ - closest edge higher than val. Default is ‘either’</p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>float</em> – The closest bin edge to the input value</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.primitives.Bins.contiguous_bins">
<span class="sig-name descname"><span class="pre">contiguous_bins</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/primitives.html#Bins.contiguous_bins"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.primitives.Bins.contiguous_bins" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of Bins, each one containing a continuous segment of
data.  This is done by comparing the edges of each bin, and if there
is a gap between edges, the data is split into separate Bin objects,
each containing a contiguous set of data.</p>
<dl class="simple">
<dt>Returns</dt><dd><p>list of <a class="reference internal" href="#gbm.data.primitives.Bins" title="gbm.data.primitives.Bins"><code class="xref py py-class docutils literal notranslate"><span class="pre">Bins</span></code></a>: A list of Bins</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.primitives.Bins.slice">
<span class="sig-name descname"><span class="pre">slice</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lo_edge</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hi_edge</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/primitives.html#Bins.slice"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.primitives.Bins.slice" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform a slice over the range of the bins and return a new Bins
object. Note that lo_edge and hi_edge values that fall inside a bin will
result in that bin being included.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lo_edge</strong> (<em>float</em>) – The start of the slice</p></li>
<li><p><strong>hi_edge</strong> (<em>float</em>) – The end of the slice</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#gbm.data.primitives.Bins" title="gbm.data.primitives.Bins"><code class="xref py py-class docutils literal notranslate"><span class="pre">Bins</span></code></a> – A new Bins object containing the slice</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<hr class="docutils" />
<div class="section" id="energybins">
<h3>EnergyBins<a class="headerlink" href="#energybins" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="gbm.data.primitives.EnergyBins">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">gbm.data.primitives.</span></span><span class="sig-name descname"><span class="pre">EnergyBins</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">counts</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lo_edges</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hi_edges</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exposure</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/primitives.html#EnergyBins"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.primitives.EnergyBins" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#gbm.data.primitives.TimeBins" title="gbm.data.primitives.TimeBins"><code class="xref py py-class docutils literal notranslate"><span class="pre">gbm.data.primitives.TimeBins</span></code></a></p>
<p>A class defining a set of Energy (count spectra) bins.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>counts</strong> (<em>np.array</em>) – The array of counts in each bin</p></li>
<li><p><strong>lo_edges</strong> (<em>np.array</em>) – The low-value edges of the bins</p></li>
<li><p><strong>hi_edges</strong> (<em>np.array</em>) – The high-value edges of the bins</p></li>
<li><p><strong>exposure</strong> (<em>np.array</em>) – The exposure of each bin</p></li>
</ul>
</dd>
<dt class="field-even">Attributes</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>centroids</strong> (<em>np.array</em>) – The geometric centroids of the bins</p></li>
<li><p><strong>counts</strong> (<em>np.array</em>) – The counts in each bin</p></li>
<li><p><strong>count_uncertainty</strong> (<em>np.array</em>) – The count uncertainty in each bin</p></li>
<li><p><strong>exposure</strong> (<em>np.array</em>) – The exposure of each bin</p></li>
<li><p><strong>hi_edges</strong> (<em>np.array</em>) – The high-value edges of the bins</p></li>
<li><p><strong>lo_edges</strong> (<em>np.array</em>) – The low-value edges of the bins</p></li>
<li><p><strong>range</strong> (<em>float, float</em>) – The range of the bin edges</p></li>
<li><p><strong>rates</strong> (<em>np.array</em>) – The differential count rate of each bin:
counts/(exposure*widths)</p></li>
<li><p><strong>rate_uncertainty</strong> (<em>np.array</em>) – The count rate uncertainty of each bin</p></li>
<li><p><strong>size</strong> (<em>int</em>) – Number of bins</p></li>
<li><p><strong>widths</strong> (<em>np.array</em>) – The widths of the bins</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.primitives.EnergyBins.closest_edge">
<span class="sig-name descname"><span class="pre">closest_edge</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">val</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">which</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'either'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gbm.data.primitives.EnergyBins.closest_edge" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the closest bin edge</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>val</strong> (<em>float</em>) – Input value</p></li>
<li><p><strong>which</strong> (<em>str</em><em>, </em><em>optional</em>) – <p>Options are:</p>
<ul>
<li><p>’either’ - closest edge to val;</p></li>
<li><p>’low’ - closest edge lower than val; or</p></li>
<li><p>’high’ - closest edge higher than val. Default is ‘either’</p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>float</em> – The closest bin edge to the input value</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.primitives.EnergyBins.contiguous_bins">
<span class="sig-name descname"><span class="pre">contiguous_bins</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gbm.data.primitives.EnergyBins.contiguous_bins" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of Bins, each one containing a continuous segment of
data.  This is done by comparing the edges of each bin, and if there
is a gap between edges, the data is split into separate Bin objects,
each containing a contiguous set of data.</p>
<dl class="simple">
<dt>Returns</dt><dd><p>list of <a class="reference internal" href="#gbm.data.primitives.Bins" title="gbm.data.primitives.Bins"><code class="xref py py-class docutils literal notranslate"><span class="pre">Bins</span></code></a>: A list of Bins</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.primitives.EnergyBins.from_fits_array">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_fits_array</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ebounds</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/primitives.html#EnergyBins.from_fits_array"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.primitives.EnergyBins.from_fits_array" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an EnergyBins object from a FITS counts array</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>arr</strong> (<em>np.recarray</em><em> or </em><em>astropy.io.fits.fitsrec.FITS_rec</em>) – The FITS counts array</p></li>
<li><p><strong>ebounds</strong> (<em>np.recarray</em><em> or </em><em>astropy.io.fits.fitsrec.FITS_rec</em>) – The ebounds array, mapping channel numbers to energy bins</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#gbm.data.primitives.EnergyBins" title="gbm.data.primitives.EnergyBins"><code class="xref py py-class docutils literal notranslate"><span class="pre">EnergyBins</span></code></a> – The new EnergyBins object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.primitives.EnergyBins.merge">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">merge</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">histos</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gbm.data.primitives.EnergyBins.merge" title="Permalink to this definition">¶</a></dt>
<dd><p>Merge multiple TimeBins together.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>histos</strong> (list of <a class="reference internal" href="#gbm.data.primitives.TimeBins" title="gbm.data.primitives.TimeBins"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeBins</span></code></a>) – A list containing the TimeBins to be merged</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#gbm.data.primitives.TimeBins" title="gbm.data.primitives.TimeBins"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeBins</span></code></a> – A new TimeBins object containing the merged TimeBins</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.primitives.EnergyBins.rebin">
<span class="sig-name descname"><span class="pre">rebin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">method</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">emin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">emax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/primitives.html#EnergyBins.rebin"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.primitives.EnergyBins.rebin" title="Permalink to this definition">¶</a></dt>
<dd><p>Rebin the EnergyBins object in given a binning function and return a
a new EnergyBins object</p>
<p>The binning function should take as input an array of counts,
array of exposures, and an array of bin edges. Additional arguments
specific to the function are allowed. The function should return an
array of the new counts, new exposure, and new edges.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>method</strong> (<em>&lt;function&gt;</em>) – A binning function</p></li>
<li><p><strong>*args</strong> – Arguments to be passed to the binning function</p></li>
<li><p><strong>emin</strong> (<em>float</em><em>, </em><em>optional</em>) – If set, defines the starting energy of the EnergyBins to be
binned, otherwise binning will begin at the first bin edge.</p></li>
<li><p><strong>emax</strong> (<em>float</em><em>, </em><em>optional</em>) – If set, defines the ending energy of the EnergyBins to be binned,
otherwise binning will end at the last bin edge.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#gbm.data.primitives.EnergyBins" title="gbm.data.primitives.EnergyBins"><code class="xref py py-class docutils literal notranslate"><span class="pre">EnergyBins</span></code></a> – The rebinned EnergyBins object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.primitives.EnergyBins.slice">
<span class="sig-name descname"><span class="pre">slice</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tstart</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tstop</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gbm.data.primitives.EnergyBins.slice" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform a slice over a time range and return a new Bins object. Note
that tstart and tstop values that fall inside a bin will result in
that bin being included.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lo_edge</strong> (<em>float</em>) – The start of the slice</p></li>
<li><p><strong>hi_edge</strong> (<em>float</em>) – The end of the slice</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#gbm.data.primitives.TimeBins" title="gbm.data.primitives.TimeBins"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeBins</span></code></a> – A new TimeBins object containing the time slice</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.primitives.EnergyBins.sum">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">sum</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">histos</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/primitives.html#EnergyBins.sum"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.primitives.EnergyBins.sum" title="Permalink to this definition">¶</a></dt>
<dd><p>Sum multiple EnergyBins together if they have the same energy range
(support).  Example use would be summing two count spectra.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>histos</strong> (list of <a class="reference internal" href="#gbm.data.primitives.EnergyBins" title="gbm.data.primitives.EnergyBins"><code class="xref py py-class docutils literal notranslate"><span class="pre">EnergyBins</span></code></a>) – A list containing the EnergyBins to be summed</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#gbm.data.primitives.EnergyBins" title="gbm.data.primitives.EnergyBins"><code class="xref py py-class docutils literal notranslate"><span class="pre">EnergyBins</span></code></a> – A new EnergyBins object containing the                                  summed EnergyBins</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<hr class="docutils" />
<div class="section" id="timebins">
<h3>TimeBins<a class="headerlink" href="#timebins" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="gbm.data.primitives.TimeBins">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">gbm.data.primitives.</span></span><span class="sig-name descname"><span class="pre">TimeBins</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">counts</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lo_edges</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hi_edges</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exposure</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/primitives.html#TimeBins"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.primitives.TimeBins" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#gbm.data.primitives.Bins" title="gbm.data.primitives.Bins"><code class="xref py py-class docutils literal notranslate"><span class="pre">gbm.data.primitives.Bins</span></code></a></p>
<p>A class defining a set of Time History (lightcurve) bins.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>counts</strong> (<em>np.array</em>) – The array of counts in each bin</p></li>
<li><p><strong>lo_edges</strong> (<em>np.array</em>) – The low-value edges of the bins</p></li>
<li><p><strong>hi_edges</strong> (<em>np.array</em>) – The high-value edges of the bins</p></li>
<li><p><strong>exposure</strong> (<em>np.array</em>) – The exposure of each bin</p></li>
</ul>
</dd>
<dt class="field-even">Attributes</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>centroids</strong> (<em>np.array</em>) – The centroids of the bins</p></li>
<li><p><strong>counts</strong> (<em>np.array</em>) – The counts in each bin</p></li>
<li><p><strong>count_uncertainty</strong> (<em>np.array</em>) – The count uncertainty in each bin</p></li>
<li><p><strong>exposure</strong> (<em>np.array</em>) – The exposure of each bin</p></li>
<li><p><strong>hi_edges</strong> (<em>np.array</em>) – The high-value edges of the bins</p></li>
<li><p><strong>lo_edges</strong> (<em>np.array</em>) – The low-value edges of the bins</p></li>
<li><p><strong>range</strong> (<em>float, float</em>) – The range of the bin edges</p></li>
<li><p><strong>rates</strong> (<em>np.array</em>) – The count rate of each bin: counts/exposure</p></li>
<li><p><strong>rate_uncertainty</strong> (<em>np.array</em>) – The count rate uncertainty of each bin</p></li>
<li><p><strong>size</strong> (<em>int</em>) – Number of bins</p></li>
<li><p><strong>widths</strong> (<em>np.array</em>) – The widths of the bins</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.primitives.TimeBins.closest_edge">
<span class="sig-name descname"><span class="pre">closest_edge</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">val</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">which</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'either'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gbm.data.primitives.TimeBins.closest_edge" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the closest bin edge</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>val</strong> (<em>float</em>) – Input value</p></li>
<li><p><strong>which</strong> (<em>str</em><em>, </em><em>optional</em>) – <p>Options are:</p>
<ul>
<li><p>’either’ - closest edge to val;</p></li>
<li><p>’low’ - closest edge lower than val; or</p></li>
<li><p>’high’ - closest edge higher than val. Default is ‘either’</p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>float</em> – The closest bin edge to the input value</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.primitives.TimeBins.contiguous_bins">
<span class="sig-name descname"><span class="pre">contiguous_bins</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gbm.data.primitives.TimeBins.contiguous_bins" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of Bins, each one containing a continuous segment of
data.  This is done by comparing the edges of each bin, and if there
is a gap between edges, the data is split into separate Bin objects,
each containing a contiguous set of data.</p>
<dl class="simple">
<dt>Returns</dt><dd><p>list of <a class="reference internal" href="#gbm.data.primitives.Bins" title="gbm.data.primitives.Bins"><code class="xref py py-class docutils literal notranslate"><span class="pre">Bins</span></code></a>: A list of Bins</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.primitives.TimeBins.from_fits_array">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_fits_array</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arr</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/primitives.html#TimeBins.from_fits_array"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.primitives.TimeBins.from_fits_array" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an TimeBins object from a FITS counts array</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>arr</strong> (<em>np.recarray</em><em> or </em><em>astropy.io.fits.fitsrec.FITS_rec</em>) – The FITS counts array</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#gbm.data.primitives.TimeBins" title="gbm.data.primitives.TimeBins"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeBins</span></code></a> – The new TimeBins object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.primitives.TimeBins.merge">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">merge</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">histos</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/primitives.html#TimeBins.merge"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.primitives.TimeBins.merge" title="Permalink to this definition">¶</a></dt>
<dd><p>Merge multiple TimeBins together.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>histos</strong> (list of <a class="reference internal" href="#gbm.data.primitives.TimeBins" title="gbm.data.primitives.TimeBins"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeBins</span></code></a>) – A list containing the TimeBins to be merged</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#gbm.data.primitives.TimeBins" title="gbm.data.primitives.TimeBins"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeBins</span></code></a> – A new TimeBins object containing the merged TimeBins</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.primitives.TimeBins.rebin">
<span class="sig-name descname"><span class="pre">rebin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">method</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tstart</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tstop</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/primitives.html#TimeBins.rebin"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.primitives.TimeBins.rebin" title="Permalink to this definition">¶</a></dt>
<dd><p>Rebin the TimeBins object in given a binning function and return a
a new TimeBins object</p>
<p>The binning function should take as input an array of counts,
array of exposures, and an array of bin edges. Additional arguments
specific to the function are allowed. The function should return an
array of the new counts, new exposure, and new edges.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>method</strong> (<em>&lt;function&gt;</em>) – A binning function</p></li>
<li><p><strong>*args</strong> – Arguments to be passed to the binning function</p></li>
<li><p><strong>tstart</strong> (<em>float</em><em>, </em><em>optional</em>) – If set, defines the start time of the TimeBins to be binned,
otherwise binning will begin at the time of the first bin edge.</p></li>
<li><p><strong>tstop</strong> (<em>float</em><em>, </em><em>optional</em>) – If set, defines the end time of the TimeBins to be binned,
otherwise binning will end at the time of the last bin edge.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#gbm.data.primitives.TimeBins" title="gbm.data.primitives.TimeBins"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeBins</span></code></a> – The rebinned TimeBins object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.primitives.TimeBins.slice">
<span class="sig-name descname"><span class="pre">slice</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tstart</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tstop</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/primitives.html#TimeBins.slice"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.primitives.TimeBins.slice" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform a slice over a time range and return a new Bins object. Note
that tstart and tstop values that fall inside a bin will result in
that bin being included.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lo_edge</strong> (<em>float</em>) – The start of the slice</p></li>
<li><p><strong>hi_edge</strong> (<em>float</em>) – The end of the slice</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#gbm.data.primitives.TimeBins" title="gbm.data.primitives.TimeBins"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeBins</span></code></a> – A new TimeBins object containing the time slice</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.primitives.TimeBins.sum">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">sum</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">histos</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/primitives.html#TimeBins.sum"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.primitives.TimeBins.sum" title="Permalink to this definition">¶</a></dt>
<dd><p>Sum multiple TimeBins together if they have the same time range
(support) and the same bin widths.  Example use would be summing
two histograms at different energies.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>histos</strong> (list of <a class="reference internal" href="#gbm.data.primitives.TimeBins" title="gbm.data.primitives.TimeBins"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeBins</span></code></a>) – A list containing the TimeBins to be summed</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#gbm.data.primitives.TimeBins" title="gbm.data.primitives.TimeBins"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeBins</span></code></a> – A new TimeBins object containing the summed TimeBins</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<hr class="docutils" />
<div class="section" id="timeenergybins">
<h3>TimeEnergyBins<a class="headerlink" href="#timeenergybins" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="gbm.data.primitives.TimeEnergyBins">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">gbm.data.primitives.</span></span><span class="sig-name descname"><span class="pre">TimeEnergyBins</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">counts</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tstart</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tstop</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exposure</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">emin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">emax</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/primitives.html#TimeEnergyBins"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.primitives.TimeEnergyBins" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A class defining a set of 2D Time-Energy bins.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>counts</strong> (<em>np.array</em>) – The array of counts in each bin</p></li>
<li><p><strong>tstart</strong> (<em>np.array</em>) – The low-value edges of the time bins</p></li>
<li><p><strong>tstop</strong> (<em>np.array</em>) – The high-value edges of the time bins</p></li>
<li><p><strong>exposure</strong> (<em>np.array</em>) – The exposure of each bin</p></li>
<li><p><strong>emin</strong> (<em>np.array</em>) – The low-value edges of the energy bins</p></li>
<li><p><strong>emax</strong> (<em>np.array</em>) – The high-value edges of the energy bins</p></li>
</ul>
</dd>
<dt class="field-even">Attributes</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>chanwidths</strong> (<em>np.array</em>) – The bin widths along the energy axis</p></li>
<li><p><strong>count_uncertainty</strong> (<em>np.array</em>) – The counts uncertainty in each bin</p></li>
<li><p><strong>energy_centroids</strong> (<em>np.array</em>) – The bin centroids along the energy axis</p></li>
<li><p><strong>energy_range</strong> (<em>float, float</em>) – The range of the data along the energy axis</p></li>
<li><p><strong>numchans</strong> (<em>int</em>) – The number of energy channels along the energy axis</p></li>
<li><p><strong>numtimes</strong> (<em>int</em>) – The number of bins along the time axis</p></li>
<li><p><strong>rates</strong> (<em>np.array</em>) – The rates in each Time-Energy Bin</p></li>
<li><p><strong>rates_per_kev</strong> (<em>np.array</em>) – The differential rates in units of counts/s/keV</p></li>
<li><p><strong>rate_uncertainty</strong> (<em>np.array</em>) – The rate uncertainty in each bin</p></li>
<li><p><strong>rate_uncertainty_per_kev</strong> (<em>np.array</em>) – The differential rate uncertainty in units of counts/s/keV</p></li>
<li><p><strong>size</strong> (<em>int, int</em>) – The number of bins along both axes (numtimes, numchans)</p></li>
<li><p><strong>time_centroids</strong> (<em>np.array</em>) – The bin centroids along the time axis</p></li>
<li><p><strong>time_range</strong> (<em>float, float</em>) – The range of the data along the time axis</p></li>
<li><p><strong>time_widths</strong> (<em>np.array</em>) – The bin widths along the time axis</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.primitives.TimeEnergyBins.closest_energy_edge">
<span class="sig-name descname"><span class="pre">closest_energy_edge</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">val</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">which</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'either'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/primitives.html#TimeEnergyBins.closest_energy_edge"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.primitives.TimeEnergyBins.closest_energy_edge" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the closest energy bin edge</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>val</strong> (<em>float</em>) – Input value</p></li>
<li><p><strong>which</strong> (<em>str</em><em>, </em><em>optional</em>) – <p>Options are:</p>
<ul>
<li><p>’either’ - closest edge to val;</p></li>
<li><p>’low’ - closest edge lower than val;</p></li>
<li><p>’high’ - closest edge higher than val. Default is ‘either’</p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>float</em> – The closest energy bin edge to the input value</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.primitives.TimeEnergyBins.closest_time_edge">
<span class="sig-name descname"><span class="pre">closest_time_edge</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">val</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">which</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'either'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/primitives.html#TimeEnergyBins.closest_time_edge"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.primitives.TimeEnergyBins.closest_time_edge" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the closest time bin edge</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>val</strong> (<em>float</em>) – Input value</p></li>
<li><p><strong>which</strong> (<em>str</em><em>, </em><em>optional</em>) – <p>Options are:</p>
<ul>
<li><p>’either’ - closest edge to val;</p></li>
<li><p>’low’ - closest edge lower than val;</p></li>
<li><p>’high’ - closest edge higher than val. Default is ‘either’</p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>float</em> – The closest time bin edge to the input value</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.primitives.TimeEnergyBins.contiguous_energy_bins">
<span class="sig-name descname"><span class="pre">contiguous_energy_bins</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/primitives.html#TimeEnergyBins.contiguous_energy_bins"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.primitives.TimeEnergyBins.contiguous_energy_bins" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of TimeEnergyBins, each one containing a contiguous
energy segment of data.  This is done by comparing the edges of each
energy bin, and if thereis a gap between edges, the data is split into
separate TimeEnergyBin objects, each containing an energy-contiguous set
of data.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>list of <a class="reference internal" href="#gbm.data.primitives.TimeEnergyBins" title="gbm.data.primitives.TimeEnergyBins"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeEnergyBins</span></code></a> – A list of TimeEnergyBins</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.primitives.TimeEnergyBins.contiguous_time_bins">
<span class="sig-name descname"><span class="pre">contiguous_time_bins</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/primitives.html#TimeEnergyBins.contiguous_time_bins"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.primitives.TimeEnergyBins.contiguous_time_bins" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of TimeEnergyBins, each one containing a contiguous
time segment of data.  This is done by comparing the edges of each time
bin, and if thereis a gap between edges, the data is split into
separate TimeEnergyBin objects, each containing a time-contiguous set
of data.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>list of <a class="reference internal" href="#gbm.data.primitives.TimeEnergyBins" title="gbm.data.primitives.TimeEnergyBins"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeEnergyBins</span></code></a> – A list of TimeEnergyBins</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.primitives.TimeEnergyBins.get_exposure">
<span class="sig-name descname"><span class="pre">get_exposure</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time_ranges</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/primitives.html#TimeEnergyBins.get_exposure"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.primitives.TimeEnergyBins.get_exposure" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the total exposure of a time range or time ranges of data</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>time_ranges</strong> (<em>[</em><em>(</em><em>float</em><em>, </em><em>float</em><em>)</em><em>, </em><em>...</em><em>]</em><em>, </em><em>optional</em>) – The time range or time ranges over which to calculate the
exposure. If omitted, calculates the total exposure of the data</p></li>
<li><p><strong>scale</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True and the time ranges don’t match up with the data binning,
will scale the exposure based on the requested time range.
Default is False.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>float</em> – The exposure of the time selections</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.primitives.TimeEnergyBins.integrate_energy">
<span class="sig-name descname"><span class="pre">integrate_energy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">emin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">emax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/primitives.html#TimeEnergyBins.integrate_energy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.primitives.TimeEnergyBins.integrate_energy" title="Permalink to this definition">¶</a></dt>
<dd><p>Integrate the histogram over the energy axis (producing a lightcurve).
Limits on the integration smaller than the full range can be set.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>emin</strong> (<em>float</em><em>, </em><em>optional</em>) – The low end of the integration range. If not set, uses the
lowest energy edge of the histogram</p></li>
<li><p><strong>emax</strong> (<em>float</em><em>, </em><em>optional</em>) – The high end of the integration range. If not set, uses the
highest energy edge of the histogram</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#gbm.data.primitives.TimeBins" title="gbm.data.primitives.TimeBins"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeBins</span></code></a> – A TimeBins object containing the lightcurve histogram</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.primitives.TimeEnergyBins.integrate_time">
<span class="sig-name descname"><span class="pre">integrate_time</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tstart</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tstop</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/primitives.html#TimeEnergyBins.integrate_time"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.primitives.TimeEnergyBins.integrate_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Integrate the histogram over the time axis (producing a count rate
spectrum). Limits on the integration smaller than the full range can
be set.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tstart</strong> (<em>float</em><em>, </em><em>optional</em>) – The low end of the integration range. If not set, uses the
lowest time edge of the histogram</p></li>
<li><p><strong>tstop</strong> (<em>float</em><em>, </em><em>optional</em>) – The high end of the integration range. If not set, uses the
highest time edge of the histogram</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#gbm.data.primitives.EnergyBins" title="gbm.data.primitives.EnergyBins"><code class="xref py py-class docutils literal notranslate"><span class="pre">EnergyBins</span></code></a> – A EnergyBins object containing the count                                  rate spectrum histogram</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.primitives.TimeEnergyBins.merge_energy">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">merge_energy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">histos</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/primitives.html#TimeEnergyBins.merge_energy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.primitives.TimeEnergyBins.merge_energy" title="Permalink to this definition">¶</a></dt>
<dd><p>Merge multiple TimeEnergyBins together along the energy axis.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>histos</strong> (list of <a class="reference internal" href="#gbm.data.primitives.TimeEnergyBins" title="gbm.data.primitives.TimeEnergyBins"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeEnergyBins</span></code></a>) – A list containing the TimeEnergyBins to be merged</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#gbm.data.primitives.TimeEnergyBins" title="gbm.data.primitives.TimeEnergyBins"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeEnergyBins</span></code></a> – A new TimEnergyBins object containing                                      the merged TimeEnergyBins</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.primitives.TimeEnergyBins.merge_time">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">merge_time</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">histos</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/primitives.html#TimeEnergyBins.merge_time"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.primitives.TimeEnergyBins.merge_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Merge multiple TimeEnergyBins together along the time axis.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>histos</strong> (list of <a class="reference internal" href="#gbm.data.primitives.TimeEnergyBins" title="gbm.data.primitives.TimeEnergyBins"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeEnergyBins</span></code></a>) – A list containing the TimeEnergyBins to be merged</p>
</dd>
</dl>
<dl class="simple">
<dt>Returns</dt><dd><p><a class="reference internal" href="#gbm.data.primitives.TimeEnergyBins" title="gbm.data.primitives.TimeEnergyBins"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeEnergyBins</span></code></a>: A new TimEnergyBins object containing the                                      merged TimeEnergyBins</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.primitives.TimeEnergyBins.rebin_energy">
<span class="sig-name descname"><span class="pre">rebin_energy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">method</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">emin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">emax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/primitives.html#TimeEnergyBins.rebin_energy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.primitives.TimeEnergyBins.rebin_energy" title="Permalink to this definition">¶</a></dt>
<dd><p>Rebin the TimeEnergyBins object along the energy axis given a binning
function and return a new TimeEnergyBins object</p>
<p>The binning function should take as input an array of counts,
array of exposures, and an array of bin edges. Additional arguments
specific to the function are allowed. The function should return an
array of the new counts, new exposure, and new edges.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>method</strong> (<em>&lt;function&gt;</em>) – A binning function</p></li>
<li><p><strong>*args</strong> – Arguments to be passed to the binning function</p></li>
<li><p><strong>emin</strong> (<em>float</em><em>, </em><em>optional</em>) – If set, defines the starting edge of the TimeEnergyBins to be
binned, otherwise binning will begin at the the first bin edge.</p></li>
<li><p><strong>emax</strong> (<em>float</em><em>, </em><em>optional</em>) – If set, defines the ending edge of the TimeEnergyBins to be
binned, otherwise binning will end at the last bin edge.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#gbm.data.primitives.TimeEnergyBins" title="gbm.data.primitives.TimeEnergyBins"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeEnergyBins</span></code></a> – The rebinned TimeEnergyBins object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.primitives.TimeEnergyBins.rebin_time">
<span class="sig-name descname"><span class="pre">rebin_time</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">method</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tstart</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tstop</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/primitives.html#TimeEnergyBins.rebin_time"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.primitives.TimeEnergyBins.rebin_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Rebin the TimeEnergyBins object along the time axis given a binning
function and return a new TimeEnergyBins object</p>
<p>The binning function should take as input an array of counts,
array of exposures, and an array of bin edges. Additional arguments
specific to the function are allowed. The function should return an
array of the new counts, new exposure, and new edges.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>method</strong> (<em>&lt;function&gt;</em>) – A binning function</p></li>
<li><p><strong>*args</strong> – Arguments to be passed to the binning function</p></li>
<li><p><strong>tstart</strong> (<em>float</em><em>, </em><em>optional</em>) – If set, defines the start time of the TimeEnergyBins to be
binned, otherwise binning will begin at the time of the first
bin edge.</p></li>
<li><p><strong>tstop</strong> (<em>float</em><em>, </em><em>optional</em>) – If set, defines the end time of the TimeEnergyBins to be
binned, otherwise binning will end at the time of the last
bin edge.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#gbm.data.primitives.TimeEnergyBins" title="gbm.data.primitives.TimeEnergyBins"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeEnergyBins</span></code></a> – The rebinned TimeEnergyBins object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.primitives.TimeEnergyBins.slice_energy">
<span class="sig-name descname"><span class="pre">slice_energy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">emin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">emax</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/primitives.html#TimeEnergyBins.slice_energy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.primitives.TimeEnergyBins.slice_energy" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform a slice over an energy range and return a new TimeEnergyBins
object. Note that emin and emax values that fall inside a bin will
result in that bin being included.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>emin</strong> (<em>float</em>) – The start of the slice</p></li>
<li><p><strong>emax</strong> (<em>float</em>) – The end of the slice</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#gbm.data.primitives.TimeEnergyBins" title="gbm.data.primitives.TimeEnergyBins"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeEnergyBins</span></code></a> – A new TimeEnergyBins object containing                                     the energy slice</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.primitives.TimeEnergyBins.slice_time">
<span class="sig-name descname"><span class="pre">slice_time</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tstart</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tstop</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/primitives.html#TimeEnergyBins.slice_time"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.primitives.TimeEnergyBins.slice_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform a slice over a time range and return a new TimeEnergyBins
object. Note that tstart and tstop values that fall inside a bin will
result in that bin being included.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tstart</strong> (<em>float</em>) – The start of the slice</p></li>
<li><p><strong>tstop</strong> (<em>float</em>) – The end of the slice</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#gbm.data.primitives.TimeEnergyBins" title="gbm.data.primitives.TimeEnergyBins"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeEnergyBins</span></code></a> – A new TimeEnergyBins object containing                                      the time slice</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<hr class="docutils" />
<div class="section" id="eventlist">
<h3>EventList<a class="headerlink" href="#eventlist" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="gbm.data.primitives.EventList">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">gbm.data.primitives.</span></span><span class="sig-name descname"><span class="pre">EventList</span></span><a class="reference internal" href="../_modules/gbm/data/primitives.html#EventList"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.primitives.EventList" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A primitive class defining a TTE event list.</p>
<dl class="field-list simple">
<dt class="field-odd">Attributes</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>channel_range</strong> (<em>int, int</em>) – The range of the channels in the list</p></li>
<li><p><strong>count_spectrum</strong> (<a class="reference internal" href="#gbm.data.primitives.EnergyBins" title="gbm.data.primitives.EnergyBins"><code class="xref py py-class docutils literal notranslate"><span class="pre">EnergyBins</span></code></a>) – The count spectrum histogram</p></li>
<li><p><strong>emax</strong> (<em>np.array</em>) – The PHA upper energy edges</p></li>
<li><p><strong>emin</strong> (<em>np.array</em>) – The PHA lower energy edges</p></li>
<li><p><strong>energy_range</strong> (<em>float, float</em>) – The range of the energy edges in the list</p></li>
<li><p><strong>numchans</strong> (<em>int</em>) – The number of energy channels. Note that not all
channels will necessarily have events, especially if a
slice is made over energy.</p></li>
<li><p><strong>pha</strong> (<em>np.array</em>) – The PHA channel array</p></li>
<li><p><strong>size</strong> (<em>int</em>) – The number of events in the list</p></li>
<li><p><strong>time</strong> (<em>np.array</em>) – The time array</p></li>
<li><p><strong>time_range</strong> (<em>float, float</em>) – The range of the times in the list</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.primitives.EventList.bin">
<span class="sig-name descname"><span class="pre">bin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">method</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tstart</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tstop</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">event_deadtime</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2.6e-06</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overflow_deadtime</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-05</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/primitives.html#EventList.bin"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.primitives.EventList.bin" title="Permalink to this definition">¶</a></dt>
<dd><p>Bin the EventList in time given a binning function and return a
2D time-energy channel histogram.</p>
<p>The binning function should take as input an array of times as well
as a tstart and tstop keywords for partial list binning.  Additional
arguments and keyword arguments specific to the function are allowed.
The function should return an array of time edges for the bins, such
that, for <cite>n</cite> bins, there are <cite>n</cite> + 1 edges.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>method</strong> (<em>&lt;function&gt;</em>) – A binning function</p></li>
<li><p><strong>*args</strong> – Arguments to be passed to the binning function</p></li>
<li><p><strong>tstart</strong> (<em>float</em><em>, </em><em>optional</em>) – If set, defines the start time of the EventList to be binned,
otherwise binning will begin at the time of the first event.</p></li>
<li><p><strong>tstop</strong> (<em>float</em><em>, </em><em>optional</em>) – If set, defines the end time of the EventList to be binned,
otherwise binning will end at the time of the last event.</p></li>
<li><p><strong>event_deadtime</strong> (<em>float</em><em>, </em><em>optional</em>) – The deadtime per event in seconds.
Default is 2.6e-6.</p></li>
<li><p><strong>overflow_deadtime</strong> (<em>float</em><em>, </em><em>optional</em>) – The deadtime per event in the overflow channel in seconds.
Default is 1e-5.</p></li>
<li><p><strong>**kwargs</strong> – Options to be passed to the binning function</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#gbm.data.primitives.TimeEnergyBins" title="gbm.data.primitives.TimeEnergyBins"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeEnergyBins</span></code></a> – A Time-Energy Channel histogram</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.primitives.EventList.channel_slice">
<span class="sig-name descname"><span class="pre">channel_slice</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">chanlo</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chanhi</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/primitives.html#EventList.channel_slice"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.primitives.EventList.channel_slice" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform a slice in energy channels of the EventList and return a
new EventList</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>chanlo</strong> (<em>int</em>) – The start of the channel slice</p></li>
<li><p><strong>chanhi</strong> (<em>int</em>) – The end of the channel slice</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#gbm.data.primitives.EventList" title="gbm.data.primitives.EventList"><code class="xref py py-class docutils literal notranslate"><span class="pre">EventList</span></code></a> – A new EventList object containing the channel slice</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.primitives.EventList.energy_slice">
<span class="sig-name descname"><span class="pre">energy_slice</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">emin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">emax</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/primitives.html#EventList.energy_slice"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.primitives.EventList.energy_slice" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform a slice in energy of the EventList and return a new EventList.
Since energies are binned, an emin or emax falling inside of an energy
channel bin will include that bin in the slice.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>emin</strong> (<em>float</em>) – The start of the energy slice</p></li>
<li><p><strong>emax</strong> (<em>float</em>) – The end of the energy slice</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#gbm.data.primitives.EventList" title="gbm.data.primitives.EventList"><code class="xref py py-class docutils literal notranslate"><span class="pre">EventList</span></code></a> – A new EventList object containing the energy slice</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.primitives.EventList.from_fits_array">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_fits_array</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">events_arr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ebounds</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/primitives.html#EventList.from_fits_array"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.primitives.EventList.from_fits_array" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an EventList object from TTE FITS arrays</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>events_arr</strong> (<em>np.recarray</em><em> or </em><em>astropy.io.fits.fitsrec.FITS_rec</em>) – The TTE events array</p></li>
<li><p><strong>ebounds</strong> (<em>np.recarray</em><em> or </em><em>astropy.io.fits.fitsrec.FITS_rec</em>) – The TTE Ebounds array, mapping channel numbers to energy bins</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#gbm.data.primitives.EventList" title="gbm.data.primitives.EventList"><code class="xref py py-class docutils literal notranslate"><span class="pre">EventList</span></code></a> – The new EventList</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.primitives.EventList.from_lists">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_lists</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">times_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pha_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chan_lo</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chan_hi</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/primitives.html#EventList.from_lists"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.primitives.EventList.from_lists" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an EventList object from lists of times, channels,
and the channel bounds. The list of times and channels must be the
same length, and the list of channel boundaries are used to map the
PHA index number in <cite>pha_list</cite> to energy channels.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>times_list</strong> (<em>list of float</em>) – A list of event times</p></li>
<li><p><strong>pha_list</strong> (<em>list of int</em>) – A list of PHA channels. Must be same length
as <cite>times_list</cite>.</p></li>
<li><p><strong>chan_lo</strong> (<em>list of float</em>) – A list of the lower edges for the energy
channels.</p></li>
<li><p><strong>chan_hi</strong> (<em>list of float</em>) – A list of the upper edges for the energy
channels. Must be same length as <cite>chan_hi</cite>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#gbm.data.primitives.EventList" title="gbm.data.primitives.EventList"><code class="xref py py-class docutils literal notranslate"><span class="pre">EventList</span></code></a> – The new EventList</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.primitives.EventList.get_exposure">
<span class="sig-name descname"><span class="pre">get_exposure</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time_ranges</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">event_deadtime</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2.6e-06</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overflow_deadtime</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-05</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/primitives.html#EventList.get_exposure"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.primitives.EventList.get_exposure" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the total exposure of a time range or time ranges of data</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>time_ranges</strong> (<em>[</em><em>(</em><em>float</em><em>, </em><em>float</em><em>)</em><em>, </em><em>...</em><em>]</em><em>, </em><em>optional</em>) – The time range or time ranges over which to calculate the
exposure. If omitted, calculates the total exposure of the data.</p></li>
<li><p><strong>event_deadtime</strong> (<em>float</em><em>, </em><em>optional</em>) – The deadtime per event in seconds.
Default is 2.6e-6.</p></li>
<li><p><strong>overflow_deadtime</strong> (<em>float</em><em>, </em><em>optional</em>) – The deadtime per event in the overflow channel in seconds.
Default is 1e-5.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>float</em> – The exposure of the time selections</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.primitives.EventList.merge">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">merge</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">eventlists</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sort_attrib</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_unique</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/primitives.html#EventList.merge"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.primitives.EventList.merge" title="Permalink to this definition">¶</a></dt>
<dd><p>Merge multiple EventLists together in time and optionally sort.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>eventlist</strong> (list of <a class="reference internal" href="#gbm.data.primitives.EventList" title="gbm.data.primitives.EventList"><code class="xref py py-class docutils literal notranslate"><span class="pre">EventList</span></code></a>) – A list containing the EventLists to be merged</p></li>
<li><p><strong>sort_attrib</strong> (<em>str</em><em>, </em><em>optional</em>) – The name of the EventList attribute to sort, either ‘TIME’ or ‘PHA’</p></li>
<li><p><strong>force_unique</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, force all events to be unique via brute force sorting.
If False, the EventLists will only be checked and masked for
overlapping time ranges. Events can potentially be lost if the
merged EventLists contain overlapping times (but not necessarily
duplicate events), however this method is much faster.
Default is False.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#gbm.data.primitives.EventList" title="gbm.data.primitives.EventList"><code class="xref py py-class docutils literal notranslate"><span class="pre">EventList</span></code></a> – A new EventList object containing the merged                                 EventLists</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.primitives.EventList.rebin_energy">
<span class="sig-name descname"><span class="pre">rebin_energy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">method</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/primitives.html#EventList.rebin_energy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.primitives.EventList.rebin_energy" title="Permalink to this definition">¶</a></dt>
<dd><p>Rebin the PHA channels using the specified binning algorithm.  This
does not change the number of events in the EventList, but changes their
assignment to a PHA channel and bins the energy bounds mapping to those
channels.  A new EventList object is returned.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>method</strong> (<em>&lt;function&gt;</em>) – A binning function</p></li>
<li><p><strong>*args</strong> – Arguments to be passed to the binning function</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>class:<a href="#id2"><span class="problematic" id="id3">`</span></a>EventList: A new EventList object with the rebinned PHA channels</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.primitives.EventList.sort">
<span class="sig-name descname"><span class="pre">sort</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">attrib</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/primitives.html#EventList.sort"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.primitives.EventList.sort" title="Permalink to this definition">¶</a></dt>
<dd><p>In-place sort by attribute.  Either by ‘TIME’ or ‘PHA’</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>attrib</strong> (<em>str</em>) – The name of the EventList attribute,
either ‘TIME’ or ‘PHA’</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.primitives.EventList.time_slice">
<span class="sig-name descname"><span class="pre">time_slice</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tstart</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tstop</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/primitives.html#EventList.time_slice"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.primitives.EventList.time_slice" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform a slice in time of the EventList and return a new EventList</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tstart</strong> (<em>float</em>) – The start of the time slice</p></li>
<li><p><strong>tstop</strong> (<em>float</em>) – The end of the time slice</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#gbm.data.primitives.EventList" title="gbm.data.primitives.EventList"><code class="xref py py-class docutils literal notranslate"><span class="pre">EventList</span></code></a> – A new EventList object containing the time slice</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<hr class="docutils" />
<div class="section" id="gti">
<h3>GTI<a class="headerlink" href="#gti" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="gbm.data.primitives.GTI">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">gbm.data.primitives.</span></span><span class="sig-name descname"><span class="pre">GTI</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tstart</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tstop</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/primitives.html#GTI"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.primitives.GTI" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A primitive class defining a set of Good Time Intervals (GTIs)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tstart</strong> (<em>float</em>) – The start time of the GTI</p></li>
<li><p><strong>tstop</strong> (<em>float</em>) – The end time of the GTI</p></li>
</ul>
</dd>
<dt class="field-even">Attributes</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>num_intervals</strong> (<em>int</em>) – The number of intervals in the GTI</p></li>
<li><p><strong>range</strong> (<em>float, float</em>) – The full range of the GTI</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.primitives.GTI.as_list">
<span class="sig-name descname"><span class="pre">as_list</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/primitives.html#GTI.as_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.primitives.GTI.as_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the GTI as a list of tuples.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><em>[(float, float), …]</em> – The list of GTI interval tuples</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.primitives.GTI.contains">
<span class="sig-name descname"><span class="pre">contains</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">a_time</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inclusive</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/primitives.html#GTI.contains"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.primitives.GTI.contains" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine if the GTI contains a time.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>a_time</strong> (<em>float</em>) – The input time to check</p></li>
<li><p><strong>inclusive</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, then includes the edges of the range for the check,
otherwise it is edge-exclusive. Default is True.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>bool</em> – True if the time is in the GTI, False otherwise</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.primitives.GTI.from_boolean_mask">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_boolean_mask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">times</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mask</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/primitives.html#GTI.from_boolean_mask"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.primitives.GTI.from_boolean_mask" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new GTI object from a list of times and a Boolean mask
Splits the boolean mask into segments of contiguous values and applies
to array of times to create a GTI object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>times</strong> (<em>np.array</em>) – An array of times</p></li>
<li><p><strong>mask</strong> (<em>np.array</em><em>(</em><em>dtype=bool</em><em>)</em>) – The boolean array. Must be the same
size as times.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#gbm.data.primitives.GTI" title="gbm.data.primitives.GTI"><code class="xref py py-class docutils literal notranslate"><span class="pre">GTI</span></code></a> – The new GTI object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.primitives.GTI.from_list">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">gti_list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/primitives.html#GTI.from_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.primitives.GTI.from_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new GTI object from a list of tuples.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>gti_list</strong> (<em>[</em><em>(</em><em>float</em><em>, </em><em>float</em><em>)</em><em>, </em><em>...</em><em>]</em>) – A list of interval tuples</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#gbm.data.primitives.GTI" title="gbm.data.primitives.GTI"><code class="xref py py-class docutils literal notranslate"><span class="pre">GTI</span></code></a> – The new GTI object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.primitives.GTI.insert">
<span class="sig-name descname"><span class="pre">insert</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tstart</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tstop</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/primitives.html#GTI.insert"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.primitives.GTI.insert" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert a new interval into the GTI</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tstart</strong> (<em>float</em>) – The start time of the new interval</p></li>
<li><p><strong>tstop</strong> (<em>float</em>) – The end time of the new interval</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.primitives.GTI.merge">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">merge</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">gti1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gti2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/primitives.html#GTI.merge"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.primitives.GTI.merge" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a new GTI object that is a merge of two existing GTI objects.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>gti1</strong> (<a class="reference internal" href="#gbm.data.primitives.GTI" title="gbm.data.primitives.GTI"><code class="xref py py-class docutils literal notranslate"><span class="pre">GTI</span></code></a>) – A GTI to be merged</p></li>
<li><p><strong>gti2</strong> (<a class="reference internal" href="#gbm.data.primitives.GTI" title="gbm.data.primitives.GTI"><code class="xref py py-class docutils literal notranslate"><span class="pre">GTI</span></code></a>) – A GTI to be merged</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#gbm.data.primitives.GTI" title="gbm.data.primitives.GTI"><code class="xref py py-class docutils literal notranslate"><span class="pre">GTI</span></code></a> – The new merged GTI object</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="gbm.data.primitives.GTI.range">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">range</span></span><a class="headerlink" href="#gbm.data.primitives.GTI.range" title="Permalink to this definition">¶</a></dt>
<dd><p>The full range of the GTI</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>(float, float)</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<hr class="docutils" />
<div class="section" id="timerange">
<h3>TimeRange<a class="headerlink" href="#timerange" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="gbm.data.primitives.TimeRange">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">gbm.data.primitives.</span></span><span class="sig-name descname"><span class="pre">TimeRange</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tstart</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tstop</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/primitives.html#TimeRange"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.primitives.TimeRange" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A primitive class defining a time range</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tstart</strong> (<em>float</em>) – The start time of the range</p></li>
<li><p><strong>tstop</strong> (<em>float</em>) – The end time of the range</p></li>
</ul>
</dd>
<dt class="field-even">Attributes</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>center</strong> (<em>float</em>) – The center of the time range</p></li>
<li><p><strong>duration</strong> (<em>float</em>) – The duration of the time range</p></li>
<li><p><strong>tstart</strong> (<em>float</em>) – The start time of the range</p></li>
<li><p><strong>tstop</strong> (<em>float</em>) – The end time of the range</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.primitives.TimeRange.as_tuple">
<span class="sig-name descname"><span class="pre">as_tuple</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/primitives.html#TimeRange.as_tuple"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.primitives.TimeRange.as_tuple" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the time range as a tuple.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><em>(float, float)</em> – The starting and ending time of the time range</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.primitives.TimeRange.contains">
<span class="sig-name descname"><span class="pre">contains</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">a_time</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inclusive</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/primitives.html#TimeRange.contains"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.primitives.TimeRange.contains" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine if the time range contains a time.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>a_time</strong> (<em>float</em>) – The input time to check</p></li>
<li><p><strong>inclusive</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, then includes the edges of the range for the check,
otherwise it is edge-exclusive. Default is True.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>bool</em> – True if the time is in the time range, False otherwise</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.primitives.TimeRange.intersection">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">intersection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">range1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">range2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/primitives.html#TimeRange.intersection"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.primitives.TimeRange.intersection" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a new TimeRange that is the intersection of two input
TimeRanges.  If the input TimeRanges do not intersect, then None is
returned.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>range1</strong> (<a class="reference internal" href="#gbm.data.primitives.TimeRange" title="gbm.data.primitives.TimeRange"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeRange</span></code></a>) – A time range used to calculate the
intersection</p></li>
<li><p><strong>range2</strong> (<a class="reference internal" href="#gbm.data.primitives.TimeRange" title="gbm.data.primitives.TimeRange"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeRange</span></code></a>) – Another time range used to calculate
the intersection</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#gbm.data.primitives.TimeRange" title="gbm.data.primitives.TimeRange"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeRange</span></code></a> – The intersected time range</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gbm.data.primitives.TimeRange.union">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">union</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">range1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">range2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gbm/data/primitives.html#TimeRange.union"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gbm.data.primitives.TimeRange.union" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a new TimeRange that is the union of two input TimeRanges</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>range1</strong> (<a class="reference internal" href="#gbm.data.primitives.TimeRange" title="gbm.data.primitives.TimeRange"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeRange</span></code></a>) – A time range used to calculate the union</p></li>
<li><p><strong>range2</strong> (<a class="reference internal" href="#gbm.data.primitives.TimeRange" title="gbm.data.primitives.TimeRange"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeRange</span></code></a>) – Another time range used to calculate
the union</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#gbm.data.primitives.TimeRange" title="gbm.data.primitives.TimeRange"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeRange</span></code></a> – The unionized time range</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<hr class="docutils" />
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="api-binning.html" class="btn btn-neutral float-right" title="Data Binning Module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="index.html" class="btn btn-neutral float-left" title="GBM Data Tools API" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright .

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>